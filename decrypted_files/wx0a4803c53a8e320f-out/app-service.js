	var __wxAppData = __wxAppData || {}; 	var __wxRoute = __wxRoute || ""; 	var __wxRouteBegin = __wxRouteBegin || ""; 	var __wxAppCode__ = __wxAppCode__ || {};	var global = global || {};	var __WXML_GLOBAL__=__WXML_GLOBAL__ || {};	var __wxAppCurrentFile__=__wxAppCurrentFile__||""; 	var Component = Component || function(){};	var definePlugin = definePlugin || function(){};	var requirePlugin = requirePlugin || function(){};	var Behavior = Behavior || function(){};
	
	define("data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e={},a=require("theme-config.js");e.styleConfig=a.blue_new,e.isPerson=!1,e.setting={name:"延安建材平台  ",autoId:"61737",hasWxPay:!0,wxAppId:"wx0a4803c53a8e320f",secret:"1fdd9ec3fe4788f3f1d9411d9df248b1",comUrl:"https://mg.vzmapp.com",payUrl:"https://pay-gw.vzmapp.com"},e.dataInfo={appId:"2c92cf4e64dd1d6f0164df7ef5521e3d",theme:{name:"blue_new",mainColor:"#80B8F9",foregroundColor:"white",mainColorHighlight:"#91C2F8",mainRGB:{r:128,g:184,b:249},tabSelectIconKey:"tab_blue_new",navigationBarTextStyle:"white",backgroundTextStyle:"dark",remark:"通用蓝色风格2"},projectType:"o2o-shop",homePageLayout:"1",version:"1.0.0",versionDesc:"",ext:{},projectIcon:"http://img1.vzmapp.com/TabIconLib/icon-wip-app-011.png",projectName:"延安建材平台  ",PCStatus:"2",customizeTabsList:[{id:"2c92cf4e64dd1d6f0164df7ef6061e76",sysTabName:"Home-Page",sysTabNameTag:"LynxHomePage",pcModule:"Home-Page",iconURL:"http://img1.vzmapp.com/uploadPic/2017/03/21/20170321050615068.png",folder:"HomePage",tabTitle:"首页"},{id:"2c92cf4e64dd1d6f0164df7f17ae1faa",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"PCAdevertising",pcModule:"HOMEPAGE_TOP",iconURL:"http://img1.vzmapp.com/TabIconLib/orange/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"PC首页顶部广告"},{id:"2c92cf4e64dd1d6f0164df7ef5621e3f",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"PCAdevertising",pcModule:"HOMEPAGE_MIDDLE",iconURL:"http://img1.vzmapp.com/TabIconLib/orange/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"PC首页中部广告"},{id:"2c92cf4e64dd1d6f0164df7f178e1fa5",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"PCAdevertising",pcModule:"HOMEPAGE_BOTTOM",iconURL:"http://img1.vzmapp.com/TabIconLib/orange/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"PC首页底部广告"},{id:"2c92cf4e64dd1d6f0164df7ef6321e88",sysTabName:"Branches-Enquiry",sysTabNameTag:"LynxAbout_Merchant",pcModule:"Branches-Enquiry",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655338.png",folder:"BranchesEnquiry",tabTitle:"品牌店铺"},{id:"2c92cf4e64dd1d6f0164df7ef5ef1e60",sysTabName:"Product-Level3",sysTabNameTag:"LynxProductList",pcModule:"Product-Level3",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022628107.png",folder:"ProductLevel3",tabTitle:"全部商品"},{id:"2c92cf4e64dd1d6f0164df7f17c11fad",sysTabName:"Activity-Distribution",sysTabNameTag:"",pcModule:"Activity-Distribution",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655448.png",folder:"ActivityDistribution",tabTitle:"全员分销"},{id:"2c92cf4e64dd1d6f0164df7f17ae1fa9",sysTabName:"Activity-Group",sysTabNameTag:"",pcModule:"Activity-Group",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655402.png",folder:"ActivityGroup",tabTitle:"拼团"},{id:"2c92cf4e64dd1d6f0164df7ef5a81e5c",sysTabName:"About-Merchant",sysTabNameTag:"LynxApplyFor_About_Merchant",pcModule:"About-Merchant",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718023135671.png",folder:"AboutMerchant",tabTitle:"商家入驻"},{id:"2c92cf4e64dd1d6f0164df7f17a31fa6",sysTabName:"Activity",sysTabNameTag:"",pcModule:"Activity",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655427.png",folder:"Activity",tabTitle:"优惠券"},{id:"2c92cf4e64dd1d6f0164df7ef5611e3e",sysTabName:"Activity-Kill",sysTabNameTag:"",pcModule:"Activity-Kill",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655344.png",folder:"ActivityKill",tabTitle:"秒杀"},{id:"2c92cf4e64dd1d6f0164df7f17761f97",sysTabName:"Photo-Info-Tab-Level2",sysTabNameTag:"",pcModule:"Photo-Info-Tab-Level2",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655436.png",folder:"PhotoInfoTabLevel2",tabTitle:"资讯中心"},{id:"2c92cf4e64dd1d6f0164df7ef60f1e7e",sysTabName:"Photo-Info-Tab-Level2",sysTabNameTag:"LynxPhoto_H_Info_Tab_Level2",pcModule:"Photo-Info-Tab-Level2",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655443.png",folder:"PhotoInfoTabLevel2",tabTitle:"资讯动态"},{id:"2c92cf4e64dd1d6f0164df7ef58a1e4b",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"LynxPhoto_Info_Post_Tab",pcModule:"Photo-Info-Tab-Level1",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655356.png",folder:"PhotoInfoTabLevel1",tabTitle:"供/求信息"},{id:"2c92cf4e64dd1d6f0164df7ef5eb1e5e",sysTabName:"Video-Gallery",sysTabNameTag:"Video_Gallery",pcModule:"Video-Gallery",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655417.png",folder:"VideoGallery",tabTitle:"企业宣传"},{id:"2c92cf4e64dd1d6f0164df7f17541f89",sysTabName:"Flexi-Form",sysTabNameTag:"",pcModule:"Flexi-Form",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655347.png",folder:"FlexiForm",tabTitle:"定制服务"},{id:"2c92cf4e64dd1d6f0164df7f176d1f94",sysTabName:"Online-Chat",sysTabNameTag:"",pcModule:"Online-Chat",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655340.png",folder:"OnlineChat",tabTitle:"在线客服"},{id:"2c92cf4e64dd1d6f0164df7ef5851e45",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"LynxAdvertisingH_Photo_Info_Tab_Level1",pcModule:"Photo-Info-Tab-Level1",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"资讯广告"},{id:"2c92cf4e64dd1d6f0164df7ef5a41e5a",sysTabName:"About-Merchant",sysTabNameTag:"",pcModule:"About-Merchant",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655353.png",folder:"AboutMerchant",tabTitle:"关于我们"},{id:"2c92cf4e64dd1d6f0164df7ef6061e75",sysTabName:"Product-Order",sysTabNameTag:"ZXMarketModuleOrder",pcModule:"Product-Order",iconURL:"http://img1.vzmapp.com/TabIconLib/green/icon-0028.png",folder:"ProductOrder",tabTitle:"订单列表"},{id:"2c92cf4e64dd1d6f0164df7ef5671e40",sysTabName:"Flexi-Form",sysTabNameTag:"Flexi-Form-Booking",pcModule:"Flexi-Form-Booking",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0010.png",folder:"FlexiForm",tabTitle:"预约信息"},{id:"2c92cf4e64dd1d6f0164df7ef56e1e41",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"PCAdevertising_top",pcModule:"Photo-Info-Tab-Level1",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"顶部广告"},{id:"2c92cf4e64dd1d6f0164df7f17a71fa7",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"PCAdevertising_activity",pcModule:"Photo-Info-Tab-Level1",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"优惠券广告"},{id:"2c92cf4e64dd1d6f0164df7f17c11fae",sysTabName:"CardNo",sysTabNameTag:"",pcModule:"",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655486.png",folder:"CardNo",tabTitle:"电子会员卡"},{id:"2c92cf4e64dd1d6f0164df7f174a1f87",sysTabName:"Member",sysTabNameTag:"",pcModule:"Member",iconURL:"http://img1.vzmapp.com/uploadPic/2018/07/18/20180718022655486.png",folder:"Member",tabTitle:"会员中心"},{id:"2c92cf4e64dd1d6f0164df7ef5721e43",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"PCAdevertising_mid",pcModule:"Photo-Info-Tab-Level1",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"中部广告"},{id:"2c92cf4e64dd1d6f0164df7ef5811e44",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"PCAdevertising_btm",pcModule:"Photo-Info-Tab-Level1",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0021.png",folder:"PhotoInfoTabLevel1",tabTitle:"底部广告"},{id:"2c92cf4e64dd1d6f0164df7f178e1fa4",sysTabName:"taoShangChengFT",sysTabNameTag:"",pcModule:"taoShangChengFT",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0002.png",folder:"taoShangChengFT",tabTitle:"运费模板"},{id:"2c92cf4e64dd1d6f0164df7f17591f91",sysTabName:"Circle",sysTabNameTag:"",pcModule:"Circle",iconURL:"http://img1.vzmapp.com/TabIconLib/green/icon-0005.png",folder:"Circle",tabTitle:"朋友圈"},{id:"2c92cf4e64dd1d6f0164df7f178c1fa2",sysTabName:"Share",sysTabNameTag:"",pcModule:"Share",iconURL:"http://img1.vzmapp.com/TabIconLib/orange/icon-0036.png",folder:"Share",tabTitle:"二维码分享"},{id:"2c92cf4e64dd1d6f0164df7f17bd1fac",sysTabName:"About-Merchant",sysTabNameTag:"SQ_CallMe",pcModule:"PC",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0055.png",folder:"AboutMerchant",tabTitle:"PC配置"},{id:"2c92cf4e64dd1d6f0164df7f17591f90",sysTabName:"LongPush",sysTabNameTag:"",pcModule:"LongPush",iconURL:"http://img1.vzmapp.com/TabIconLib/blue/icon-0029.png",folder:"LongPush",tabTitle:"信息中心"},{id:"2c92cf4e64dd1d6f0164df7f17881fa1",sysTabName:"Photo-Gallery",sysTabNameTag:"",pcModule:"Photo-Gallery",iconURL:"http://img1.vzmapp.com/TabIconLib/blue/icon-0035.png",folder:"PhotoGallery",tabTitle:"中心认证"},{id:"2c92cf4e64dd1d6f0164df7ef59b1e58",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"LynxcLink_Web_Info_Tab",pcModule:"Photo-Info-Tab-Level1",iconURL:"http://img1.vzmapp.com/TabIconLib/red/icon-0025.png",folder:"PhotoInfoTabLevel1",tabTitle:"便民服务"},{id:"2c92cf4e64dd1d6f0164df7ef5961e56",sysTabName:"User-Feedback",sysTabNameTag:"",pcModule:"User-Feedback",iconURL:"http://img1.vzmapp.com/TabIconLib/blue/icon-0059.png",folder:"UserFeedback",tabTitle:"留言反馈"},{id:"2c92cf4e64dd1d6f0164df7f178d1fa3",sysTabName:"Lynxforum",sysTabNameTag:"",pcModule:"Lynxforum",iconURL:"http://img1.vzmapp.com/TabIconLib/red/icon-0030.png",folder:"Lynxforum",tabTitle:"论坛"},{id:"2c92cf4e64dd1d6f0164df7f17591f92",sysTabName:"About-Team",sysTabNameTag:"",pcModule:"About-Team",iconURL:"http://img1.vzmapp.com/TabIconLib/red/icon-0055.png",folder:"AboutTeam",tabTitle:"联系我们"},{id:"2c92cf4e64dd1d6f0164df7f17721f96",sysTabName:"Roulette-Lottery",sysTabNameTag:"",pcModule:"Roulette-Lottery",iconURL:"http://img1.vzmapp.com/TabIconLib/orange/icon-0034.png",folder:"RouletteLottery",tabTitle:"抽奖活动"},{id:"2c92cf4e64dd1d6f0164df7f17b91fab",sysTabName:"About-Merchant",sysTabNameTag:"About-APP",pcModule:"About-APP",iconURL:"http://img1.vzmapp.com/TabIconLib/icon-0022.png",folder:"AboutMerchant",tabTitle:"应用描述"},{id:"2c92cf4e64dd1d6f0164df7ef60e1e7d",sysTabName:"More",sysTabNameTag:"",pcModule:"More",iconURL:"http://img1.vzmapp.com/uploadPic/2017/03/21/20170321050655906.png",folder:"More",tabTitle:"更多"}]},module.exports=e; 
 			}); 
		define("img/data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e={},c={custom:{mainColor:"#3388FF",foregroundColor:"#FFFFFF",mainColorHighlight:"#1571FA",mainRGB:{r:51,g:136,b:255},tabSelectIconKey:"tab_blue"},orange:{mainColor:"#FF903C",foregroundColor:"white",mainColorHighlight:"#DD6408",mainRGB:{r:255,g:144,b:60},tabSelectIconKey:"tab_orange"},red:{mainColor:"#E50029",foregroundColor:"white",mainColorHighlight:"#AC3B39",mainRGB:{r:221,g:0,b:41},tabSelectIconKey:"tab_red"},blue:{mainColor:"#3388FF",foregroundColor:"white",mainColorHighlight:"#1571FA",mainRGB:{r:51,g:136,b:255},tabSelectIconKey:"tab_blue"},blue_new:{mainColor:"#80B8F9",foregroundColor:"white",mainColorHighlight:"#91C2F8",mainRGB:{r:128,g:184,b:249},tabSelectIconKey:"tab_blue_new"},pink:{mainColor:"#E272A7",foregroundColor:"white",mainColorHighlight:"#E58AB5",mainRGB:{r:226,g:114,b:167},tabSelectIconKey:"tab_pink"},green:{mainColor:"#73B448",foregroundColor:"white",mainColorHighlight:"#8BC267",mainRGB:{r:115,g:180,b:72},tabSelectIconKey:"tab_green"},brownLight:{mainColor:"#D8B98A",foregroundColor:"white",mainColorHighlight:"#8D6D54",mainRGB:{r:216,g:185,b:138},tabSelectIconKey:"tab_brown"},brownDark:{mainColor:"#503518",foregroundColor:"white",mainColorHighlight:"#8D6D54",mainRGB:{r:80,g:53,b:24},tabSelectIconKey:"tab_brown_dark"},white_in_red:{isWhite:!0,mainColor:"#E50029",foregroundColor:"white",mainColorHighlight:"#AC3B39",mainRGB:{r:221,g:0,b:41},tabSelectIconKey:"tab_red"}};e.styleConfig=c.brownLight,e.isPerson="false",e.setting={name:"皮肤保养中心888",autoId:"42752",hasWxPay:!1,wxAppId:"wxc29a5eb29192d13b",secret:"dd358f5550aa33bd0e5ce492c06bc89b",comUrl:"https://mg.vzmapp.com",payUrl:"https://pay-gw.vzmapp.com"},e.dataInfo={appId:"2c92cf3c5cb40f6d015cc38c36ad1d27",projectIcon:"http://img1.scspcn.com/TabIconLib/icon-wip-app-011.png",projectName:"皮肤保养中心888",PCStatus:"2",customizeTabsList:[{id:"2c92cf3c5cb40f6d015cc38c36db1d4c",sysTabName:"Home-Page",sysTabNameTag:"LynxHomePage",iconURL:"../../../images/icon/20170619110259831.png",folder:"HomePage",tabTitle:"首页"},{id:"2c92cf3c5cb40f6d015cc38c36d41d3e",sysTabName:"Product-Level3",sysTabNameTag:"LynxProductList",iconURL:"../../../images/icon/20170619110233468.png",folder:"ProductLevel3",tabTitle:"全部商品"},{id:"2c92cf3c5cb40f6d015cc38c37a61df4",sysTabName:"Photo-Info-Tab-Level2",sysTabNameTag:"",iconURL:"../../../images/icon/20170619110250541.png",folder:"PhotoInfoTabLevel2",tabTitle:"资讯中心"},{id:"2c92cf3c5cb40f6d015cc38c36e21d54",sysTabName:"Photo-Info-Tab-Level2",sysTabNameTag:"LynxPhoto_H_Info_Tab_Level2",iconURL:"../../../images/icon/20170619110250578.png",folder:"PhotoInfoTabLevel2",tabTitle:"创业资讯"},{id:"2c92cf3c5cb40f6d015cc38c36c11d31",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"LynxPhoto_Info_Post_Tab",iconURL:"../../../images/icon/20170619110250882.png",folder:"PhotoInfoTabLevel1",tabTitle:"供求关系"},{id:"2c92cf3c5cb40f6d015cc38c36eb1d67",sysTabName:"Branches-Enquiry",sysTabNameTag:"LynxAbout_Merchant",iconURL:"../../../images/icon/20170619110250870.png",folder:"BranchesEnquiry",tabTitle:"品牌店铺"},{id:"2c92cf3c5cb40f6d015cc38c36d21d3c",sysTabName:"Video-Gallery",sysTabNameTag:"Video_Gallery",iconURL:"../../../images/icon/20170619110250853.png",folder:"VideoGallery",tabTitle:"企业宣传"},{id:"2c92cf3c5cb40f6d015cc38c37911de3",sysTabName:"Flexi-Form",sysTabNameTag:"",iconURL:"../../../images/icon/20170619110250942.png",folder:"FlexiForm",tabTitle:"定制服务"},{id:"2c92cf3c5cb40f6d015cc38c379d1def",sysTabName:"Online-Chat",sysTabNameTag:"",iconURL:"../../../images/icon/20170619110259842.png",folder:"OnlineChat",tabTitle:"在线客服"},{id:"2c92cf3c5cb40f6d015cc38c378b1de1",sysTabName:"Member",sysTabNameTag:"",iconURL:"../../../images/icon/20140811103813342.png",folder:"Member",tabTitle:"会员"},{id:"2c92cf3c5cb40f6d015cc38c37b81e0d",sysTabName:"taoShangChengFT",sysTabNameTag:"",iconURL:"../../../images/icon/icon-0002.png",folder:"taoShangChengFT",tabTitle:"运费模板"},{id:"2c92cf3c5cb40f6d015cc38c36da1d4b",sysTabName:"Product-Order",sysTabNameTag:"ZXMarketModuleOrder",iconURL:"../../../images/icon/icon-0028.png",folder:"ProductOrder",tabTitle:"订单列表"},{id:"2c92cf3c5cb40f6d015cc38c37a01df2",sysTabName:"Roulette-Lottery",sysTabNameTag:"",iconURL:"../../../images/icon/icon-0014.png",folder:"RouletteLottery",tabTitle:"抽奖活动"},{id:"2c92cf3c5cb40f6d015cc38c36c81d36",sysTabName:"Photo-Info-Tab-Level1",sysTabNameTag:"LynxcLink_Web_Info_Tab",iconURL:"../../../images/icon/icon-0025.png",folder:"PhotoInfoTabLevel1",tabTitle:"便民服务"},{id:"2c92cf3c5cb40f6d015cc38c37b61e0c",sysTabName:"Lynxforum",sysTabNameTag:"",iconURL:"../../../images/icon/20150129120727702.png",folder:"Lynxforum",tabTitle:"论坛中心"},{id:"2c92cf3c5cb40f6d015cc38c37b51e0b",sysTabName:"Share",sysTabNameTag:"",iconURL:"../../../images/icon/20140811111350728.png",folder:"Share",tabTitle:"二维码分享"},{id:"2c92cf3c5cb40f6d015cc38c36c61d35",sysTabName:"User-Feedback",sysTabNameTag:"",iconURL:"../../../images/icon/20140811111421259.png",folder:"UserFeedback",tabTitle:"留言反馈"},{id:"2c92cf3c5cb40f6d015cc38c37961deb",sysTabName:"Circle",sysTabNameTag:"",iconURL:"../../../images/icon/20140811111618414.png",folder:"Circle",tabTitle:"朋友圈"},{id:"2c92cf3c5cb40f6d015cc38c37951dea",sysTabName:"LongPush",sysTabNameTag:"",iconURL:"../../../images/icon/icon-0029.png",folder:"LongPush",tabTitle:"信息中心"},{id:"2c92cf3c5cb40f6d015cc38c37b11e08",sysTabName:"Photo-Gallery",sysTabNameTag:"",iconURL:"../../../images/icon/icon-0003.png",folder:"PhotoGallery",tabTitle:"中心认证"},{id:"2c92cf3c5cb40f6d015cc38c36cd1d38",sysTabName:"About-Merchant",sysTabNameTag:"",iconURL:"../../../images/icon/icon-0022.png",folder:"AboutMerchant",tabTitle:"关于我们"},{id:"2c92cf3c5cb40f6d015cc38c37971dec",sysTabName:"About-Team",sysTabNameTag:"",iconURL:"../../../images/icon/icon-0034.png",folder:"AboutTeam",tabTitle:"联系我们"},{id:"2c92cf3c5cb40f6d015cc38c36e11d53",sysTabName:"More",sysTabNameTag:"",iconURL:"../../../images/icon/20160530023515537.png",folder:"More",tabTitle:"更多"}]},module.exports=e; 
 			}); 
		define("pages/self/acountInformation/qrCode/qrCode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{imgPath:"",sex:""},onLoad:function(){},onShow:function(){this.setData({imgPath:a.globalData.wxUserInfo.avatarUrl,sex:a.globalData.wxUserInfo.sex})},followtap:function(){wx.navigateTo({url:"../login/login"})}}); 
 			}); 
		define("pages/self/cart_bak/cart.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t="",r="";Page({data:{totalPrice:0,cartData:[],cartList:[],cartNull:!1},onLoad:function(a){r=a.from},onShow:function(){var t=this;if(t.data.totalPrice=0,this.setData({cartData:wx.getStorageSync("cartData"+a.globalData.autoId)||[]}),(wx.getStorageSync("cartData"+a.globalData.autoId)||[]).length>0){var r=wx.getStorageSync("cartData"+a.globalData.autoId);t.splitArr(r)}else wx.removeStorageSync("cartData"+a.globalData.autoId),wx.removeStorageSync("cartDataList"+a.globalData.autoId),t.setData({cartNull:!0})},splitArr:function(t){for(var r=0,e=function(a){for(var t,e=[],c={},o=0;null!=(t=a[o]);o++)c[t.branchInfoId]||(e.push(t.branchInfoId),c[t.branchInfoId]=!0),1==a[o].isSelected&&(r+=parseInt(a[o].count)*parseFloat(a[o].price));return e}(t),c=[],o=0;o<e.length;o++)for(var d=[],n={},i=0;i<t.length;i++)t[i].branchInfoId==e[o]&&(d.push(t[i]),n.branchInfoId=t[i].branchInfoId,n.branchName=t[i].branchName,n.pro=d,1==t[i].isSelected&&(n.isSelected=!0),c[o]=n);wx.setStorageSync("cartDataList"+a.globalData.autoId,c),this.setData({totalPrice:r.toFixed(2),cartList:c,cartNull:!1})},arrowuptap:function(t){var r=this;if(r.data.cartList[t.currentTarget.dataset.index].pro[t.currentTarget.dataset.proindex].count>1){r.data.cartList[t.currentTarget.dataset.index].pro[t.currentTarget.dataset.proindex].count=r.data.cartList[t.currentTarget.dataset.index].pro[t.currentTarget.dataset.proindex].count-1;for(var e=0;e<r.data.cartData.length;e++)r.data.cartData[e].moduleId==t.currentTarget.dataset.modleid&&(r.data.cartData[e].count=r.data.cartData[e].count-1);this.setData({cartList:r.data.cartList,cartData:r.data.cartData}),wx.setStorageSync("cartData"+a.globalData.autoId,r.data.cartData),r.splitArr(this.data.cartData)}},arrowdowntap:function(t){var r=this;r.data.cartList[t.currentTarget.dataset.index].pro[t.currentTarget.dataset.proindex].count=r.data.cartList[t.currentTarget.dataset.index].pro[t.currentTarget.dataset.proindex].count+1;for(var e=0;e<r.data.cartData.length;e++)r.data.cartData[e].moduleId==t.currentTarget.dataset.modleid&&(r.data.cartData[e].count=r.data.cartData[e].count+1);this.setData({cartList:r.data.cartList,cartData:r.data.cartData}),wx.setStorageSync("cartData"+a.globalData.autoId,r.data.cartData),r.splitArr(r.data.cartData)},bindCountInput:function(t){var r=this;parseInt(t.detail.value);if(parseInt(t.detail.value)>=1){r.data.cartList[t.currentTarget.dataset.index].pro[t.currentTarget.dataset.proindex].count=parseInt(t.detail.value);for(var e=0;e<r.data.cartData.length;e++)r.data.cartData[e].moduleId==t.currentTarget.dataset.modleid&&(r.data.cartData[e].count=parseInt(t.detail.value));return this.setData({cartList:r.data.cartList,cartData:r.data.cartData}),wx.setStorageSync("cartData"+a.globalData.autoId,r.data.cartData),r.splitArr(this.data.cartData),parseInt(t.detail.value)}return 1},delPro:function(t){var r=this;wx.showModal({title:"确定删除该商品？",success:function(e){if(e.confirm){for(var c=[],o=0;o<r.data.cartData.length;o++)r.data.cartData[o].moduleId!=t.currentTarget.dataset.modelid&&c.push(r.data.cartData[o]);r.setData({cartData:c}),wx.setStorageSync("cartData"+a.globalData.autoId,r.data.cartData),r.splitArr(r.data.cartData)}else e.cancel}})},toClearing:function(){if(""==(t=wx.getStorageSync("memberId"+a.globalData.autoId)||""))wx.navigateTo({url:"../../login/login"});else{for(var r=0,e=0;e<this.data.cartData.length;e++)this.data.cartData[e].isSelected&&r++;if(0==r)return void a.hint("请选择产品");var c=this;a.globalData.isPerson?wx.redirectTo({url:"../../order/order?proPrice="+c.data.totalPrice}):wx.navigateTo({url:"../../order/order?proPrice="+c.data.totalPrice})}},checkboxTap:function(t){var r=this;console.log(t.currentTarget.dataset.proid);for(var e=0;e<r.data.cartData.length;e++)t.currentTarget.dataset.proid==r.data.cartData[e].productId&&(1==r.data.cartData[e].isSelected?r.data.cartData[e].isSelected=!1:r.data.cartData[e].isSelected=!0);wx.setStorageSync("cartData"+a.globalData.autoId,r.data.cartData),r.splitArr(r.data.cartData)},toProList:function(){wx.switchTab({url:"../../product/product"})},toProDetail:function(a){wx.navigateTo({url:"../../product/pro-detail/pro-detail?productId="+a.currentTarget.dataset.pid})}}); 
 			}); 
		define("theme-config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e={custom:{name:"custom",mainColor:"#3388FF",foregroundColor:"#FFFFFF",mainColorHighlight:"#1571FA",mainRGB:{r:51,g:136,b:255},tabbarTextColor:"grey",tabbarTextSelectedColor:"#c471e7",tabbarBackgroundColor:"#FFF",tabSelectIconKey:"tab_blue",navigationBarBackgroundColor:"#3388FF",navigationBarTextStyle:"white",backgroundTextStyle:"dark",isWhite:!0,remark:"自定义的风格"},rab_blue:{name:"rab_blue",mainColor:"#3388FF",foregroundColor:"white",mainColorHighlight:"#1571FA",mainRGB:{r:51,g:136,b:255},tabSelectIconKey:"tab_blue",navigationBarTextStyle:"white",remark:"通用蓝色风格"},blue_green:{name:"blue_green",mainColor:"#54B8AF",foregroundColor:"white",mainColorHighlight:"#1571FA",mainRGB:{r:84,g:174,b:175},tabSelectIconKey:"tab_blue_green",navigationBarTextStyle:"white",remark:"通用蓝绿色风格"},blue_new:{name:"blue_new",mainColor:"#80B8F9",foregroundColor:"white",mainColorHighlight:"#91C2F8",mainRGB:{r:128,g:184,b:249},tabSelectIconKey:"tab_blue_new",navigationBarTextStyle:"white",remark:"通用蓝色风格2"},brown:{name:"brown",mainColor:"#9A700C",foregroundColor:"white",mainColorHighlight:"#91C2F8",mainRGB:{r:154,g:112,b:12},tabSelectIconKey:"tab_brown",navigationBarTextStyle:"white",remark:"通用深棕色风格"},brownDark:{name:"brownDark",mainColor:"#503518",foregroundColor:"white",mainColorHighlight:"#8D6D54",mainRGB:{r:80,g:53,b:24},tabSelectIconKey:"tab_brownDark",navigationBarTextStyle:"white",remark:"通用棕色风格深色"},brownLight:{name:"brownLight",mainColor:"#D8B98A",foregroundColor:"white",mainColorHighlight:"#8D6D54",mainRGB:{r:216,g:185,b:138},tabSelectIconKey:"tab_brownLight",navigationBarTextStyle:"white",remark:"通用棕色风格浅色"},dark_blue:{name:"dark_blue",mainColor:"#151f52",foregroundColor:"white",mainColorHighlight:"#4a65bb",mainRGB:{r:21,g:31,b:82},tabSelectIconKey:"tab_dark_blue",navigationBarTextStyle:"white",remark:"通用蓝色风格深色"},green:{name:"green",mainColor:"#73B448",foregroundColor:"white",mainColorHighlight:"#8BC267",mainRGB:{r:115,g:180,b:72},tabSelectIconKey:"tab_green",navigationBarTextStyle:"white",remark:"通用绿色风格"},orange:{name:"orange",mainColor:"#FF903C",foregroundColor:"white",mainColorHighlight:"#DD6408",mainRGB:{r:255,g:144,b:60},tabSelectIconKey:"tab_orange",navigationBarTextStyle:"white",remark:"通用橙色风格"},rose:{name:"rose",mainColor:"#E272A7",foregroundColor:"white",mainColorHighlight:"#E58AB5",mainRGB:{r:226,g:114,b:167},tabSelectIconKey:"tab_pink",navigationBarTextStyle:"white",remark:"通用玫红色风格"},pink:{name:"pink",mainColor:"#f78ea5",foregroundColor:"white",mainColorHighlight:"#e5b9ca",mainRGB:{r:247,g:142,b:165},tabSelectIconKey:"tab_pink",navigationBarTextStyle:"white",remark:"通用粉色风格"},red:{name:"red",mainColor:"#E50029",foregroundColor:"white",mainColorHighlight:"#AC3B39",mainRGB:{r:221,g:0,b:41},tabSelectIconKey:"tab_red",navigationBarTextStyle:"white",remark:"通用红色风格"},violet:{name:"violet",mainColor:"#c492e6",foregroundColor:"white",mainColorHighlight:"#6D5CFA",mainRGB:{r:196,g:146,b:230},tabSelectIconKey:"tab_violet",navigationBarTextStyle:"white",remark:"通用紫色风格"},deeppurple:{name:"deeppurple",mainColor:"#981064",foregroundColor:"white",mainColorHighlight:"#E557AF",mainRGB:{r:152,g:16,b:100},tabSelectIconKey:"tab_deeppurple",navigationBarTextStyle:"white",remark:"通用深紫色风格"},yellow:{name:"yellow",mainColor:"#E9C330",foregroundColor:"white",mainColorHighlight:"#AC3B39",mainRGB:{r:233,g:195,b:48},tabSelectIconKey:"tab_yellow",navigationBarTextStyle:"white",remark:"通用黄色风格"},white_in_red:{name:"white_in_red",isWhite:!0,mainColor:"#E50029",foregroundColor:"white",mainColorHighlight:"#AC3B39",mainRGB:{r:221,g:0,b:41},tabSelectIconKey:"tab_red",navigationBarBackgroundColor:"#FFF",navigationBarTextStyle:"black",remark:"通用红白风格"},enterprise_purple:{name:"enterprise_purple",mainColor:"#5143a6",tabbarTextColor:"#a8a1d3",foregroundColor:"white",mainColorHighlight:"#9a8de0",mainRGB:{r:196,g:146,b:230},navigationBarTextStyle:"black",remark:"企业版专用蓝紫色风格"},enterprise_dark_blue:{name:"enterprise_dark_blue",mainColor:"#151f52",tabbarTextColor:"#8387a3",foregroundColor:"white",mainColorHighlight:"#4a65bb",mainRGB:{r:21,g:31,b:82},navigationBarTextStyle:"black",remark:"企业版专用深蓝色风格"},enterprise_grey:{name:"enterprise_grey",mainColor:"#222",tabbarTextColor:"#999",foregroundColor:"white",mainColorHighlight:"#666",mainRGB:{r:2,g:2,b:2},navigationBarTextStyle:"black",remark:"企业版专用高级灰风格"},enterprise_doderBlue:{name:"enterprise_doderBlue",mainColor:"#1E90FF",tabbarTextColor:"#89c2ff",foregroundColor:"white",mainColorHighlight:"#666",mainRGB:{r:30,g:144,b:255},navigationBarTextStyle:"black",remark:"企业版专用道奇蓝风格"},enterprise_dark_cyan:{name:"enterprise_dark_cyan",mainColor:"#008B8B",tabbarTextColor:"#78c2c0",foregroundColor:"white",mainColorHighlight:"#666",mainRGB:{r:0,g:139,b:139},navigationBarTextStyle:"black",remark:"企业版专用深青色风格"},enterprise_forest_green:{name:"enterprise_forest_green",mainColor:"#228B22",tabbarTextColor:"#8bc38a",foregroundColor:"white",mainColorHighlight:"#666",mainRGB:{r:34,g:139,b:34},navigationBarTextStyle:"black",remark:"企业版专用森林绿风格"},enterprise_tomato:{name:"enterprise_tomato",mainColor:"#FF6347",tabbarTextColor:"#fdaa9d",foregroundColor:"white",mainColorHighlight:"#666",mainRGB:{r:255,g:99,b:71},navigationBarTextStyle:"black",remark:"企业版专用番茄色风格"},enterprise_dark_voilet:{name:"enterprise_dark_voilet",mainColor:"#9400D3",tabbarTextColor:"#c471e7",foregroundColor:"white",mainColorHighlight:"#666",mainRGB:{r:148,g:0,b:211},navigationBarTextStyle:"black",remark:"企业版专用深紫色风格"}};module.exports=e; 
 			}); 
		define("utils/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t){return(t=t.toString())[1]?t:"0"+t}module.exports={formatTime:function(e){var n=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),u=e.getHours(),i=e.getMinutes(),g=e.getSeconds();return[n,o,r].map(t).join("/")+" "+[u,i,g].map(t).join(":")}}; 
 			}); 
		define("utils/wxcharts.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])}return i}function e(t,e,i){if(isNaN(t))throw new Error("[wxCharts] unvalid series data!");i=i||10,e=e||"upper";for(var n=1;i<1;)i*=10,n*=10;for(t="upper"===e?Math.ceil(t*n):Math.floor(t*n);t%i!=0;)"upper"===e?t++:t--;return t/n}function i(t,e,i,n){var a=n.width-i.padding-e.xAxisPoints[0],o=e.eachSpacing*n.categories.length,r=t;return t>=0?r=0:Math.abs(t)>=o-a&&(r=a-o),r}function n(t,e,i){function n(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}return t=n(t),e=n(e),i=n(i),e>i&&(i+=2*Math.PI,t<e&&(t+=2*Math.PI)),t>=e&&t<=i}function a(t,e,i){var n=t,a=i-e,o=n+(i-a-n)/Math.sqrt(2);return{transX:o*=-1,transY:(i-a)*(Math.sqrt(2)-1)-(i-a-n)/Math.sqrt(2)}}function o(t,e){function i(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}var n=null,a=null,o=null,r=null;if(e<1?(n=t[0].x+.2*(t[1].x-t[0].x),a=t[0].y+.2*(t[1].y-t[0].y)):(n=t[e].x+.2*(t[e+1].x-t[e-1].x),a=t[e].y+.2*(t[e+1].y-t[e-1].y)),e>t.length-3){var s=t.length-1;o=t[s].x-.2*(t[s].x-t[s-1].x),r=t[s].y-.2*(t[s].y-t[s-1].y)}else o=t[e+1].x-.2*(t[e+2].x-t[e].x),r=t[e+1].y-.2*(t[e+2].y-t[e].y);return i(t,e+1)&&(r=t[e+1].y),i(t,e)&&(a=t[e].y),{ctrA:{x:n,y:a},ctrB:{x:o,y:r}}}function r(t,e,i){return{x:i.x+t,y:i.y-e}}function s(t,e){if(e)for(;et.isCollision(t,e);)t.start.x>0?t.start.y--:t.start.x<0?t.start.y++:t.start.y>0?t.start.y++:t.start.y--;return t}function l(t,e){var i=0;return t.map(function(t){return t.color||(t.color=e.colors[i],i=(i+1)%e.colors.length),t})}function h(t,i){var n=0,a=i-t;return n=a>=1e4?1e3:a>=1e3?100:a>=100?10:a>=10?5:a>=1?1:a>=.1?.1:.01,{minRange:e(t,"lower",n),maxRange:e(i,"upper",n)}}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=0;return(t=(t=String(t)).split("")).forEach(function(t){/[a-zA-Z]/.test(t)?i+=7:/[0-9]/.test(t)?i+=5.5:/\./.test(t)?i+=2.7:/-/.test(t)?i+=3.25:/[\u4e00-\u9fa5]/.test(t)?i+=10:/\(|\)/.test(t)?i+=3.73:/\s/.test(t)?i+=2.5:/%/.test(t)?i+=8:i+=10}),i*e/10}function f(t){return t.reduce(function(t,e){return(t.data?t.data:t).concat(e.data)},[])}function d(t,e){var i=[];return t.forEach(function(t){if(null!==t.data[e]&&"undefinded"!=typeof t.data[e]){var n={};n.color=t.color,n.name=t.name,n.data=t.format?t.format(t.data[e]):t.data[e],i.push(n)}}),i}function x(t){var e=t.map(function(t){return c(t)});return Math.max.apply(null,e)}function u(t){for(var e=2*Math.PI/t,i=[],n=0;n<t;n++)i.push(e*n);return i.map(function(t){return-1*t+Math.PI/2})}function g(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t.map(function(t){return{text:a.format?a.format(t,n[i]):t.name+": "+t.data,color:t.color}}),r=[],s={x:0,y:0};return e.forEach(function(t){"undefinded"!=typeof t[i]&&null!==t[i]&&r.push(t[i])}),r.forEach(function(t){s.x=Math.round(t.x),s.y+=t.y}),s.y/=r.length,{textList:o,offset:s}}function p(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=-1;return y(t,i,n)&&e.forEach(function(e,i){t.x+a>e&&(o=i)}),o}function y(t,e,i){return t.x<e.width-i.padding&&t.x>i.padding+i.yAxisWidth+i.yAxisTitleWidth&&t.y>i.padding&&t.y<e.height-i.legendHeight-i.xAxisHeight-i.padding}function v(t,e,i){var n=2*Math.PI/i,a=-1;if(m(t,e.center,e.radius)){var o=function(t){return t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI),t},r=Math.atan2(e.center.y-t.y,t.x-e.center.x);(r*=-1)<0&&(r+=2*Math.PI),e.angleList.map(function(t){return t=o(-1*t)}).forEach(function(t,e){var i=o(t-n/2),s=o(t+n/2);s<i&&(s+=2*Math.PI),(r>=i&&r<=s||r+2*Math.PI>=i&&r+2*Math.PI<=s)&&(a=e)})}return a}function P(t,e){var i=-1;if(m(t,e.center,e.radius)){var a=Math.atan2(e.center.y-t.y,t.x-e.center.x);a=-a;for(var o=0,r=e.series.length;o<r;o++){var s=e.series[o];if(n(a,s._start_,s._start_+2*s._proportion_*Math.PI)){i=o;break}}}return i}function m(t,e,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i,2)}function S(t){var e=[],i=[];return t.forEach(function(t,n){null!==t?i.push(t):(i.length&&e.push(i),i=[])}),i.length&&e.push(i),e}function T(t,e,i){if(!1===e.legend)return{legendList:[],legendHeight:0};var n=[],a=0,o=[];return t.forEach(function(t){var i=30+c(t.name||"undefinded");a+i>e.width?(n.push(o),a=i,o=[t]):(a+=i,o.push(t))}),o.length&&n.push(o),{legendList:n,legendHeight:n.length*(i.fontSize+8)+5}}function A(t,e,i){var n={angle:0,xAxisHeight:i.xAxisHeight},a=F(t,e,i).eachSpacing,o=t.map(function(t){return c(t)}),r=Math.max.apply(this,o);return r+2*i.xAxisTextPadding>a&&(n.angle=45*Math.PI/180,n.xAxisHeight=2*i.xAxisTextPadding+r*Math.sin(n.angle)),n}function b(t,e,i,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=a.extra.radar||{};s.max=s.max||0;var l=Math.max(s.max,Math.max.apply(null,f(n))),h=[];return n.forEach(function(n){var a={};a.color=n.color,a.data=[],n.data.forEach(function(n,s){var h={};h.angle=t[s],h.proportion=n/l,h.position=r(i*h.proportion*o*Math.cos(h.angle),i*h.proportion*o*Math.sin(h.angle),e),a.data.push(h)}),h.push(a)}),h}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=0,n=0;return t.forEach(function(t){t.data=null===t.data?0:t.data,i+=t.data}),t.forEach(function(t){t.data=null===t.data?0:t.data,t._proportion_=t.data/i*e}),t.forEach(function(t){t._start_=n,n+=2*t._proportion_*Math.PI}),t}function _(t){var e=0;return(t=M(t)).forEach(function(t){var i=t.format?t.format(+t._proportion_.toFixed(2)):et.toFixed(100*t._proportion_)+"%";e=Math.max(e,c(i))}),e}function E(t,e,i,n,a,o){return t.map(function(t){return null===t?null:(t.width=(e-2*a.columePadding)/i,o.extra.column&&o.extra.column.width&&+o.extra.column.width>0?t.width=Math.min(t.width,+o.extra.column.width):t.width=Math.min(t.width,25),t.x+=(n+.5-i/2)*t.width,t)})}function F(t,e,i){var n=i.yAxisWidth+i.yAxisTitleWidth,a=(e.width-2*i.padding-n)/(e.enableScroll?Math.min(5,t.length):t.length),o=[],r=i.padding+n,s=e.width-i.padding;return t.forEach(function(t,e){o.push(r+e*a)}),!0===e.enableScroll?o.push(r+t.length*a):o.push(s),{xAxisPoints:o,startX:r,endX:s,eachSpacing:a}}function w(t,e,i,n,a,o,r){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=[],h=o.height-2*r.padding-r.xAxisHeight-r.legendHeight;return t.forEach(function(t,c){if(null===t)l.push(null);else{var f={};f.x=n[c]+Math.round(a/2);var d=h*(t-e)/(i-e);d*=s,f.y=o.height-r.xAxisHeight-r.legendHeight-Math.round(d)-r.padding,l.push(f)}}),l}function L(t,e,i){var n=f(t);n=n.filter(function(t){return null!==t});var a=Math.min.apply(this,n),o=Math.max.apply(this,n);if("number"==typeof e.yAxis.min&&(a=Math.min(e.yAxis.min,a)),"number"==typeof e.yAxis.max&&(o=Math.max(e.yAxis.max,o)),a===o){var r=o||1;a-=r,o+=r}for(var s=h(a,o),l=s.minRange,c=[],d=(s.maxRange-l)/i.yAxisSplit,x=0;x<=i.yAxisSplit;x++)c.push(l+d*x);return c.reverse()}function k(t,e,i){var n=L(t,e,i),a=i.yAxisWidth,o=n.map(function(t){return t=et.toFixed(t,2),t=e.yAxis.format?e.yAxis.format(Number(t)):t,a=Math.max(a,c(t)+5),t});return!0===e.yAxis.disabled&&(a=0),{rangesFormat:o,ranges:n,yAxisWidth:a}}function C(t,e,i,n){n.beginPath(),n.setStrokeStyle("#ffffff"),n.setLineWidth(1),n.setFillStyle(e),"diamond"===i?t.forEach(function(t,e){null!==t&&(n.moveTo(t.x,t.y-4.5),n.lineTo(t.x-4.5,t.y),n.lineTo(t.x,t.y+4.5),n.lineTo(t.x+4.5,t.y),n.lineTo(t.x,t.y-4.5))}):"circle"===i?t.forEach(function(t,e){null!==t&&(n.moveTo(t.x+3.5,t.y),n.arc(t.x,t.y,4,0,2*Math.PI,!1))}):"rect"===i?t.forEach(function(t,e){null!==t&&(n.moveTo(t.x-3.5,t.y-3.5),n.rect(t.x-3.5,t.y-3.5,7,7))}):"triangle"===i&&t.forEach(function(t,e){null!==t&&(n.moveTo(t.x,t.y-4.5),n.lineTo(t.x-4.5,t.y+4.5),n.lineTo(t.x+4.5,t.y+4.5),n.lineTo(t.x,t.y-4.5))}),n.closePath(),n.fill(),n.stroke()}function H(t,e,i){var n=t.title.fontSize||e.titleFontSize,a=t.subtitle.fontSize||e.subtitleFontSize,o=t.title.name||"",r=t.subtitle.name||"",s=t.title.color||e.titleColor,l=t.subtitle.color||e.subtitleColor,h=o?n:0,f=r?a:0;if(r){var d=c(r,a),x=(t.width-d)/2+(t.subtitle.offsetX||0),u=(t.height-e.legendHeight+a)/2;o&&(u-=(h+5)/2),i.beginPath(),i.setFontSize(a),i.setFillStyle(l),i.fillText(r,x,u),i.stroke(),i.closePath()}if(o){var g=c(o,n),p=(t.width-g)/2+(t.title.offsetX||0),y=(t.height-e.legendHeight+n)/2;r&&(y+=(f+5)/2),i.beginPath(),i.setFontSize(n),i.setFillStyle(s),i.fillText(o,p,y),i.stroke(),i.closePath()}}function I(t,e,i,n){var a=e.data;n.beginPath(),n.setFontSize(i.fontSize),n.setFillStyle("#666666"),t.forEach(function(t,i){if(null!==t){var o=e.format?e.format(a[i]):a[i];n.fillText(o,t.x-c(o)/2,t.y-2)}}),n.closePath(),n.stroke()}function z(t,e,i,n,a,o){var s=n.extra.radar||{};e+=a.radarLabelTextMargin,o.beginPath(),o.setFontSize(a.fontSize),o.setFillStyle(s.labelColor||"#666666"),t.forEach(function(t,s){var l={x:e*Math.cos(t),y:e*Math.sin(t)},h=r(l.x,l.y,i),f=h.x,d=h.y;et.approximatelyEqual(l.x,0)?f-=c(n.categories[s]||"")/2:l.x<0&&(f-=c(n.categories[s]||"")),o.fillText(n.categories[s]||"",f,d+a.fontSize/2)}),o.stroke(),o.closePath()}function D(t,e,i,n,a,o){var l=a+i.pieChartLinePadding,h=[],f=null;t.map(function(t){return{arc:2*Math.PI-(t._start_+2*Math.PI*t._proportion_/2),text:t.format?t.format(+t._proportion_.toFixed(2)):et.toFixed(100*t._proportion_)+"%",color:t.color}}).forEach(function(t){var e=Math.cos(t.arc)*l,n=Math.sin(t.arc)*l,o=Math.cos(t.arc)*a,r=Math.sin(t.arc)*a,d=e>=0?e+i.pieChartTextPadding:e-i.pieChartTextPadding,x=n,u=c(t.text),g=x;f&&et.isSameXCoordinateArea(f.start,{x:d})&&(g=d>0?Math.min(x,f.start.y):e<0?Math.max(x,f.start.y):x>0?Math.max(x,f.start.y):Math.min(x,f.start.y)),d<0&&(d-=u);var p={lineStart:{x:o,y:r},lineEnd:{x:e,y:n},start:{x:d,y:g},width:u,height:i.fontSize,text:t.text,color:t.color};f=s(p,f),h.push(f)}),h.forEach(function(t){var e=r(t.lineStart.x,t.lineStart.y,o),a=r(t.lineEnd.x,t.lineEnd.y,o),s=r(t.start.x,t.start.y,o);n.setLineWidth(1),n.setFontSize(i.fontSize),n.beginPath(),n.setStrokeStyle(t.color),n.setFillStyle(t.color),n.moveTo(e.x,e.y);var l=t.start.x<0?s.x+t.width:s.x,h=t.start.x<0?s.x-5:s.x+5;n.quadraticCurveTo(a.x,a.y,l,s.y),n.moveTo(e.x,e.y),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(s.x+t.width,s.y),n.arc(l,s.y,2,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.setFillStyle("#666666"),n.fillText(t.text,h,s.y+3),n.closePath(),n.stroke(),n.closePath()})}function W(t,e,i,n){var a=i.padding,o=e.height-i.padding-i.xAxisHeight-i.legendHeight;n.beginPath(),n.setStrokeStyle("#cccccc"),n.setLineWidth(1),n.moveTo(t,a),n.lineTo(t,o),n.stroke(),n.closePath()}function O(e,i,n,a,o){var r=!1;(i=t({x:0,y:0},i)).y-=8;var s=e.map(function(t){return c(t.text)}),l=9+4*a.toolTipPadding+Math.max.apply(null,s),h=2*a.toolTipPadding+e.length*a.toolTipLineHeight;i.x-Math.abs(n._scrollDistance_)+8+l>n.width&&(r=!0),o.beginPath(),o.setFillStyle(n.tooltip.option.background||a.toolTipBackground),o.setGlobalAlpha(a.toolTipOpacity),r?(o.moveTo(i.x,i.y+10),o.lineTo(i.x-8,i.y+10-5),o.lineTo(i.x-8,i.y+10+5),o.moveTo(i.x,i.y+10),o.fillRect(i.x-l-8,i.y,l,h)):(o.moveTo(i.x,i.y+10),o.lineTo(i.x+8,i.y+10-5),o.lineTo(i.x+8,i.y+10+5),o.moveTo(i.x,i.y+10),o.fillRect(i.x+8,i.y,l,h)),o.closePath(),o.fill(),o.setGlobalAlpha(1),e.forEach(function(t,e){o.beginPath(),o.setFillStyle(t.color);var n=i.x+8+2*a.toolTipPadding,s=i.y+(a.toolTipLineHeight-a.fontSize)/2+a.toolTipLineHeight*e+a.toolTipPadding;r&&(n=i.x-l-8+2*a.toolTipPadding),o.fillRect(n,s,4,a.fontSize),o.closePath()}),o.beginPath(),o.setFontSize(a.fontSize),o.setFillStyle("#ffffff"),e.forEach(function(t,e){var n=i.x+8+2*a.toolTipPadding+4+5;r&&(n=i.x-l-8+2*a.toolTipPadding+4+5);var s=i.y+(a.toolTipLineHeight-a.fontSize)/2+a.toolTipLineHeight*e+a.toolTipPadding;o.fillText(t.text,n,s+a.fontSize)}),o.stroke(),o.closePath()}function X(t,e,i,n){var a=i.xAxisHeight+(e.height-i.xAxisHeight-c(t))/2;n.save(),n.beginPath(),n.setFontSize(i.fontSize),n.setFillStyle(e.yAxis.titleFontColor||"#333333"),n.translate(0,e.height),n.rotate(-90*Math.PI/180),n.fillText(t,a,i.padding+.5*i.fontSize),n.stroke(),n.closePath(),n.restore()}function G(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=k(t,e,i).ranges,r=F(e.categories,e,i),s=r.xAxisPoints,l=r.eachSpacing,h=o.pop(),c=o.shift();return n.save(),e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&n.translate(e._scrollDistance_,0),t.forEach(function(o,r){var f=w(o.data,h,c,s,l,e,i,a);f=E(f,l,t.length,r,i,e),n.beginPath(),n.setFillStyle(o.color),f.forEach(function(t,a){if(null!==t){var o=t.x-t.width/2+1,r=e.height-t.y-i.padding-i.xAxisHeight-i.legendHeight;n.moveTo(o,t.y),n.rect(o,t.y,t.width-2,r)}}),n.closePath(),n.fill()}),t.forEach(function(o,r){var f=w(o.data,h,c,s,l,e,i,a);f=E(f,l,t.length,r,i,e),!1!==e.dataLabel&&1===a&&I(f,o,i,n)}),n.restore(),{xAxisPoints:s,eachSpacing:l}}function R(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=k(t,e,i).ranges,s=F(e.categories,e,i),l=s.xAxisPoints,h=s.eachSpacing,c=r.pop(),f=r.shift(),d=e.height-i.padding-i.xAxisHeight-i.legendHeight,x=[];return n.save(),e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&n.translate(e._scrollDistance_,0),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===a&&W(e.tooltip.offset.x,e,i,n),t.forEach(function(t,r){var s=w(t.data,c,f,l,h,e,i,a);if(x.push(s),S(s).forEach(function(i){if(n.beginPath(),n.setStrokeStyle(t.color),n.setFillStyle(t.color),n.setGlobalAlpha(.6),n.setLineWidth(2),i.length>1){var a=i[0],r=i[i.length-1];n.moveTo(a.x,a.y),"curve"===e.extra.lineStyle?i.forEach(function(t,e){if(e>0){var a=o(i,e-1);n.bezierCurveTo(a.ctrA.x,a.ctrA.y,a.ctrB.x,a.ctrB.y,t.x,t.y)}}):i.forEach(function(t,e){e>0&&n.lineTo(t.x,t.y)}),n.lineTo(r.x,d),n.lineTo(a.x,d),n.lineTo(a.x,a.y)}else{var s=i[0];n.moveTo(s.x-h/2,s.y),n.lineTo(s.x+h/2,s.y),n.lineTo(s.x+h/2,d),n.lineTo(s.x-h/2,d),n.moveTo(s.x-h/2,s.y)}n.closePath(),n.fill(),n.setGlobalAlpha(1)}),!1!==e.dataPointShape){var u=i.dataPointShape[r%i.dataPointShape.length];C(s,t.color,u,n)}}),!1!==e.dataLabel&&1===a&&t.forEach(function(t,o){I(w(t.data,c,f,l,h,e,i,a),t,i,n)}),n.restore(),{xAxisPoints:l,calPoints:x,eachSpacing:h}}function q(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=k(t,e,i).ranges,s=F(e.categories,e,i),l=s.xAxisPoints,h=s.eachSpacing,c=r.pop(),f=r.shift(),d=[];return n.save(),e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&n.translate(e._scrollDistance_,0),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===a&&W(e.tooltip.offset.x,e,i,n),t.forEach(function(t,r){var s=w(t.data,c,f,l,h,e,i,a);if(d.push(s),S(s).forEach(function(i,a){n.beginPath(),n.setStrokeStyle(t.color),n.setLineWidth(2),1===i.length?(n.moveTo(i[0].x,i[0].y),n.arc(i[0].x,i[0].y,1,0,2*Math.PI)):(n.moveTo(i[0].x,i[0].y),"curve"===e.extra.lineStyle?i.forEach(function(t,e){if(e>0){var a=o(i,e-1);n.bezierCurveTo(a.ctrA.x,a.ctrA.y,a.ctrB.x,a.ctrB.y,t.x,t.y)}}):i.forEach(function(t,e){e>0&&n.lineTo(t.x,t.y)}),n.moveTo(i[0].x,i[0].y)),n.closePath(),n.stroke()}),!1!==e.dataPointShape){var x=i.dataPointShape[r%i.dataPointShape.length];C(s,t.color,x,n)}}),!1!==e.dataLabel&&1===a&&t.forEach(function(t,o){I(w(t.data,c,f,l,h,e,i,a),t,i,n)}),n.restore(),{xAxisPoints:l,calPoints:d,eachSpacing:h}}function B(t,e,i,n){i.save(),t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&i.translate(t._scrollDistance_,0),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===n&&O(t.tooltip.textList,t.tooltip.offset,t,e,i),i.restore()}function j(t,e,i,n){var o=F(t,e,i),r=o.xAxisPoints,s=(o.startX,o.endX,o.eachSpacing),l=e.height-i.padding-i.xAxisHeight-i.legendHeight,h=l+i.xAxisLineHeight;n.save(),e._scrollDistance_&&0!==e._scrollDistance_&&n.translate(e._scrollDistance_,0),n.beginPath(),n.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),!0!==e.xAxis.disableGrid&&("calibration"===e.xAxis.type?r.forEach(function(t,e){e>0&&(n.moveTo(t-s/2,l),n.lineTo(t-s/2,l+4))}):r.forEach(function(t,e){n.moveTo(t,l),n.lineTo(t,h)})),n.closePath(),n.stroke();var f=e.width-2*i.padding-i.yAxisWidth-i.yAxisTitleWidth,d=Math.min(t.length,Math.ceil(f/i.fontSize/4)),x=Math.ceil(t.length/d);t=t.map(function(t,e){return e%x!=0?"":t}),0===i._xAxisTextAngle_?(n.beginPath(),n.setFontSize(i.fontSize),n.setFillStyle(e.xAxis.fontColor||"#666666"),t.forEach(function(t,e){var a=s/2-c(t)/2;n.fillText(t,r[e]+a,l+i.fontSize+5)}),n.closePath(),n.stroke()):t.forEach(function(t,o){n.save(),n.beginPath(),n.setFontSize(i.fontSize),n.setFillStyle(e.xAxis.fontColor||"#666666");var h=c(t),f=s/2-h,d=a(r[o]+s/2,l+i.fontSize/2+5,e.height),x=d.transX,u=d.transY;n.rotate(-1*i._xAxisTextAngle_),n.translate(x,u),n.fillText(t,r[o]+f,l+i.fontSize+5),n.closePath(),n.stroke(),n.restore()}),n.restore()}function N(t,e,i){for(var n=t.height-2*e.padding-e.xAxisHeight-e.legendHeight,a=Math.floor(n/e.yAxisSplit),o=e.yAxisWidth+e.yAxisTitleWidth,r=e.padding+o,s=t.width-e.padding,l=[],h=0;h<e.yAxisSplit;h++)l.push(e.padding+a*h);l.push(e.padding+a*e.yAxisSplit+2),i.beginPath(),i.setStrokeStyle(t.yAxis.gridColor||"#cccccc"),i.setLineWidth(1),l.forEach(function(t,e){i.moveTo(r,t),i.lineTo(s,t)}),i.closePath(),i.stroke()}function Y(t,e,i,n){if(!0!==e.yAxis.disabled){var a=k(t,e,i).rangesFormat,o=i.yAxisWidth+i.yAxisTitleWidth,r=e.height-2*i.padding-i.xAxisHeight-i.legendHeight,s=Math.floor(r/i.yAxisSplit),l=i.padding+o,h=e.width-i.padding,c=e.height-i.padding-i.xAxisHeight-i.legendHeight;n.setFillStyle(e.background||"#ffffff"),e._scrollDistance_<0&&n.fillRect(0,0,l,c+i.xAxisHeight+5),n.fillRect(h,0,e.width,c+i.xAxisHeight+5);for(var f=[],d=0;d<=i.yAxisSplit;d++)f.push(i.padding+s*d);n.stroke(),n.beginPath(),n.setFontSize(i.fontSize),n.setFillStyle(e.yAxis.fontColor||"#666666"),a.forEach(function(t,e){var a=f[e]?f[e]:c;n.fillText(t,i.padding+i.yAxisTitleWidth,a+i.fontSize/2)}),n.closePath(),n.stroke(),e.yAxis.title&&X(e.yAxis.title,e,i,n)}}function Z(t,e,i,n){if(e.legend){T(t,e,i).legendList.forEach(function(t,a){t.forEach(function(t){});var o=(e.width-0)/2+5,r=e.height-i.padding-i.legendHeight+a*(i.fontSize+8)+5+8;n.setFontSize(i.fontSize),t.forEach(function(t){switch(e.type){case"line":n.beginPath(),n.setLineWidth(1),n.setStrokeStyle(t.color),n.moveTo(o-2,r+5),n.lineTo(o+17,r+5),n.stroke(),n.closePath(),n.beginPath(),n.setLineWidth(1),n.setStrokeStyle("#ffffff"),n.setFillStyle(t.color),n.moveTo(o+7.5,r+5),n.arc(o+7.5,r+5,4,0,2*Math.PI),n.fill(),n.stroke(),n.closePath();break;case"pie":case"ring":n.beginPath(),n.setFillStyle(t.color),n.moveTo(o+7.5,r+5),n.arc(o+7.5,r+5,7,0,2*Math.PI),n.closePath(),n.fill();break;default:n.beginPath(),n.setFillStyle(t.color),n.moveTo(o,r),n.rect(o,r,15,10),n.closePath(),n.fill()}o+=20,n.beginPath(),n.setFillStyle(e.extra.legendTextColor||"#333333"),n.fillText(t.name,o,r+9),n.closePath(),n.stroke(),o+=c(t.name)+10})})}}function J(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=e.extra.pie||{};t=M(t,a);var r={x:e.width/2,y:(e.height-i.legendHeight)/2},s=Math.min(r.x-i.pieChartLinePadding-i.pieChartTextPadding-i._pieTextMaxLength_,r.y-i.pieChartLinePadding-i.pieChartTextPadding);if(e.dataLabel?s-=10:s-=2*i.padding,(t=t.map(function(t){return t._start_+=(o.offsetAngle||0)*Math.PI/180,t})).forEach(function(t){n.beginPath(),n.setLineWidth(2),n.setStrokeStyle("#ffffff"),n.setFillStyle(t.color),n.moveTo(r.x,r.y),n.arc(r.x,r.y,s,t._start_,t._start_+2*t._proportion_*Math.PI),n.closePath(),n.fill(),!0!==e.disablePieStroke&&n.stroke()}),"ring"===e.type){var l=.6*s;"number"==typeof e.extra.ringWidth&&e.extra.ringWidth>0&&(l=Math.max(0,s-e.extra.ringWidth)),n.beginPath(),n.setFillStyle(e.background||"#ffffff"),n.moveTo(r.x,r.y),n.arc(r.x,r.y,l,0,2*Math.PI),n.closePath(),n.fill()}if(!1!==e.dataLabel&&1===a){for(var h=!1,c=0,f=t.length;c<f;c++)if(t[c].data>0){h=!0;break}h&&D(t,e,i,n,s,r)}return 1===a&&"ring"===e.type&&H(e,i,n),{center:r,radius:s,series:t}}function K(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=e.extra.radar||{},s=u(e.categories.length),l={x:e.width/2,y:(e.height-i.legendHeight)/2},h=Math.min(l.x-(x(e.categories)+i.radarLabelTextMargin),l.y-i.radarLabelTextMargin);h-=i.padding,n.beginPath(),n.setLineWidth(1),n.setStrokeStyle(o.gridColor||"#cccccc"),s.forEach(function(t){var e=r(h*Math.cos(t),h*Math.sin(t),l);n.moveTo(l.x,l.y),n.lineTo(e.x,e.y)}),n.stroke(),n.closePath();for(var c=1;c<=i.radarGridCount;c++)!function(t){var e={};n.beginPath(),n.setLineWidth(1),n.setStrokeStyle(o.gridColor||"#cccccc"),s.forEach(function(a,o){var s=r(h/i.radarGridCount*t*Math.cos(a),h/i.radarGridCount*t*Math.sin(a),l);0===o?(e=s,n.moveTo(s.x,s.y)):n.lineTo(s.x,s.y)}),n.lineTo(e.x,e.y),n.stroke(),n.closePath()}(c);return b(s,l,h,t,e,a).forEach(function(t,a){if(n.beginPath(),n.setFillStyle(t.color),n.setGlobalAlpha(.6),t.data.forEach(function(t,e){0===e?n.moveTo(t.position.x,t.position.y):n.lineTo(t.position.x,t.position.y)}),n.closePath(),n.fill(),n.setGlobalAlpha(1),!1!==e.dataPointShape){var o=i.dataPointShape[a%i.dataPointShape.length];C(t.data.map(function(t){return t.position}),t.color,o,n)}}),z(s,h,l,e,i,n),{center:l,radius:h,angleList:s}}function Q(t,e){e.draw()}function U(t){this.isStop=!1,t.duration=void 0===t.duration?1e3:t.duration,t.timing=t.timing||"linear";var e="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setTimeout?function(t,e){setTimeout(function(){var e=+new Date;t(e)},e)}:function(t){t(null)},i=null,n=function(a){if(null===a||!0===this.isStop)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());if(null===i&&(i=a),a-i<t.duration){var o=(a-i)/t.duration;o=(0,it[t.timing])(o),t.onProcess&&t.onProcess(o),e(n,17)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()};n=n.bind(this),e(n,17)}function V(t,e,i,n){var a=this,o=e.series,r=e.categories,s=T(o=l(o,i),e,i).legendHeight;i.legendHeight=s;var h=k(o,e,i).yAxisWidth;if(i.yAxisWidth=h,r&&r.length){var c=A(r,e,i),f=c.xAxisHeight,d=c.angle;i.xAxisHeight=f,i._xAxisTextAngle_=d}"pie"!==t&&"ring"!==t||(i._pieTextMaxLength_=!1===e.dataLabel?0:_(o));var x=e.animation?1e3:0;switch(this.animationInstance&&this.animationInstance.stop(),t){case"line":this.animationInstance=new U({timing:"easeIn",duration:x,onProcess:function(t){N(e,i,n);var s=q(o,e,i,n,t),l=s.xAxisPoints,h=s.calPoints,c=s.eachSpacing;a.chartData.xAxisPoints=l,a.chartData.calPoints=h,a.chartData.eachSpacing=c,j(r,e,i,n),Z(e.series,e,i,n),Y(o,e,i,n),B(e,i,n,t),Q(e,n)},onAnimationFinish:function(){a.event.trigger("renderComplete")}});break;case"column":this.animationInstance=new U({timing:"easeIn",duration:x,onProcess:function(t){N(e,i,n);var s=G(o,e,i,n,t),l=s.xAxisPoints,h=s.eachSpacing;a.chartData.xAxisPoints=l,a.chartData.eachSpacing=h,j(r,e,i,n),Z(e.series,e,i,n),Y(o,e,i,n),Q(e,n)},onAnimationFinish:function(){a.event.trigger("renderComplete")}});break;case"area":this.animationInstance=new U({timing:"easeIn",duration:x,onProcess:function(t){N(e,i,n);var s=R(o,e,i,n,t),l=s.xAxisPoints,h=s.calPoints,c=s.eachSpacing;a.chartData.xAxisPoints=l,a.chartData.calPoints=h,a.chartData.eachSpacing=c,j(r,e,i,n),Z(e.series,e,i,n),Y(o,e,i,n),B(e,i,n,t),Q(e,n)},onAnimationFinish:function(){a.event.trigger("renderComplete")}});break;case"ring":case"pie":this.animationInstance=new U({timing:"easeInOut",duration:x,onProcess:function(t){a.chartData.pieData=J(o,e,i,n,t),Z(e.series,e,i,n),Q(e,n)},onAnimationFinish:function(){a.event.trigger("renderComplete")}});break;case"radar":this.animationInstance=new U({timing:"easeInOut",duration:x,onProcess:function(t){a.chartData.radarData=K(o,e,i,n,t),Z(e.series,e,i,n),Q(e,n)},onAnimationFinish:function(){a.event.trigger("renderComplete")}})}}function $(){this.events={}}var tt={yAxisWidth:15,yAxisSplit:5,xAxisHeight:40,xAxisLineHeight:40,legendHeight:40,yAxisTitleWidth:15,padding:12,columePadding:3,fontSize:10,dataPointShape:["diamond","circle","triangle","rect"],colors:["#7cb5ec","#f7a35c","#434348","#90ed7d","#f15c80","#8085e9"],pieChartLinePadding:25,pieChartTextPadding:15,xAxisTextPadding:3,titleColor:"#333333",titleFontSize:20,subtitleColor:"#999999",subtitleFontSize:15,toolTipPadding:3,toolTipBackground:"#000000",toolTipOpacity:.7,toolTipLineHeight:40,radarGridCount:3,radarLabelTextMargin:40},et={toFixed:function(t,e){return e=e||2,this.isFloat(t)&&(t=t.toFixed(e)),t},isFloat:function(t){return t%1!=0},approximatelyEqual:function(t,e){return Math.abs(t-e)<1e-10},isSameSign:function(t,e){return Math.abs(t)===t&&Math.abs(e)===e||Math.abs(t)!==t&&Math.abs(e)!==e},isSameXCoordinateArea:function(t,e){return this.isSameSign(t.x,e.x)},isCollision:function(t,e){return t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height,!(e.start.x>t.end.x||e.end.x<t.start.x||e.end.y>t.start.y||e.start.y<t.end.y)}},it={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};U.prototype.stop=function(){this.isStop=!0},$.prototype.addEventListener=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},$.prototype.trigger=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e[0],a=e.slice(1);this.events[n]&&this.events[n].forEach(function(t){try{t.apply(null,a)}catch(t){console.error(t)}})};var nt=function(e){e.title=e.title||{},e.subtitle=e.subtitle||{},e.yAxis=e.yAxis||{},e.xAxis=e.xAxis||{},e.extra=e.extra||{},e.legend=!1!==e.legend,e.animation=!1!==e.animation;var i=t({},tt);i.yAxisTitleWidth=!0!==e.yAxis.disabled&&e.yAxis.title?i.yAxisTitleWidth:0,i.pieChartLinePadding=!1===e.dataLabel?0:i.pieChartLinePadding,i.pieChartTextPadding=!1===e.dataLabel?0:i.pieChartTextPadding,this.opts=e,this.config=i,this.context=wx.createCanvasContext(e.canvasId),this.chartData={},this.event=new $,this.scrollOption={currentOffset:0,startTouchX:0,distance:0},V.call(this,e.type,e,i,this.context)};nt.prototype.updateData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts.series=e.series||this.opts.series,this.opts.categories=e.categories||this.opts.categories,this.opts.title=t({},this.opts.title,e.title||{}),this.opts.subtitle=t({},this.opts.subtitle,e.subtitle||{}),V.call(this,this.opts.type,this.opts,this.config,this.context)},nt.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},nt.prototype.addEventListener=function(t,e){this.event.addEventListener(t,e)},nt.prototype.getCurrentDataIndex=function(t){var e=t.touches&&t.touches.length?t.touches:t.changedTouches;if(e&&e.length){var i=e[0],n=i.x,a=i.y;return"pie"===this.opts.type||"ring"===this.opts.type?P({x:n,y:a},this.chartData.pieData):"radar"===this.opts.type?v({x:n,y:a},this.chartData.radarData,this.opts.categories.length):p({x:n,y:a},this.chartData.xAxisPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},nt.prototype.showToolTip=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("line"===this.opts.type||"area"===this.opts.type){var n=this.getCurrentDataIndex(e),a=this.scrollOption.currentOffset,o=t({},this.opts,{_scrollDistance_:a,animation:!1});if(n>-1){var r=d(this.opts.series,n);if(0===r.length)V.call(this,o.type,o,this.config,this.context);else{var s=g(r,this.chartData.calPoints,n,this.opts.categories,i),l=s.textList,h=s.offset;o.tooltip={textList:l,offset:h,option:i},V.call(this,o.type,o,this.config,this.context)}}else V.call(this,o.type,o,this.config,this.context)}},nt.prototype.scrollStart=function(t){t.touches[0]&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=t.touches[0].x)},nt.prototype.scroll=function(e){if(e.touches[0]&&!0===this.opts.enableScroll){var n=e.touches[0].x-this.scrollOption.startTouchX,a=this.scrollOption.currentOffset,o=i(a+n,this.chartData,this.config,this.opts);this.scrollOption.distance=n=o-a;var r=t({},this.opts,{_scrollDistance_:a+n,animation:!1});V.call(this,r.type,r,this.config,this.context)}},nt.prototype.scrollEnd=function(t){if(!0===this.opts.enableScroll){var e=this.scrollOption,i=e.currentOffset,n=e.distance;this.scrollOption.currentOffset=i+n,this.scrollOption.distance=0}},module.exports=nt; 
 			}); 
		define("app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=require("data.js");App({globalData:{isWeb:!!window,wxAppId:"wxbc163aecb3210fcc",autoId:t.setting.autoId,comUrl:t.setting.comUrl+"/wc_mg/",paymentUrl:t.setting.payUrl,setting:t.setting,styleConfig:t.styleConfig,isPerson:t.isPerson,accountInfo:{},projectInfo:{appId:t.dataInfo.appId,projectIcon:t.dataInfo.projectIcon,projectName:t.dataInfo.projectName,PCStatus:t.dataInfo.PCStatus,projectType:t.dataInfo.projectType,homePageLayout:t.dataInfo.homePageLayout,hideInfoTabs:!0},ext:t.dataInfo.ext,customizeTabId:{},customizeTabsList:t.dataInfo.customizeTabsList,wxUserInfo:"",memberId:"",showHint:!0,g_location:{lat:0,lng:0},g_cityName:"",g_showAddress:"",isGroup:"",isQuery:!1,changeClassify:1,topayHidden:!1,moduleList:[],memberType:"",actDistribution:{}},onLaunch:function(t){console.log(" ------------ onLaunch ------------- ");var a=this;a.getProjectData();var e="";"undefined"!=typeof sessionStorage&&(e=sessionStorage.getItem("globleThemeConfig")),e&&(a.globalData.styleConfig=JSON.parse(e))},onShow:function(t){console.log(" ------------ onShow ------------- "),this.loginVzSystem()},refreshProjectData:function(t){var a=this;return new Promise(function(e,o){wx.request({url:a.globalData.comUrl+"tabs_getDataByProjectId.action",data:{autoId:t},success:function(t){getCurrentPages();var o=a.getJsonData(t.data);e(o)}})})},initProjectData:function(a){a&&a.customizeTabsList&&(t.dataInfo.customizeTabsList=a.customizeTabsList,t.dataInfo.appId=a.appId,t.dataInfo.projectName=a.projectName,t.dataInfo.PCStatus=a.PCStatus,t.setting.name=a.projectName,t.setting.autoId=a.autoId,t.setting.comUrl=a.comUrl,t.setting.payUrl=a.payUrl,this.globalData.autoId=t.setting.autoId,this.globalData.setting=t.setting,this.globalData.projectInfo={appId:t.dataInfo.appId,projectIcon:t.dataInfo.projectIcon,projectName:t.dataInfo.projectName,PCStatus:t.dataInfo.PCStatus},this.globalData.customizeTabsList=t.dataInfo.customizeTabsList,this.getProjectData())},getProjectData:function(){var a=this,e={};(t.dataInfo.customizeTabsList||[]).forEach(function(t){e[t.sysTabNameTag||t.sysTabName]=t.customizeId||t.id}),a.globalData.customizeTabId=e},getCustomizeId:function(a){if(!a)return null;var e=this;if(e.globalData.customizeTabId[a]&&e.globalData.customizeTabId[a])return e.globalData.customizeTabId[a];for(var o=0;o<t.dataInfo.customizeTabsList.length;o++){var n=t.dataInfo.customizeTabsList[o];if(n.sysTabNameTag&&""!=n.sysTabNameTag&&n.sysTabNameTag==a)return n.customizeId;if(n.sysTabName&&""!=n.sysTabName&&n.sysTabName==a)return n.customizeId;if(n.data&&n.data.customizeTabsList&&n.data.customizeTabsList.length>0)for(var s=0;s<n.data.customizeTabsList.length;s++){var i=n.data.customizeTabsList[s];if(i.sysTabNameTag&&""!=i.sysTabNameTag&&i.sysTabNameTag==a)return i.customizeId||i.id;if(i.sysTabName&&""!=i.sysTabName&&i.sysTabName==a)return i.customizeId||i.id}}},getWxUserInfo:function(t){console.log("======start get wxUserInfo =====");var a=this;a.globalData.wxUserInfo?("function"==typeof t&&t(a.globalData.wxUserInfo),console.log("====== cb equals function =====")):wx.login({success:function(e){wx.getUserInfo({success:function(e){a.globalData.wxUserInfo=e.userInfo,"function"==typeof t&&t(a.globalData.wxUserInfo)}})}})},loginVzSystem:function(t){var a=this;if(wx.canIUse("login"))return new Promise(function(e,o){console.log("======start login vz-system=====");var n=a.getMemberId();if(n&&n.length>0){var s="memberId"+a.globalData.autoId;return wx.setStorageSync(s,n),a.globalData.memberId=n,void e()}if(!t)return wx.login({success:function(t){a.loginVzSystem(t.code)}}),void e();a.getOpenId(t).then(function(t){if(!t||t.length<1)e();else{var o={appId:a.globalData.projectInfo.appId,openId:t},n=wx.getStorageSync("parentId"+a.globalData.autoId);n&&(o.parentId=n),wx.request({url:a.globalData.comUrl+"member_memberRegistration.action",data:o,success:function(t){console.log(t.data);var o=a.getJsonData(t.data);o.isDistributor&&"3"==o.type&&wx.setStorageSync("memberType"+a.globalData.autoId,o.type);var n="memberId"+a.globalData.autoId;wx.setStorageSync(n,o.memberId),a.globalData.memberId=o.memberId,console.log("====== memberId:"+o.memberId+" ====="),e()},fail:function(){console.log("login failed")}})}})})},getOpenId:function(t){console.log("====== get openId start =====");var a=this;return new Promise(function(e,o){var n=wx.getStorageSync("openId"+a.globalData.autoId);if(n&&n.length>0)return console.log("======openId:"+n+" ====="),n;!t||t.length<1?console.log("======getOpenId failed   wxCode="+t+" ====="):wx.request({url:a.globalData.paymentUrl+"/WechatAlipay/GetOpenId",data:{projectId:a.globalData.projectInfo.appId,code:t},success:function(t){var o=a.getJsonData(t.data);console.log("====== openId:"+o.openId+" ====="),wx.setStorageSync("openId"+a.globalData.autoId,o.openId),e(o.openId)},fail:function(t){console.log(t)}})})},getJsonData:function(t){var a=t.substring(5,t.length-1);return JSON.parse(a)},hint:function(t){t?wx.showModal({title:t,showCancel:!1}):wx.showModal({title:"请求失败",showCancel:!1})},showToast:function(t){wx.showToast({title:t,icon:"none",duration:2e3})},uploadimg:function(t){var a=this,e=t.i?t.i:0,o=t.success?t.success:0,n=t.fail?t.fail:0;wx.uploadFile({url:t.url,filePath:t.path[e],name:"file",formData:null,success:function(t){o++,console.log(t),console.log(e)},fail:function(t){n++,console.log("fail:"+e+"fail:"+n)},complete:function(){console.log(e),++e==t.path.length?(console.log("执行完毕"),console.log("成功："+o+" 失败："+n)):(console.log(e),t.i=e,t.success=o,t.fail=n,a.uploadimg(t))}})},getMemberId:function(){return wx.getStorageSync("memberId"+this.globalData.autoId)},modifyPicSize:function(t,a){var e=t.lastIndexOf(".");return t=t.substr(0,e)+a+t.substr(e,t.length-e)},getWeek:function(t){var a,e=t.split("-");return a=new Date(e[0],parseInt(e[1]-1),e[2]),"星期"+"日一二三四五六".charAt(a.getDay())},calculatDateBydays:function(t,a){t=t.replace(/-/g,"/"),console.log(t);var e=new Date(t),o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+a);e.getFullYear();console.log(e.getDate());e.getMonth(),e.getDate();return o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()},DateDiff:function(t,a){t=t.replace(/-/g,"/"),a=a.replace(/-/g,"/");var e,o,n;return e=t.split("-"),o=new Date(e[1]+"-"+e[2]+"-"+e[0]),e=a.split("-"),n=new Date(e[1]+"-"+e[2]+"-"+e[0]),parseInt(Math.abs(o-n)/1e3/60/60/24)},request:function(t){if(t&&t.url){if(0!=t.cache){var a=t.url+JSON.stringify(t.data||{}),e=wx.getStorageSync(a);e&&t.success(e);var o=t.success;t.success=function(t){!t||e.data&&t.data==e.data||(wx.setStorageSync(a,t),o(t))}}wx.request(t)}else console.log("app.request:","request url cannot be null")},filterSpecialSymbol:function(t){return t=t.replace(/&ldquo;/g,"“"),t=t.replace(/&rdquo;/g,"”"),t=t.replace(/&mdash;/g,"—"),t=t.replace(/&middot;/g,"·"),t=t.replace(/&hellip;/g,"…"),t=t.replace(/<img(?=.*?\/>)/gi,'<img style="width: 100%; height: auto;" ')}}); 
 			}); 	require("app.js");
 		__wxRoute = 'pages/index/index';__wxRouteBegin = true; 	define("pages/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,o=1,i=1,s="",n="",r="",c=["LynxProductList","LynxAbout_Merchant","LynxPhoto_Info_Post_Tab","LynxPhoto_H_Info_Tab_Level2","Photo-Info-Tab-Level2","Video_Gallery","Flexi-Form","Online-Chat","Activity","LynxApplyFor_About_Merchant","Activity-Group","About-Merchant","Activity-Kill","Activity-Distribution","CardNo"];Page({data:{styleConfig:t.globalData.styleConfig,isPerson:t.globalData.isPerson,advertisements:[],advertiseProducts:[],PCAdevertising_top:"",couponAdImg:"",productArr:[],productClass:[],moreArr:[],headlineImage:"",headlineArr:[],recommendNews:[],entrepreneurshipList:[],adcyList:[],proList:[],hotSaleList:[],hotSaleList1:[],hotSaleList2:[],branchInfo:[],bottomHint:!0,posCity:"",hasBranch:!1,hiddenBranch:!0,minaInfo:{},subVersion:"",oneKeyHidden:!0,isGroup:"",activityInfo:"",isQuery:1==t.globalData.isPerson,isLoading:!1,videoLink:"",netWorkType:!1,videoList:{},activitySeckill:{},activityStart:"",loadCount:1,hasSeckill:"",hideBigImg:!0,adBigImage:"",actDistribution:{},memberType:"",hideShareCoupon:!0},checkIfHasAutoId:function(a){var e=this;if("undefined"!=typeof sessionStorage&&(!sessionStorage.getItem("globalAutoId")||a&&a.autoId||(a={autoId:sessionStorage.getItem("globalAutoId")})),!a||!a.autoId)return e.initData(),void t.refreshProjectData(t.globalData.autoId).then(function(a){wx.setStorageSync("autoId"+t.globalData.autoId,a),wx.setNavigationBarTitle({title:a.projectName})});if(a.autoId){"undefined"!=typeof sessionStorage&&sessionStorage.setItem("globalAutoId",a.autoId);var o=a.autoId,i=wx.getStorageSync("data_js");i.autoId==o?(i.autoId=o,t.initProjectData(i),t.getProjectData(),t.refreshProjectData(o).then(function(t){wx.setStorageSync("data_js",t)}),e.initData()):t.refreshProjectData(o).then(function(a){a.autoId=o,wx.setStorageSync("data_js",a),t.initProjectData(a),t.getProjectData(),e.initData()})}},onLoad:function(a){console.log(" ------------ index:onLoad ------------- ");var e=this,o=decodeURIComponent(a.scene);o&&"undefined"!=o&&wx.setStorageSync("parentId"+t.globalData.autoId,o),t.loginVzSystem(),wx.getNetworkType({success:function(t){e.setData({netWorkType:t.networkType})}}),e.checkIfHasAutoId(a)},onShow:function(){this.data.loadCount>1&&this.initData(),this.setData({loadCount:this.data.loadCount+1})},initData:function(){a=t.globalData.projectInfo,e=t.globalData.customizeTabId,console.log(" ------------ index:onShow ------------- ");var i=wx.getStorageSync("memberType"+t.globalData.autoId);this.setData({memberType:i});var r=wx.getStorageSync("autoId"+t.globalData.autoId);r.projectName?wx.setNavigationBarTitle({title:r.projectName}):wx.setNavigationBarTitle({title:t.globalData.projectInfo.projectName});var c=this;if(a.appId&&!(a.appId.length<1)){if(""==t.globalData.city)s="",o=1,c.setData({posCity:"",productArr:[]}),c.getLocation().then(function(t){c.getBranchList()});else if(void 0==t.globalData.city||"{}"==JSON.stringify(t.globalData.city))t.globalData.city={},o=1,c.setData({productArr:[]}),c.getLocation().then(function(t){c.getBranchList()});else{if(t.globalData.city.cityName==this.data.posCity)return;s=t.globalData.city.cityID,o=1,c.setData({posCity:t.globalData.city.cityName})}clearInterval(n),c.getHomepageBaseInfo().then(function(){c.getHomePageTop(),c.getCustomizeTabList().then(function(){"1"==t.globalData.isGroup&&c.getActivity(),"1"==c.data.hasSeckill&&c.getSeckillActivity(),"1"==c.data.hasDistribution&&"3"==c.data.memberType?(c.checkDistribuction().then(function(){c.getHomepageProduct(),c.getProCategory()}),c.getDistributeProduct()):(c.getHomepageProduct(),c.getProCategory())})}),c.getHomepageAdvertise(),c.getBranchList()}},getHomePageTop:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getHomepageTop.action",data:{advertisementsCId:e.LynxHomePage,informationsCId:e.LynxPhoto_H_Info_Tab_Level2,productCId:e.LynxProductList},success:function(e){for(var o=t.getJsonData(e.data),i=0;i<o.advertisements.length;i++)o.advertisements[i].image=t.modifyPicSize(o.advertisements[i].image,"_r750x400p");if("O2O_V2"==a.data.minaInfo.subVersion){for(var s=Math.ceil(o.productClass.length/10),n=[],r=0;r<s;r++)n[r]=[],n[r].push(o.productClass.slice(10*r,10*(r+1)));a.setData({advertisements:o.advertisements,productClass:n})}else{for(var c=Math.ceil(o.productClass.length/5),l=[],u=0;u<c;u++)l[u]=[],l[u].push(o.productClass.slice(5*u,5*(u+1)));a.setData({advertisements:o.advertisements,productClass:l})}wx.stopPullDownRefresh()}})},getHomepageBaseInfo:function(){var e=this;return new Promise(function(o,i){wx.request({url:t.globalData.comUrl+"tabs_getHomepageBaseInfo.action",data:{projectId:a.appId},success:function(a){var i=t.getJsonData(a.data);t.globalData.changeClassify=i.minaInfo.productCategory,t.globalData.topayHidden=i.minaInfo.showCashOnDelivery,t.globalData.showComment=i.minaInfo.showComment,e.setData({minaInfo:i.minaInfo,isQuery:i.minaInfo.allHidden,isLoading:!0}),i.minaInfo.rollNewsHidden||e.getCategory().then(function(t){e.getNewsInfo(t)}),i.minaInfo.videoHidden||e.getVideoList(),getApp().globalData.isQuery=i.minaInfo.allHidden,o(i)}})})},getVideoList:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getVideoGalleryList.action",data:{appId:t.globalData.projectInfo.appId,customizeTabId:t.globalData.customizeTabId.Video_Gallery,isNeedHttps:0},success:function(e){var o=t.getJsonData(e.data);a.setData({videoList:o})},fail:function(){}})},getDistributeProduct:function(){var a=this;t.request({url:t.globalData.comUrl+"activityProduct_findGroupsProduceList.action",data:{appId:t.globalData.projectInfo.appId,groupsId:"distribution",current:1,isHomePage:1},success:function(t){console.log(t.data);var e=t.data;a.setData({disProList:e.pageList})}})},checkDistribuction:function(){var a=this;return new Promise(function(e,o){wx.request({url:t.globalData.comUrl+"dis_checkDistribuction.action",data:{appId:t.globalData.projectInfo.appId,memberId:t.getMemberId()},success:function(o){var i=t.getJsonData(o.data);t.globalData.actDistribution=i.activityDistribution,a.setData({actDistribution:i.activityDistribution}),e()},fail:function(){t.hint(),e()}})})},getSeckillActivity:function(){var a=this;wx.request({url:t.globalData.comUrl+"activityProduct_groupsIndex.action",data:{appId:t.globalData.projectInfo.appId,actType:"3"},success:function(t){clearInterval(r);var e=new Date(t.data.beginTime),o=new Date(t.data.nowTime),i=parseInt((e-o)/1e3);if(i>0)t.data.activityStart=!1,t.data.countDown=a.secondToTime(i),r=setInterval(function(){i--,t.data.countDown=a.secondToTime(i),a.setData({activitySeckill:t.data}),i<1&&(clearInterval(r),a.refresh())},1e3);else{if(t.data.activityTime<=0)return;t.data.activityStart=!0,t.data.countDown=a.secondToTime(t.data.activityTime),r=setInterval(function(){t.data.activityTime--,t.data.countDown=a.secondToTime(t.data.activityTime),a.setData({activitySeckill:t.data}),t.data.activityTime<=0&&(clearInterval(r),a.refresh())},1e3)}}})},getHomepageProduct:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getHomepageProduct.action",data:{advertise:"advertise",cityId:"",hotSale:"hotSale",isGroup:"1",productCId:e.LynxProductList,scroll:""},success:function(e){for(var o=t.getJsonData(e.data),i=0;i<o.advertiseProducts.length;i++)o.advertiseProducts[i].advertisingImage=t.modifyPicSize(o.advertiseProducts[i].advertisingImage,"_r750x200p");for(var s=0;s<o.hotSaleList.length;s++)o.hotSaleList[s].hotSaleImage=t.modifyPicSize(o.hotSaleList[s].hotSaleImage,"_r220x220p"),"5"==o.hotSaleList[s].actType||"3"==o.hotSaleList[s].actType||"6"==o.hotSaleList[s].actType&&"3"==a.data.memberType&&a.data.actDistribution.enable?o.hotSaleList[s].curPrice=o.hotSaleList[s].groupsPrice:1!=o.hotSaleList[s].purpose&&3!=o.hotSaleList[s].purpose||(o.hotSaleList[s].curPrice=o.hotSaleList[s].price);a.setData({hotSaleList:o.hotSaleList,hotSaleList1:o.hotSaleList.slice(0,5),hotSaleList2:o.hotSaleList.slice(5,10),advertiseProducts:o.advertiseProducts})}})},getHomepageAdvertise:function(){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getHomepageAdvertising.action",data:{projectId:a.appId},success:function(a){var o=t.getJsonData(a.data);o.PCAdevertising_activity[0]&&e.setData({couponAdImg:o.PCAdevertising_activity[0].picture1}),o.PCAdevertising_top[0]&&e.setData({PCAdevertising_top:o.PCAdevertising_top[0].picture1})}})},getBranchList:function(){var e=this,o={appId:a.appId};t.globalData.city.cityID>0&&(o.cityId=t.globalData.city.cityID),t.request({url:t.globalData.comUrl+"tabs_getRecommendBranch",data:o,success:function(a){var o=a.data.content;if(o.list.length>0){for(var i=0;i<o.list.length;i++)o.list[i].pic1=t.modifyPicSize(o.list[i].pic1,"_r192x90p");e.setData({branchInfo:o.list,hasBranch:!0})}else e.setData({hasBranch:!1})},fail:function(a){t.hint()}})},getActivity:function(){var a=this;wx.request({url:t.globalData.comUrl+"activityProduct_groupsIndex.action",data:{appId:t.globalData.projectInfo.appId},success:function(t){clearInterval(n);var e=new Date(t.data.beginTime),o=new Date(t.data.nowTime),i=parseInt((e-o)/1e3);if(i>0)t.data.activityStart=!1,t.data.countDown=a.secondToTime(i),n=setInterval(function(){i--,t.data.countDown=a.secondToTime(i),a.setData({activityInfo:t.data}),i<1&&(clearInterval(n),a.refresh())},1e3);else{if(t.data.activityTime<=0)return;t.data.activityStart=!0,t.data.countDown=a.secondToTime(t.data.activityTime),n=setInterval(function(){t.data.activityTime--,t.data.countDown=a.secondToTime(t.data.activityTime),a.setData({activityInfo:t.data}),t.data.activityTime<=0&&(clearInterval(n),a.refresh())},1e3)}}})},secondToTime:function(t){var a=Math.floor(t/3600/24),e=Math.floor(t/3600%24),o=Math.floor(t/60%60),i=Math.floor(t%60);return e<10&&(e="0"+e),o<10&&(o="0"+o),i<10&&(i="0"+i),{d:a,h:e,m:o,s:i}},getHomePageInfo:function(e){var o=this;return new Promise(function(i,s){wx.request({url:t.globalData.comUrl+"tabs_getIndexDetail3.action",data:{appId:a.appId,projectId:a.appId,status:"2",isGroup:1},success:function(a){var s=t.getJsonData(a.data);getApp().globalData.isQuery=s.minaInfo.allHidden,console.log(t.globalData.isQuery),o.setData({isQuery:s.minaInfo.allHidden});for(var n=0;n<s.advertisements.length;n++)s.advertisements[n].image=t.modifyPicSize(s.advertisements[n].image,"_r750x250p");for(var r=0;r<s.hotSaleList.length;r++)s.hotSaleList[r].hotSaleImage=t.modifyPicSize(s.hotSaleList[r].hotSaleImage,"_r330x330p"),s.hotSaleList[r].hotRecommendImage=t.modifyPicSize(s.hotSaleList[r].hotRecommendImage,"_r350x180p");for(var l=0;l<s.productClass.length;l++)s.productClass[l].categoryPicture=t.modifyPicSize(s.productClass[l].categoryPicture,"_r106x106p");for(var u=Math.ceil(s.productClass.length/10),d=[],g=0;g<u;g++)d[g]=[],d[g].push(s.productClass.slice(10*g,10*(g+1)));for(var p=Math.ceil(s.productClass.length/5),h=[],m=0;m<p;m++)h[m]=[],h[m].push(s.productClass.slice(5*m,5*(m+1)));o.setData({indexData:s,productClass:d,platformProductClass:h,hideNews:s.minaInfo.homeOnekeyHidden,hotSaleList:s.hotSaleList,hotSaleList1:s.hotSaleList.slice(0,5),hotSaleList2:s.hotSaleList.slice(5,10),subVersion:s.minaInfo.subVersion,oneKeyHidden:s.minaInfo.homeOnekeyHidden}),t.globalData.projectInfo.subVersion=s.minaInfo.subVersion,t.globalData.projectInfo.oneKeyHidden=s.minaInfo.homeOnekeyHidden,s.minaInfo.homeOnekeyHidden||(o.getCategory().then(function(t){o.getNewsInfo(t)}),o.getcyCategory().then(function(t){o.getcyNewsInfo(t),o.getcyAdList()}));for(var f=c,b=[],y=0;y<e.length;y++)for(var v=0;v<f.length;v++)""!=e[y].sysTabNameTag&&e[y].sysTabNameTag==f[v]?b.push(e[y]):""==e[y].sysTabNameTag&&e[y].sysTabName==f[v]&&b.push(e[y]);if("O2O_V1"==o.data.subVersion){for(var I=Math.ceil(b.length/5),D=[],T=0;T<I;T++)D[T]=[],D[T].push(b.slice(5*T,5*(T+1)));console.log(D),o.setData({moreArr:D})}else o.setData({moreArr:b});wx.hideToast(),wx.stopPullDownRefresh(),i(s)}})})},getLocation:function(){var a=this;return new Promise(function(e,o){wx.getLocation({type:"wgs84",success:function(o){wx.request({url:"https://api.map.baidu.com/geocoder/v2/?ak=9pCIOciquD3x9af5NWpsNnxtAwjczvhD&location="+o.latitude+","+o.longitude+"&output=json&pois=1",data:{},jsonp:!0,success:function(o){t.globalData.city.cityName=o.data.result.addressComponent.city,wx.request({method:"GET",url:t.globalData.comUrl+"tabs_getCityIdByName.action",data:{cityName:o.data.result.addressComponent.city},success:function(o){t.globalData.city.cityID=o.data.cityId,t.globalData.city.provinceId="",a.setData({posCity:t.globalData.city.cityName}),e(t.globalData.city)}})}})},fail:function(t){console.log(t),e()}})})},getCategory:function(){var o=this;return new Promise(function(i,s){wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{appId:a.appId,customizeTabId:e["Photo-Info-Tab-Level2"]},success:function(a){var e=t.getJsonData(a.data);o.setData({headlineImage:e[0].categoryIcon}),i(e)}})})},getcyCategory:function(){return new Promise(function(o,i){wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{appId:a.appId,customizeTabId:e.LynxPhoto_H_Info_Tab_Level2},success:function(a){var e=t.getJsonData(a.data);o(e)}})})},getCustomizeTabList:function(){var e=this;return new Promise(function(o,i){wx.request({url:t.globalData.comUrl+"tabs_getCustomizeTabList.action",data:{appId:a.appId},success:function(a){for(var i=t.getJsonData(a.data),s=!0,n=0;n<i.length;n++)"Activity-Group"==i[n].sysTabName&&(t.globalData.isGroup="1",e.setData({isGroup:"1"})),"Activity-Kill"==i[n].sysTabName&&e.setData({hasSeckill:"1"}),"Activity-Distribution"==i[n].sysTabName&&(t.globalData.isGroup="1",e.setData({hasDistribution:"1"})),"LynxAbout_Merchant"==i[n].sysTabNameTag&&(s=!1),"CardNo"==i[n].sysTabNameTag&&(t.globalData.isShowPrePay="1");for(var r=c,l=[],u=0;u<i.length;u++)for(var d=0;d<r.length;d++)""!=i[u].sysTabNameTag&&i[u].sysTabNameTag==r[d]?l.push(i[u]):""==i[u].sysTabNameTag&&i[u].sysTabName==r[d]&&l.push(i[u]);e.setData({moreArr:l,hiddenBranch:s}),o(i)}})})},toMoreFunction:function(a){switch(console.log(a.currentTarget.dataset.title),a.currentTarget.dataset.location){case"LynxProductList":t.globalData.isPerson?wx.navigateTo({url:"/pages/product/product"}):wx.switchTab({url:"/pages/product/product"}),this.setData({hideShareCoupon:!0});break;case"LynxAbout_Merchant":1==this.data.isPerson?wx.navigateTo({url:"/pages/store/layout-o2o/store"}):wx.switchTab({url:"/pages/store/layout-o2o/store"});break;case"LynxPhoto_Info_Post_Tab":wx.navigateTo({url:"/pages/supply/supply"});break;case"LynxPhoto_H_Info_Tab_Level2":wx.navigateTo({url:"/pages/news/news?sysTabName=LynxPhoto_H_Info_Tab_Level2&title="+a.currentTarget.dataset.title});break;case"Photo-Info-Tab-Level2":wx.navigateTo({url:"/pages/news/news?sysTabName=Photo-Info-Tab-Level2&title="+a.currentTarget.dataset.title});break;case"Video_Gallery":wx.navigateTo({url:"/pages/publicity/publicity"});break;case"Flexi-Form":wx.navigateTo({url:"/pages/store/custom/custom"});break;case"Activity":wx.navigateTo({url:"/pages/self/mycoupon/mycoupon"});break;case"LynxApplyFor_About_Merchant":t.getMemberId()?wx.navigateTo({url:"/pages/join/join"}):wx.navigateTo({url:"/pages/login/login"});break;case"Activity-Group":wx.navigateTo({url:"/pages/group/group-prolist/group-prolist"});break;case"About-Merchant":1==this.data.isPerson?wx.switchTab({url:"/pages/about-us/about-us"}):wx.navigateTo({url:"/pages/about-us/about-us"});break;case"Activity-Kill":wx.navigateTo({url:"/pages/seckill/seckill"});break;case"CardNo":t.getMemberId()?wx.navigateTo({url:"/pages/self/card/card"}):wx.navigateTo({url:"/pages/login/login"});break;case"Activity-Distribution":t.getMemberId()?wx.navigateTo({url:"/pages/distribute/distribute"}):wx.navigateTo({url:"/pages/login/login"})}},getNewsInfo:function(o){var i=this;o.length>=1&&wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e["Photo-Info-Tab-Level2"],categoryId:o[0].code,current:1},success:function(a){for(var e=t.getJsonData(a.data),o=[],s=Math.ceil(e.pageList.length/3),n=0;n<s;n++)o[n]=[],o[n].push(e.pageList.slice(3*n,3*(n+1)));for(var r=0;r<e.pageList.length;r++)e.pageList[r].picture1=t.modifyPicSize(e.pageList[r].picture1,"_r140x140p");i.setData({recommendNews:e.pageList.slice(0,3),headlineArr:o})}})},getcyNewsInfo:function(o){var i=this;o.length>=1&&wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e.LynxPhoto_H_Info_Tab_Level2,categoryId:o[0].code,current:1},success:function(a){for(var e=t.getJsonData(a.data),o=[],s=Math.ceil(e.pageList.length/3),n=0;n<s;n++)o[n]=[],o[n].push(e.pageList.slice(3*n,3*(n+1)));for(var r=0;r<e.pageList.length;r++)e.pageList[r].picture1=t.modifyPicSize(e.pageList[r].picture1,"_r140x140p");i.setData({entrepreneurshipList:e.pageList.slice(0,3),headlineArr:o})}})},getcyAdList:function(){var o=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e.LynxAdvertisingH_Photo_Info_Tab_Level1,current:1},success:function(a){var e=t.getJsonData(a.data);o.setData({adcyList:e.pageList})},fail:function(){t.hint()}})},getProCategory:function(){var o=this;wx.request({url:t.globalData.comUrl+"tabs_getAppCategoryProductByCity.action",data:{appId:a.appId,customizeTabId:e.LynxProductList,count:4,jsoncallback:"",productName:"",isGroup:1,advertiseroll:1},success:function(t){var a='{"list":'+t.data.substring(1).slice(0,-1)+"}",e=JSON.parse(a);console.log(e.list);for(var i=0;i<e.list.length;i++)for(var s=0;s<e.list[i].productList.length;s++)3==e.list[i].productList[s].actType||5==e.list[i].productList[s].actType||6==e.list[i].productList[s].actType&&3==o.data.memberType&&o.data.actDistribution.enable?e.list[i].productList[s].curPrice=e.list[i].productList[s].groupsPrice:1!=e.list[i].productList[s].purpose&&3!=e.list[i].productList[s].purpose||(e.list[i].productList[s].curPrice=e.list[i].productList[s].price);o.setData({proList:e.list})}})},getJoinPhone:function(){wx.request({url:t.globalData.comUrl+"tabs_getAboutMerchant.action",data:{customizetabId:e.LynxApplyFor_About_Merchant},success:function(a){var e=t.getJsonData(a.data);wx.makePhoneCall({phoneNumber:e.phone})}})},getReommendProducts:function(){var o=this,s={appId:a.appId,customizeTabId:e.LynxProductList,proId:"",disId:"",productName:"",current:4};wx.request({url:t.globalData.comUrl+"tabs_getAppProductByCity.action",data:s,success:function(a){var e=t.getJsonData(a.data);i=e.pages;for(var s=0;s<e.pageList.length;s++)3==e.pageList[s].actType||5==e.pageList[s].actType||6==e.pageList[s].actType&&3==o.data.memberType&&o.data.actDistribution.enable?e.pageList[s].curPrice=e.pageList[s].groupsPrice:1!=e.pageList[s].purpose&&3!=e.pageList[s].purpose||(e.pageList[s].curPrice=e.pageList[s].price),String(Math.abs(e.pageList[s].quantity)).length>3&&(e.pageList[s].quantity=String(Math.abs(e.pageList[s].quantity)).substring(0,3)),String(e.pageList[s].readTimes).length>3&&(e.pageList[s].readTimes=String(e.pageList[s].readTimes).substring(0,3));o.setData({productArr:o.data.productArr.concat(e.pageList)})}})},adtap:function(t){var a=this.data.advertisements[t.target.dataset.idx];switch(a.type){case"1":break;case"2":wx.navigateTo({url:"rich-text/rich-text?index="+t.target.dataset.idx});break;case"3":this.setData({adBigImage:a.image,hideBigImg:!1});break;case"4":wx.navigateTo({url:"/pages/store/store-detail/store-detail?tabContentId="+a.branchInfoId});break;case"5":wx.navigateTo({url:"/pages/product/pro-detail/pro-detail?productId="+a.productId})}},exitBigImage:function(){this.setData({hideBigImg:!0})},joinPhoneCall:function(){that.getJoinPhone()},toSearch:function(t){wx.navigateTo({url:"/pages/search/search?type=0"})},toSeckillActivity:function(){wx.navigateTo({url:"/pages/seckill/seckill"})},toPosition:function(){wx.navigateTo({url:"/pages/position/position"})},toProductList:function(t){wx.navigateTo({url:"/pages/product/pro-list/pro-list?bigCateCode="+t.currentTarget.dataset.code+"&title="+t.currentTarget.dataset.title})},toProductDetail:function(t){wx.navigateTo({url:"/pages/product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},toGroupActivity:function(){wx.navigateTo({url:"/pages/group/group-prolist/group-prolist"})},toStoreDetail:function(t){wx.navigateTo({url:"/pages/store/store-detail/store-detail?tabContentId="+t.currentTarget.dataset.sid})},toDistributePro:function(){wx.navigateTo({url:"/pages/distribute/distribute-product/distribute-product"})},toNewsList:function(){wx.navigateTo({url:"/pages/news/news?sysTabName=Photo-Info-Tab-Level2"})},toNewsDetail:function(t){wx.navigateTo({url:"/pages/news/news-detail/news-detail?tabContentId="+t.currentTarget.dataset.nid+"&type=4"})},toMyCoupon:function(){wx.navigateTo({url:"/pages/self/mycoupon/mycoupon"})},toAdvertis:function(){wx.navigateTo({url:"/pages/recommproducts/recommproducts"})},formSubmit:function(t){""!=t.detail.value.branchName?""!=t.detail.value.mainProject?""!=t.detail.value.phone?""!=t.detail.value.textCon?""!=t.detail.value.email?""!=t.detail.value.project?(wx.showToast({title:"正在提交...",icon:"loading",duration:2e3,mask:!0}),setTimeout(function(){wx.showToast({title:"提交成功",icon:"success",duration:2e3,mask:!0,success:function(){}})},2e3)):this.warn("预约项目不能为空"):this.warn("邮箱不能为空"):this.warn("请输入您的问题描述!"):this.warn("请输入您的联系方式!!"):this.warn("请输入您的年龄!"):this.warn("请输入您的名字!")},bindDateChange:function(t){this.setData({date:t.detail.value})},warn:function(t){wx.showModal({title:"提示",content:t,showCancel:!1})},onPullDownRefresh:function(){this.setData({indexData:{},productArr:[],bottomHint:!0,posCity:t.globalData.city.cityName}),clearInterval(n),s="",o=1;var a=this;a.getHomepageBaseInfo().then(function(){a.getHomePageTop(),a.getCustomizeTabList().then(function(){"1"==t.globalData.isGroup&&a.getActivity(),"1"==a.data.hasSeckill&&a.getSeckillActivity(),"1"==a.data.hasDistribution&&"3"==a.data.memberType?(a.checkDistribuction().then(function(){a.getHomepageProduct(),a.getProCategory()}),a.getDistributeProduct()):(a.getHomepageProduct(),a.getProCategory())})}),a.getHomepageAdvertise(),a.getBranchList()},onReachBottom:function(){o<i&&(o++,this.getNewsInfo())},refresh:function(){this.setData({indexData:{},productArr:[],bottomHint:!0,posCity:t.globalData.city.cityName}),clearInterval(n),s="",o=1;var a=this;a.getHomepageBaseInfo().then(function(){a.getHomePageTop(),a.getCustomizeTabList().then(function(){"1"==t.globalData.isGroup&&a.getActivity(),"1"==a.data.hasSeckill&&a.getSeckillActivity(),a.getHomepageAdvertise(),a.getHomepageProduct(),a.getProCategory()})}),a.getBranchList()},onShareAppMessage:function(){var o=this;return{title:a.productName,path:"/pages/index/index",success:function(a){wx.request({url:t.globalData.comUrl+"act_addShareMemberActivity.action",data:{memberId:t.getMemberId(),customizetabId:e.Activity},success:function(a){var e=t.getJsonData(a.data);1==e.code&&(e.endTime=e.endTime.substring(0,10),o.setData({hideShareCoupon:!1,shareActivity:e}))}})},fail:function(t){}}}}); 
 			}); 	require("pages/index/index.js");
 		__wxRoute = 'pages/rich-text/rich-text';__wxRouteBegin = true; 	define("pages/rich-text/rich-text.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",e="";Page({data:{txt:""},onLoad:function(o){a=t.globalData.projectInfo,e=t.globalData.customizeTabId,this.getHomePageTop(o.index)},getHomePageTop:function(a){var o=this;wx.request({url:t.globalData.comUrl+"tabs_getHomepageTop.action",data:{advertisementsCId:e.LynxHomePage},success:function(e){var s=t.getJsonData(e.data);o.setData({txt:s.advertisements[a].text})}})}}); 
 			}); 	require("pages/rich-text/rich-text.js");
 		__wxRoute = 'pages/recommproducts/recommproducts';__wxRouteBegin = true; 	define("pages/recommproducts/recommproducts.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",e="",i=1,o=1,s="";Page({data:{titles:[],cateList:[],productList:[],index:0,categoryCode:"",news_type:3,titleLeft:0,titleKey:1,hidden:!0,bottomHint:!0,leftHidden:!0,rightHidden:!0,scrolltop:0},onLoad:function(i){a=t.globalData.projectInfo,e=t.globalData.customizeTabId;var o=this;o.getProCategory(),"LynxPhoto_H_Info_Tab_Level2"==(s=i.sysTabName)?(o.getAdList(),o.setData({news_type:3})):o.setData({news_type:4})},getProCategory:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{customizeTabId:e.LynxProductList},success:function(e){var i=t.getJsonData(e.data);console.log(i),a.setData({cateList:i}),a.titletap()}})},getProductList:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getZXProductListByCategory.action",data:{customizeTabId:e.LynxProductList,bigCateGoryCode:a.data.categoryCode,current:i,status:2,recommand:1,isBreif:1,isGroup:t.globalData.isGroup},success:function(e){var i=t.getJsonData(e.data);o=i.pages,a.setData({productList:a.data.productList.concat(i.pageList)}),i.pageList.length>0?a.setData({hasPro:!0}):a.setData({hasPro:!1})}})},titletap:function(t){i=1;var a=this;this.setData({productList:[]}),t&&void 0!=t?(a.setData({categoryCode:t.currentTarget.dataset.code,bottomHint:!0,hidden:!0,index:t.currentTarget.dataset.index}),a.getProductList(t.currentTarget.dataset.code)):(a.setData({categoryCode:a.data.cateList[0].code,bottomHint:!0,hidden:!0}),a.getProductList())},onReachBottom:function(){i<o?(i++,this.getProductList()):i>1&&(this.data.pageList.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))},onPullDownRefresh:function(){i=1,this.setData({productList:[]}),wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),this.getProductList()},turnLeft:function(){console.log(this.data.titleKey),this.data.titleKey>1&&(this.setData({titleLeft:this.data.titleLeft+200,titleKey:this.data.titleKey-1}),1==this.data.titleKey&&this.setData({leftHidden:!0,rightHidden:!1}))},turnRight:function(){console.log(this.data.titleKey),this.data.titleKey<this.data.titles.length-2&&(this.setData({titleLeft:this.data.titleLeft-200,titleKey:this.data.titleKey+1}),this.data.titleKey==this.data.titles.length-2&&this.setData({rightHidden:!0,leftHidden:!1}))},toProductDetail:function(t){wx.navigateTo({url:"../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})}}); 
 			}); 	require("pages/recommproducts/recommproducts.js");
 		__wxRoute = 'pages/store/store';__wxRouteBegin = true; 	define("pages/store/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var o=getApp();Page({data:{projectType:o.globalData.projectInfo.projectType,isPerson:o.globalData.isPerson},onLoad:function(){var o={education:"layout-o2o",meirong:"layout-meirong",o2o:"layout-o2o","o2o-shop":"layout-o2o",restaurant:"","restaurant-multi":"layout-meirong",tmall:"layout-o2o"}[this.data.projectType]||"layout-o2o";"tmall"==this.data.projectType||this.data.isPerson?wx.redirectTo({url:o+"/store"}):wx.switchTab({url:o+"/store",fail:function(){wx.redirectTo({url:o+"/store"})}})}}); 
 			}); 	require("pages/store/store.js");
 		__wxRoute = 'pages/store/layout-o2o/store';__wxRouteBegin = true; 	define("pages/store/layout-o2o/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var a,e=getApp(),o="",r="",s=1,n=1;Page({data:(a={styleConfig:e.globalData.styleConfig,adArr:[],storeArr:[],show:!1,bCate_code:0,smCate_code:0,provinceId:-1,cityId:-1,categoryId:-1,level:0,bigCategory:[],showBigCate:!1,smallCategory:[],showSmallCate:!0,provinceArr:[],cityArr:[],showProvince:!1,showCity:!1},t(a,"show",!1),t(a,"noStore",!0),t(a,"bottomHint",!0),t(a,"homePageLayout",e.globalData.projectInfo.homePageLayout),a),onLoad:function(){o=e.globalData.projectInfo,r=e.globalData.customizeTabId,wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),o=e.globalData.projectInfo,r=e.globalData.customizeTabId;var t=this;t.storeInfo(),t.getBigCategory()},toSearch:function(t){wx.navigateTo({url:"../search/search?type=1"})},menutap:function(){this.setData({show:!this.data.show})},confirm:function(){this.setData({storeArr:[],adArr:[],noStore:!0,bottomHint:!0}),s=1,this.setData({show:!this.data.show}),this.storeInfo()},toStoreDetails:function(t){wx.navigateTo({url:"../store-detail/store-detail?tabContentId="+t.currentTarget.dataset.pid})},storeInfo:function(){var t=this,a={appId:o.appId,customizeTabId:r.LynxAbout_Merchant,advertisement:1,current:s};t.data.level>0&&(a.level=t.data.level),t.data.provinceId>0&&(a.provinceId=t.data.provinceId),t.data.cityId>0&&(a.cityId=t.data.cityId),t.data.categoryId&&(a.categoryId=t.data.categoryId);try{wx.request({url:e.globalData.comUrl+"mctab_searchBranchInfo.action",data:a,success:function(a){var o=e.getJsonData(a.data);n=o.pages;for(var r=0;r<o.pageList.length;r++)o.pageList[r].isAdvertisement&&t.data.adArr.push(o.pageList[r]),o.pageList[r].pic1=e.modifyPicSize(o.pageList[r].pic1,"_rx160p");t.setData({storeArr:t.data.storeArr.concat(o.pageList),bottomHint:!0}),1==s&&t.setData({adArr:t.data.adArr}),0==t.data.storeArr.length?t.setData({noStore:!1}):t.setData({noStore:!0}),wx.hideToast(),wx.stopPullDownRefresh()},fail:function(t){e.hint()}})}catch(t){e.hint(t)}},onReachBottom:function(){s<n?(s++,this.storeInfo()):s>1&&(this.data.storeArr.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))},onPullDownRefresh:function(){this.reset()},getBigCategory:function(){var t=this;wx.request({url:e.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{appId:o.appId,customizeTabId:r.LynxAbout_Merchant},success:function(a){var o=e.getJsonData(a.data);t.setData({bigCategory:o})},fail:function(t){e.hint("获取大类失败")}})},bigCate_unfold:function(){this.setData({showBigCate:!this.data.showBigCate})},getSmallCategory:function(t){var a=this;a.setData({bCate_code:t.currentTarget.dataset.code,categoryId:t.currentTarget.dataset.code}),wx.request({url:e.globalData.comUrl+"tabs_getPhotoInfoTabCategoryFromL1toL2.action",data:{appId:o.appId,customizeTabId:r.LynxAbout_Merchant,categoryCode:t.currentTarget.dataset.code},success:function(t){var o=e.getJsonData(t.data);a.setData({smallCategory:o,showSmallCate:!1}),s=1,a.setData({level:1})},fail:function(t){e.hint()}})},smCateTap:function(t){0!=t.currentTarget.dataset.code?this.setData({level:"",smCate_code:t.currentTarget.dataset.code,categoryId:t.currentTarget.dataset.code}):this.setData({level:1,smCate_code:t.currentTarget.dataset.code,categoryId:this.data.bCate_code})},getProvinceInfo:function(){var t=this;wx.request({url:e.globalData.comUrl+"mctab_getBranchProvinces.action",data:{appId:o.appId,customizeTabId:r.LynxAbout_Merchant},success:function(a){var o=e.getJsonData(a.data);t.setData({provinceArr:o})},fail:function(t){e.hint()}})},getCityInfo:function(t){var a=this;a.setData({provinceId:t.currentTarget.dataset.proid}),"0"==t.currentTarget.dataset.proid?(s=1,a.setData({provinceId:"",cityId:"",showCity:!1})):wx.request({url:e.globalData.comUrl+"mctab_getBranchCitys.action",data:{appId:o.appId,customizeTabId:r.LynxAbout_Merchant,provinceId:t.currentTarget.dataset.proid},success:function(t){var o=e.getJsonData(t.data);a.setData({cityArr:o,showCity:!0})},fail:function(t){e.hint()}})},citytap:function(t){"0"==t.currentTarget.dataset.cityid?this.setData({cityId:""}):this.setData({cityId:t.currentTarget.dataset.cityid}),s=1},prov_unfold:function(){this.setData({showProvince:!this.data.showProvince}),this.getProvinceInfo()},reset:function(){s=1,n=1,this.setData({adArr:[],storeArr:[],showBigCate:!1,showSmallCate:!1,showProvince:!1,showCity:!1,bottomHint:!0,bCate_code:0,smCate_code:0,provinceId:-1,cityId:-1,categoryId:-1,level:0}),this.storeInfo()},onShareAppMessage:function(){return{title:"商铺",path:"/pages/store/store-o2o/store",success:function(t){},fail:function(t){}}}}); 
 			}); 	require("pages/store/layout-o2o/store.js");
 		__wxRoute = 'pages/store/store-detail/store-detail';__wxRouteBegin = true; 	define("pages/store/store-detail/store-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,o=t.globalData.customizeTabId,e="",i="",n={},r=!0,s=!0,c=1,l=1;Page({data:{styleConfig:t.globalData.styleConfig,storeInfo:{},productArr:[],collectStatus:"0",tapIndex:1,bottomHint:!0,isGroup:t.globalData.isGroup,storeImgArr:[],actDistribution:{}},onLoad:function(e){t.loginVzSystem(),a=t.globalData.projectInfo,o=t.globalData.customizeTabId;var i=wx.getStorageSync("memberType"+t.globalData.autoId);this.setData({memberType:i}),t.globalData.actDistribution&&this.setData({actDistribution:t.globalData.actDistribution});var n=this;c=1,n.getStoreInfo(e),n.getCollectStatus()},nav_tap:function(t){var a=0;"1"==t.currentTarget.dataset.index?(a=1,this.getProductList()):a="2"==t.currentTarget.dataset.index?2:3,this.setData({tapIndex:a})},getStoreInfo:function(o){var i=this;e=o.tabContentId,wx.request({url:t.globalData.comUrl+"tabs_getSingleBranchInfo.action",data:{appId:a.appId,tabContentId:e},success:function(a){n=t.getJsonData(a.data),console.log(n);for(var o=[n.pic1,n.pic2,n.pic3,n.pic4,n.pic5],e=[],r=0;r<o.length;r++)o[r]&&(o[r]=t.modifyPicSize(o[r],"_r375x175p"),e.push(o[r]));n.shortDescription=t.filterSpecialSymbol(n.shortDescription),i.setData({storeInfo:n,storeImgArr:e}),wx.setNavigationBarTitle({title:n.branchName}),i.getProductList()},fail:function(a){t.hint()}})},getProductList:function(){var e=this,i=e.data.storeInfo.id;wx.request({url:t.globalData.comUrl+"tabs_getZXProductListByCategory.action",data:{appId:a.appId,customizeTabId:o.LynxProductList,current:"1",status:"2",branchInfoId:i,isGroup:t.globalData.isGroup,sortName:"prodSequence"},success:function(a){var o=t.getJsonData(a.data);l=o.pages,e.setData({productArr:o.pageList}),wx.hideToast()},fail:function(a){t.hint()}})},getMoreProduct:function(){var e=this,i=e.data.storeInfo.id;wx.request({url:t.globalData.comUrl+"tabs_getZXProductListByCategory.action",data:{appId:a.appId,customizeTabId:o.LynxProductList,current:c,status:"2",branchInfoId:i,isGroup:t.globalData.isGroup,sortName:"prodSequence"},success:function(a){var o=t.getJsonData(a.data);e.setData({productArr:e.data.productArr.concat(o.pageList)})},fail:function(a){t.hint()}})},toProDetail:function(t){wx.navigateTo({url:"/pages/product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},collect:function(){if(0!=r){r=!1;var o=this;(i=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_addCollection.action",data:{appId:a.appId,memberId:i,type:2,objId:n.id,name:n.branchName,address:n.address,tell:n.tel,pic_url:n.pic1},success:function(t){o.getCollectStatus()},fail:function(a){t.hint("收藏失败")}}):(r=!0,wx.navigateTo({url:"/pages/login/login"}))}},cancelCollect:function(){if(0!=s){s=!1;var a=this;(i=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_delCollectionByObjId.action",data:{id:e,memberId:i},success:function(t){a.getCollectStatus()},fail:function(a){t.hint("取消收藏失败")}}):(s=!0,wx.navigateTo({url:"/pages/login/login"}))}},getCollectStatus:function(){if(i=t.getMemberId()){var o=this;wx.request({url:t.globalData.comUrl+"tabs_checkCollection.action",data:{appId:a.appId,memberId:i,id:e},success:function(a){var e=t.getJsonData(a.data);o.setData({collectStatus:e.isExisted})},fail:function(a){t.hint()},complete:function(){s=!0,r=!0}})}},phonecall:function(){var t=this.data.storeInfo.phone;wx.makePhoneCall({phoneNumber:t})},locationtap:function(){var t=this,a=t.data.storeInfo.gdLatitude;a=(1*a).toFixed(6);var o=t.data.storeInfo.gdLongitude;o=(1*o).toFixed(6),wx.openLocation({latitude:parseFloat(a),longitude:parseFloat(o),name:t.data.storeInfo.branchName,address:t.data.storeInfo.address,scale:28})},customtap:function(){wx.navigateTo({url:"/pages/store/custom/custom?branchId="+this.data.storeInfo.id})},onReachBottom:function(){c<l?(c++,this.getMoreProduct()):c>1&&(this.data.productArr.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))},onShareAppMessage:function(){var t=this;return{title:t.data.storeInfo.branchName,path:"/pages/store/store-o2o/store-detail/store-detail?tabContentId="+t.data.storeInfo.id,success:function(t){},fail:function(t){}}}}); 
 			}); 	require("pages/store/store-detail/store-detail.js");
 		__wxRoute = 'pages/store/layout-meirong/store';__wxRouteBegin = true; 	define("pages/store/layout-meirong/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var a,e=getApp(),o=e.globalData.projectInfo,i=e.globalData.customizeTabId,s=1,n=1;Page((a={data:{hiddenCate:!0,merchantList:[],curIdx:"0",sortName:"",bigcategory:"",smallCategory:"",searchKey:"",bigCateList:[],smallCateList:[],hiddenSCAll:!0,latitude:"",longitude:"",ignoreScope:e.globalData.ignoreScope,styleConfig:e.globalData.styleConfig},checkIfHasAutoId:function(t){!sessionStorage.getItem("globalAutoId")||t&&t.autoId||(t={autoId:sessionStorage.getItem("globalAutoId")}),t&&t.autoId&&t.autoId&&(this.setData({ignoreScope:!0}),this.getMerchantList())},onLoad:function(t){o=e.globalData.projectInfo,i=e.globalData.customizeTabId,this.checkIfHasAutoId(),wx.showLoading({title:"努力加载中",duration:1500}),t.bigcategory&&this.setData({bigcategory:t.bigcategory}),t.itemName&&wx.setNavigationBarTitle({title:t.itemName});var a=this;0==e.globalData.g_location.lat?wx.getLocation({type:"wgs84",success:function(t){a.setData({latitude:t.latitude,longitude:t.longitude}),a.getMerchantList()}}):(a.setData({latitude:e.globalData.g_location.lat,longitude:e.globalData.g_location.lng}),a.getMerchantList()),this.getBigCategory()},onShow:function(){s=1},getMerchantList:function(){var t=this,a={appId:o.appId,customizeTabId:i.LynxAbout_Merchant,current:s,latitude:t.data.latitude,longitude:t.data.longitude,searchKey:t.data.searchKey,sortName:t.data.sortName,smallCategory:t.data.smallCategory,bigcategory:t.data.bigcategory,sortType:""};t.data.ignoreScope&&(a.checkDistributionScope="",a.latitude=23.131687,a.longitude=113.36391),wx.request({url:e.globalData.comUrl+"mctab_searchFoodBranchInfo.action",data:a,success:function(a){var o=e.getJsonData(a.data);console.log(o),n=o.pages;for(var i=0;i<o.pageList.length;i++){var s=o.pageList[i].productList.slice(0,2);o.pageList[i].newProductList=s,o.pageList[i].isShowMorePro=!1,o.pageList[i].distance>=1e3&&(o.pageList[i].disUnit="km",o.pageList[i].distance=(o.pageList[i].distance/1e3).toFixed(1))}var r=t.data.merchantList.concat(o.pageList);t.setData({merchantList:r}),wx.hideLoading()}})},getBigCategory:function(){var t=this;wx.request({url:e.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{appId:o.appId,customizeTabId:i.LynxAbout_Merchant},success:function(a){var o=e.getJsonData(a.data);t.setData({bigCateList:o})},fail:function(t){e.hint("获取大类失败")}})},getSmallCategory:function(t){var a=this;a.setData({bigcategory:t.currentTarget.dataset.code,hiddenSCAll:!1,smallCategory:""}),wx.request({url:e.globalData.comUrl+"tabs_getPhotoInfoTabCategoryFromL1toL2.action",data:{appId:o.appId,customizeTabId:i.LynxAbout_Merchant,categoryCode:t.currentTarget.dataset.code},success:function(t){var o=e.getJsonData(t.data);a.setData({smallCateList:o}),s=1},fail:function(t){e.hint()}})},isShowCategory:function(){if(this.setData({hiddenCate:!this.data.hiddenCate,curIdx:"0"}),!this.hiddenCate){var t=this;wx.request({url:e.globalData.comUrl+"/tabs_getPhotoInfoTabCategory.action",data:{appId:o.appId,branchInfoId:t.data.branchInfoId,customizeTabId:i.LynxAbout_Merchant},success:function(t){var a=e.getJsonData(t.data);console.log(a)}})}},navtap:function(t){wx.showLoading({title:"努力加载中",duration:1500});var a=t.target.dataset.idx;this.setData({curIdx:a,sortName:1==a?"":"distance",hiddenCate:!0,merchantList:[]}),s=1,this.getMerchantList()},searchTap:function(t){this.setData({searchKey:t.detail.value,merchantList:[]}),this.getMerchantList()},showMoreProduct:function(t){console.log(t.target.dataset.idx),this.data.merchantList[t.target.dataset.idx].isShowMorePro=!this.data.merchantList[t.target.dataset.idx].isShowMorePro,this.setData({merchantList:this.data.merchantList})},toProduct:function(t){wx.navigateTo({url:"../product/product?merchantId="+t.currentTarget.dataset.mid})},toProduct1:function(t){wx.navigateTo({url:"../product/product?merchantId="+t.currentTarget.dataset.mid+"&bigCode="+t.currentTarget.dataset.cid})},bigCateAllTap:function(){wx.showLoading({title:"努力加载中",duration:1500}),s=1,this.setData({hiddenCate:!0,merchantList:[],sortName:"",bigcategory:"",smallCategory:"",smallCateList:"",searchKey:"",hiddenSCAll:!0}),this.getMerchantList()},toStoreDetail:function(t){wx.navigateTo({url:"../store-detail/store-detail?tabContentId="+t.currentTarget.dataset.mid})}},t(a,"toProduct",function(t){wx.navigateTo({url:"../../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})}),t(a,"smallCataTap",function(t){wx.showLoading({title:"努力加载中",duration:1500}),s=1,this.setData({smallCategory:t.currentTarget.dataset.scode,hiddenCate:!0,merchantList:[],searchKey:""}),this.getMerchantList()}),t(a,"onPullDownRefresh",function(){}),t(a,"onReachBottom",function(){s<n&&(s++,this.getMerchantList())}),a)); 
 			}); 	require("pages/store/layout-meirong/store.js");
 		__wxRoute = 'pages/store/layout-enterprise/store-detail/store-detail';__wxRouteBegin = true; 	define("pages/store/layout-enterprise/store-detail/store-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,o={},n=!0;Page({data:{styleConfig:t.globalData.styleConfig,storeInfo:{},storeImg:[],productArr:[],tapIndex:2,bottomHint:!0},onLoad:function(){a=t.globalData.projectInfo,e=t.globalData.customizeTabId,t.loginVzSystem();var o=this;o.getStoreId().then(function(t){o.getStoreInfo(t)})},nav_tap:function(t){var a=0;a="1"==t.currentTarget.dataset.index?1:"2"==t.currentTarget.dataset.index?2:3,this.setData({tapIndex:a})},getStoreId:function(){return new Promise(function(o,n){wx.request({url:t.globalData.comUrl+"mctab_searchBranchInfo.action",data:{appId:a.appId,customizeTabId:e.LynxAbout_Merchant,advertisement:1,current:1},success:function(a){var e=t.getJsonData(a.data);console.log(e.pageList[0]),o(e.pageList[0].id)}})})},formSubmit:function(a){if(n){n=!1;var e=/^1[3|4|5|8|7][0-9]\d{4,8}$/;if(""==a.detail.value.name)return n=!0,void this.warn("姓名不能为空!");if(""==a.detail.value.phone)return n=!0,void this.warn("请输入电话号码!");if(!e.test(a.detail.value.phone))return n=!0,void this.warn("请输入正确的电话号码");if(""==a.detail.value.detail)return n=!0,void this.warn("请输入\b反馈内容");wx.showToast({title:"正在提交...",icon:"loading",duration:1e4,mask:!0});var o=new Date,i=t.globalData.projectInfo.projectName+","+a.detail.value.name+","+a.detail.value.phone+","+a.detail.value.detail,r={storeName:a.detail.value.storeName,name:a.detail.value.name,phone:a.detail.value.phone,detail:a.detail.value.detail,imagePath:"",date:o.toLocaleDateString()},s=wx.getStorageSync("customArr"+t.globalData.autoId)||[];s.push(r),wx.setStorageSync("customArr"+t.globalData.autoId,s),i+=",null",wx.request({url:t.globalData.comUrl+"tabs_saveFlexiForm",data:{projectId:t.globalData.projectInfo.appId,customizeTabId:t.globalData.customizeTabId["Flexi-Form"],token:"html5",fieldKey:"店铺,姓名,电话,描述,附图说明",fieldValue:i},success:function(t){wx.showToast({title:"提交成功",icon:"success",duration:2e3})},fail:function(a){t.hint("提交失败"),wx.hideToast()},complete:function(){n=!0}})}},getStoreInfo:function(e){var n=this;wx.request({url:t.globalData.comUrl+"tabs_getSingleBranchInfo.action",data:{appId:a.appId,tabContentId:e},success:function(a){(o=t.getJsonData(a.data)).advertisingImage=t.modifyPicSize(o.advertisingImage,"_r750xp");for(var e=[o.pic1,o.pic2,o.pic3,o.pic4,o.pic5],i=[],r=0;r<e.length;r++)e[r]&&i.push(e[r]);o.shortDescription=t.filterSpecialSymbol(o.shortDescription),n.setData({storeInfo:o,storeImg:i}),wx.setNavigationBarTitle({title:o.branchName})},fail:function(a){t.hint()}})},phonecall:function(){var t=this.data.storeInfo.phone;wx.makePhoneCall({phoneNumber:t})},locationtap:function(){var t=this,a=t.data.storeInfo.gdLatitude;a=(1*a).toFixed(6);var e=t.data.storeInfo.gdLongitude;e=(1*e).toFixed(6),wx.openLocation({latitude:parseFloat(a),longitude:parseFloat(e),name:t.data.storeInfo.branchName,address:t.data.storeInfo.address,scale:28})},customtap:function(){wx.navigateTo({url:"/pages/store/custom/custom"})},onShareAppMessage:function(){var t=this;return{title:t.data.storeInfo.branchName,path:"/pages/store/store-o2o/store-detail/store-detail?tabContentId="+t.data.storeInfo.id,success:function(t){},fail:function(t){}}},warn:function(t){wx.showToast({title:t,image:"../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/store/layout-enterprise/store-detail/store-detail.js");
 		__wxRoute = 'pages/store/custom/custom';__wxRouteBegin = true; 	define("pages/store/custom/custom.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t="",e="",i="",o=!0;Page({data:{styleConfig:a.globalData.styleConfig,imagePath:"",storeName:"",name:"",phone:"",detail:"",branchId:""},takephoto:function(){var t=this;wx.chooseImage({count:1,success:function(a){var e=a.tempFilePaths[0];t.setData({imagePath:e})},fail:function(t){a.hint("上传失败")}})},onLoad:function(a){a.branchId&&this.setData({branchId:a.branchId})},formSubmit:function(n){if(o){o=!1;var l=this,s=/^1[3|4|5|8|7][0-9]\d{4,8}$/;if(""==n.detail.value.storeName)return o=!0,void this.warn("店铺不能为空!");if(""==n.detail.value.name)return o=!0,void this.warn("姓名不能为空!");if(""==n.detail.value.phone)return o=!0,void this.warn("请输入电话号码!");if(!s.test(n.detail.value.phone))return o=!0,void this.warn("请输入正确的电话号码");wx.showToast({title:"正在提交...",icon:"loading",duration:1e4,mask:!0});var r=new Date;t="店铺,姓名,电话,描述,附图说明",e=n.detail.value.storeName+","+n.detail.value.name+","+n.detail.value.phone+","+n.detail.value.detail;var c={storeName:n.detail.value.storeName,name:n.detail.value.name,phone:n.detail.value.phone,detail:n.detail.value.detail,imagePath:this.data.imagePath,date:r.toLocaleDateString()},u=wx.getStorageSync("customArr"+a.globalData.autoId)||[];u.push(c),wx.setStorageSync("customArr"+a.globalData.autoId,u),l.data.imagePath?wx.uploadFile({url:a.globalData.comUrl+"tabs_uploadPicMina.action",filePath:l.data.imagePath,name:"file",success:function(a){var t=JSON.parse(a.data);console.log(t),"1"==t.isSuccess&&(i=t.path)},fail:function(t){a.hint("图片上传失败")},complete:function(){i?e=e+","+i:e+=",null",wx.request({url:a.globalData.comUrl+"tabs_saveFlexiForm",data:{projectId:a.globalData.projectInfo.appId,customizeTabId:a.globalData.customizeTabId["Flexi-Form"],token:"html5",branchId:l.data.branchId,fieldKey:t,fieldValue:e},success:function(a){l.setData({imagePath:"",storeName:"",name:"",phone:"",detail:""}),wx.showToast({title:"提交成功",icon:"success",duration:2e3})},fail:function(t){a.hint("提交失败"),wx.hideToast()},complete:function(){o=!0}})}}):(e+=",null",wx.request({url:a.globalData.comUrl+"tabs_saveFlexiForm",data:{projectId:a.globalData.projectInfo.appId,customizeTabId:a.globalData.customizeTabId["Flexi-Form"],branchId:l.data.branchId,token:"html5",fieldKey:t,fieldValue:e},success:function(a){l.setData({imagePath:"",storeName:"",name:"",phone:"",detail:""}),wx.showToast({title:"提交成功",icon:"success",duration:2e3})},fail:function(t){a.hint("提交失败"),wx.hideToast()},complete:function(){o=!0}}))}},formReset:function(){this.setData({imagePath:""})},warn:function(a){wx.showToast({title:a,image:"../../../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/store/custom/custom.js");
 		__wxRoute = 'pages/self/card/card';__wxRouteBegin = true; 	define("pages/self/card/card.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),e="",t="";Page({data:{isShowGetCard:!0,cardImage:"",cardNo:"",preMoney:"",isloading:!0},onLoad:function(o){e=a.globalData.projectInfo,t=a.globalData.customizeTabId,this.getRechargeDetail();var r=this;wx.request({url:a.globalData.comUrl+"mctab_getElectronicsCard.action",data:{appId:e.appId,webApp:"1"},success:function(e){var t=a.getJsonData(e.data);r.setData({cardImage:t.background})}})},onShow:function(){t=a.globalData.customizeTabId,this.getUserInfo()},getRechargeDetail:function(){wx.request({url:a.globalData.comUrl+"mctab_getMoneyRecord.action",data:{memberId:a.getMemberId(),type:"1",current:"1"},success:function(a){console.log(a.data)}})},getUserInfo:function(){var e=this;wx.request({url:a.globalData.comUrl+"tabs_getMember.action",data:{memberId:a.getMemberId(),customizetabId:t.LynxApplyFor_About_Merchant},success:function(t){var o=a.getJsonData(t.data);e.setData({preMoney:o.preMoney,isloading:!1}),o.cardNo&&e.setData({isShowGetCard:!1,cardNo:o.cardNo}),wx.hideToast()},fail:function(){a.hint()}})},toPrestoreMoney:function(){wx.navigateTo({url:"prestore-money/prestore-money"})},toPrestoreRule:function(){wx.navigateTo({url:"prestore-rule/prestore-rule"})},getCard:function(){var e=this;wx.request({url:a.globalData.comUrl+"mctab_regElectronicsMember.action",data:{memberId:a.getMemberId()},success:function(t){var o=a.getJsonData(t.data);wx.showToast({title:"领取成功",icon:"success"}),e.setData({cardNo:o.cardNo,isShowGetCard:!1})}})}}); 
 			}); 	require("pages/self/card/card.js");
 		__wxRoute = 'pages/self/card/prestore-rule/prestore-rule';__wxRouteBegin = true; 	define("pages/self/card/prestore-rule/prestore-rule.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t="";Page({data:{rule:""},onShow:function(){},onLoad:function(){t=a.globalData.projectInfo;var e=this;wx.request({url:a.globalData.comUrl+"mctab_getPreExisting.action",data:{appId:t.appId,webApp:1},success:function(t){var o=a.getJsonData(t.data);e.setData({rule:o.preMoneyRule})}})}}); 
 			}); 	require("pages/self/card/prestore-rule/prestore-rule.js");
 		__wxRoute = 'pages/self/card/prestore-money/prestore-money';__wxRouteBegin = true; 	define("pages/self/card/prestore-money/prestore-money.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),t="",a="";Page({data:{preMoney:0},onShow:function(){a=e.globalData.customizeTabId,t=e.globalData.projectInfo,this.getUserInfo()},onLoad:function(){},getUserInfo:function(){var t=this;wx.request({url:e.globalData.comUrl+"tabs_getMember.action",data:{memberId:e.getMemberId(),customizetabId:a.LynxApplyFor_About_Merchant},success:function(a){var o=e.getJsonData(a.data);t.setData({preMoney:o.preMoney}),wx.hideToast()},fail:function(){e.hint()}})},toRecharge:function(){wx.navigateTo({url:"../recharge/recharge"})},toDetail:function(){wx.navigateTo({url:"../prestore-detail/prestore-detail"})}}); 
 			}); 	require("pages/self/card/prestore-money/prestore-money.js");
 		__wxRoute = 'pages/self/card/prestore-detail/prestore-detail';__wxRouteBegin = true; 	define("pages/self/card/prestore-detail/prestore-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{detailList:[],detailNull:!1},onShow:function(){},onLoad:function(){var e=this;wx.request({url:t.globalData.comUrl+"mctab_getMoneyRecord.action",data:{memberId:t.getMemberId(),type:"1",current:"1"},success:function(a){console.log(a.data);for(var i=t.getJsonData(a.data),n=0;n<i.pageList.length;n++)1==i.pageList[n].kind?i.pageList[n].money="+ "+i.pageList[n].money:4==i.pageList[n].kind&&(i.pageList[n].money="- "+i.pageList[n].money);i.pageList.length,e.setData({detailList:i.pageList})}})}}); 
 			}); 	require("pages/self/card/prestore-detail/prestore-detail.js");
 		__wxRoute = 'pages/self/card/recharge/recharge';__wxRouteBegin = true; 	define("pages/self/card/recharge/recharge.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),t="";Page({data:{rechargeList:[],rule:"",rechargeMoney:""},onShow:function(){},onLoad:function(){t=e.globalData.projectInfo,wx.showLoading({title:"加载中..."});var a=this;wx.request({url:e.globalData.comUrl+"mctab_getPreExisting.action",data:{appId:t.appId,webApp:1},success:function(t){wx.hideLoading();var n=e.getJsonData(t.data);a.setData({rechargeList:n.preMoneys,rule:n.preMoneyRule})},fail:function(){wx.hideLoading(),e.hint()}})},radioChange:function(e){this.setData({rechargeMoney:e.detail.value})},recharge:function(){var a=this,n=this.getNowFormatDate();console.log(n),wx.login({success:function(o){o.code&&wx.request({url:e.globalData.paymentUrl+"/WechatAlipay/MiniPayService2?jsoncallback=?",data:{projectId:t.appId,nonce_str:"lfksf"+Math.round(1e5*Math.random()),body:"在线充值",attach:e.getMemberId()+"_"+t.appId+"_1",out_trade_no:n,total_fee:(100*a.data.rechargeMoney).toFixed(0),trade_type:"JSAPI",device_info:"888",code:o.code,payType:"1"},success:function(e){if(wx.hideToast(),""!=e.data){var t=a.getJsonData(e.data);wx.requestPayment({timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:"prepay_id="+t.prepay_id,signType:"MD5",paySign:t.sign,success:function(e){wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){wx.navigateBack({delta:1})},2e3)},fail:function(e){wx.showModal({title:"支付失败",showCancel:!1})}})}else wx.showModal({title:"支付失败",showCancel:!1})}})}})},getJsonData:function(e){return JSON.parse(e.substring(1,e.length-1))},getNowFormatDate:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate();return t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),e.getFullYear()+""+t+a+e.getHours()+e.getMinutes()+e.getSeconds()}}); 
 			}); 	require("pages/self/card/recharge/recharge.js");
 		__wxRoute = 'pages/product/pro-detail/pro-detail';__wxRouteBegin = true; 	define("pages/product/pro-detail/pro-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",e="",o="",i=[],r=!0,n=!0,d=!1,c="",s=0,u=0,l=0,p=0,h=0,g=0,m=[],I=[],f="",y="",v="",T="";Page({data:{likeProductList:[],styleConfig:t.globalData.styleConfig,productId:"",proInfoDetail:{},price:0,proImageNavIdx:0,originalPrice:0,activityPrice:0,stock:0,quantity:0,showProAttr:!1,active:[],count:1,modelName:"",modelImage:"",pic_url:"",showCurAttr:!0,collectStatus:0,showCartPoint:!0,isPerson:t.globalData.isPerson,couponList:[],hiddenCouponList:!0,isStoreHidden:!0,activityType:"",groupList:[],groupOrderNo:"",hasVideo:!1,video:"",group:"",navIdx:0,netWorkType:!1,commentList:[],totalPrice:"",currentPrice:"",seckillCount:{},seckillStart:"",memberType:"",loadCount:1,attrBtnStatus:"1",buyType:"",projectType:t.globalData.projectInfo.projectType,showComment:!1},onLoad:function(o){var i=this;if(a=t.globalData.projectInfo,e=t.globalData.customizeTabId,this.setData({productId:o.productId,showComment:t.globalData.showComment}),o.parentId)wx.setStorageSync("parentId"+t.globalData.autoId,o.parentId),i.loginVzSystem(o.parentId);else{var r=wx.getStorageSync("memberType"+t.globalData.autoId);this.setData({memberType:r}),i.loginVzSystem(o.parentId),i.initData()}wx.getNetworkType({success:function(t){i.setData({netWorkType:t.networkType})}}),this.getStoreHidden()},onShow:function(){d?d=!1:1!=this.data.loadCount?(clearInterval(c),this.initData()):this.setData({loadCount:this.data.loadCount+1})},initData:function(){var t=this;t.getProDetail().then(function(a){t.getCollectStatus(),t.getCommentList(),t.getCouponInfo(a.branchInfoId),t.getGroupList(a.id)})},loginVzSystem:function(a){if(wx.canIUse("login")){var e=this;wx.login({success:function(o){var i=o.code;t.getOpenId(i).then(function(o){if(o&&!(o.length<1)){var i={appId:t.globalData.projectInfo.appId,openId:o};a&&(i.parentId=a),wx.request({url:t.globalData.comUrl+"member_memberRegistration.action",data:i,success:function(o){console.log(o.data);var i=t.getJsonData(o.data);i.parentId==a?(wx.setStorageSync("parentId"+t.globalData.autoId,a),e.setData({parentId:a})):wx.removeStorageSync("parentId"+t.globalData.autoId),wx.setStorageSync("memberId"+t.globalData.autoId,i.memberId),i.isDistributor&&"3"==i.type&&(wx.setStorageSync("memberType"+t.globalData.autoId,i.type),e.setData({memberType:i.type})),e.initData()},fail:function(){console.log("login failed")}})}})}})}},getCartData:function(){var a=this,e=wx.getStorageSync("cartData"+t.globalData.autoId);e&&e.length>0?a.setData({showCartPoint:!1}):a.setData({showCartPoint:!0})},proImageNavTap:function(t){this.setData({proImageNavIdx:t.currentTarget.dataset.idx})},getGroupList:function(e){var o=this;wx.request({url:t.globalData.comUrl+"activityOrder_getGroupList.action",data:{appId:a.appId,produceId:e},success:function(a){var e=t.getJsonData(a.data);"0"!=e.code&&(o.setData({groupList:e}),c=setInterval(function(){for(var t=!1,a=0;a<o.data.groupList.length;a++)o.data.groupList[a].remainTime>0&&(t=!0,o.data.groupList[a].remainTime--,o.data.groupList[a].timeFormat=o.secondToTime(o.data.groupList[a].remainTime));o.setData({groupList:o.data.groupList}),t||o.onShow()},1e3))}})},secondToTime:function(t){var a=Math.floor(t/3600),e=Math.floor(t/60%60),o=Math.floor(t%60);return a<10&&(a="0"+a),e<10&&(e="0"+e),o<10&&(o="0"+o),t=a+":"+e+":"+o},seckillToTime:function(t){var a=Math.floor(t/3600/24),e=Math.floor(t/3600%24),o=Math.floor(t/60%60),i=Math.floor(t%60);return e<10&&(e="0"+e),o<10&&(o="0"+o),i<10&&(i="0"+i),{day:a,hours:e,minute:o,second:i}},getCouponInfo:function(a){var e=this,o=t.getMemberId()||"";wx.request({url:t.globalData.comUrl+"act_getActivityList.action",data:{branchInfoId:a,customizetabId:t.getCustomizeId("Activity"),memberId:o},success:function(a){var o=t.getJsonData(a.data);console.log(o);for(var i=[],r=0;r<o.length;r++){var n=o[r];n.beginTime=n.beginTime.replace(" ","-"),n.endTime=n.endTime.replace(" ","-");var d=n.beginTime.split("-"),c=n.endTime.split("-");d.length>3&&c.length>3&&(n.validDate=d[1]+"月"+d[2]+"日-"+c[1]+"月"+c[2]+"日"),void 0!=n.getCoupon&&1!=n.getCoupon||i.push(n)}e.setData({couponList:i})},fail:function(a){t.hint(a)}})},getProDetail:function(){var e=this;return i=[],m=[],I=[],f="",y="",v="",T="",e.setData({moduleId:y,modelName:T}),e.getCartData(),new Promise(function(o,i){wx.request({url:t.globalData.comUrl+"tabs_getZXProductDetail.action",data:{appId:a.appId,productId:e.data.productId,type:1},success:function(a){var i=t.getJsonData(a.data);if(1==i.status)wx.hideToast(),wx.showModal({title:"该商品已下架！",showCancel:!1,success:function(t){t.confirm&&wx.navigateBack({delta:1})}});else{i.productModelList[0]&&(s=i.productModelList[0].price,u=i.productModelList[0].originalprice,l=i.productModelList[0].activityPrice,p=i.productModelList[0].stock),h=Math.abs(i.quantity);for(var r=0;r<i.attributeKeyVOList.length;r++){I[r]=[];for(var n=0;n<i.attributeKeyVOList[r].valueList.length;n++)I[r][n]=!1}var d=new Date,g=Date.parse(new Date(i.activityBeginTime)),m=Date.parse(new Date(i.activityEndTime));if(parseInt((g-d)/1e3)>0){var f=parseInt((g-d)/1e3);c=setInterval(function(){f--,e.setData({seckillCount:e.seckillToTime(f),seckillStart:!1}),f<1&&(clearInterval(c),e.refresh())},1e3)}else{var y=parseInt((m-d)/1e3);c=setInterval(function(){y--,e.setData({seckillCount:e.seckillToTime(y),seckillStart:!0}),y<1&&(clearInterval(c),e.refresh())},1e3)}i.video&&e.setData({hasVideo:!0,video:i.video});var v=t.filterSpecialSymbol(i.remark);e.setData({proInfoDetail:i,price:s,originalPrice:u,stock:p,quantity:h,active:I,activityType:i.activityType,activityPrice:l,remark:v}),e.getLikeProduct(i.bigCateGoryCode),o(e.data.proInfoDetail),wx.hideToast()}}})})},getLikeProduct:function(a){var o=this;wx.request({url:t.globalData.comUrl+"tabs_getLikeProductByPage.action",data:{customizeTabId:e.LynxProductList,bigCateGoryCode:a,status:2,actType:"",current:1},success:function(a){var e=t.getJsonData(a.data);console.log(e),o.setData({likeProductList:e.pageList})}})},addCart:function(a){console.log(a);var e=this;if(e.setData({buyType:a}),""==y)return g="51"==e.data.buyType||"52"==e.data.buyType||"6"==e.data.buyType&&("3"==e.data.memberType||e.data.parentId)?this.data.activityPrice*this.data.count:""!=e.data.buyType||"5"!=e.data.activityType&&("6"!=e.data.activityType||"3"!=e.data.memberType&&!e.data.parentId)?this.data.price*this.data.count:this.data.activityPrice*this.data.count,void e.setData({totalPrice:g,showProAttr:!0});if(e.data.stock<=0||e.data.count>e.data.stock)this.setData({showProAttr:!0}),t.hint("该商品库存不足");else{var r={productId:e.data.proInfoDetail.id,productName:e.data.proInfoDetail.productName,productCode:e.data.proInfoDetail.productCode,count:e.data.count,pic_url:e.data.pic_url,price:e.data.price,moduleId:y,proAttrName:v,modelName:e.data.modelName,branchInfoId:e.data.proInfoDetail.branchInfoId,branchName:e.data.proInfoDetail.branchName,isSelected:!0};if("51"!=a&&"52"!=a&&"3"!=a&&"6"!=a||(r.price=e.data.activityPrice),"3"==e.data.proInfoDetail.purpose){var d=[],c=[],s={};d.push(r),s.branchInfoId=r.branchInfoId,s.isSelected=!0,s.branchName=r.branchName,s.pro=d,c.push(s),wx.setStorageSync("bookingDataList"+t.globalData.autoId,c),wx.setStorageSync("bookingData"+t.globalData.autoId,d),o?wx.navigateTo({url:"../../order/order?proPrice="+e.data.price*e.data.count+"&status=booking"}):(n=!0,wx.navigateTo({url:"../../login/login"}))}else if("51"==a||"52"==a||"3"==a||"6"==a){var u=[],l=[],p={};u.push(r),p.branchInfoId=r.branchInfoId,p.isSelected=!0,p.branchName=r.branchName,p.groupOrderNo="51"==a?"0":e.data.groupOrderNo,p.pro=u,l.push(p),wx.setStorageSync("groupProDataList"+t.globalData.autoId,l),wx.setStorageSync("groupProData"+t.globalData.autoId,u),o?3==e.data.proInfoDetail.activityType?e.checkSeckillCount().then(function(o){console.log(o),0==o.data.code?t.hint("活动已经结束"):2==o.data.code?t.hint("产品已经退出该活动"):e.data.count+o.data.buyCount<=o.data.limitCount?wx.navigateTo({url:"../../order/order?proPrice="+e.data.activityPrice*e.data.count+"&status="+a+"&activityId="+e.data.proInfoDetail.activityId}):wx.showModal({title:"",content:"当前活动最多可购买"+o.data.limitCount+"件，您已超出购买数量，是否以原价购买",success:function(t){t.confirm?e.originalPriceBuy():t.cancel}})}):wx.navigateTo({url:"../../order/order?proPrice="+e.data.activityPrice*e.data.count+"&status="+a+"&activityId="+e.data.proInfoDetail.activityId}):(n=!0,wx.navigateTo({url:"../../login/login"}))}else{var h=wx.getStorageSync("cartData"+t.globalData.autoId);if(h){i=h;for(var m=!1,I=0;I<i.length;I++)if(i[I].moduleId==y)return m=!0,void wx.showModal({title:"提示",content:"该商品已在购物车中！",confirmText:"去购物车",success:function(t){t.confirm&&(e.data.isPerson||"meirong"==e.data.projectType||"education"==e.data.projectType||"enterprise"==e.data.projectType?wx.navigateTo({url:"../../self/cart/cart"}):wx.switchTab({url:"../../self/cart/cart"}))}});if(m&&(i.push(r),"1"==a))return void(e.data.isPerson||"meirong"==e.data.projectType||"education"==e.data.projectType||"enterprise"==e.data.projectType?wx.navigateTo({url:"../../self/cart/cart"}):wx.switchTab({url:"../../self/cart/cart"}))}else i=[];i.push(r),e.setData({showCartPoint:!1});try{wx.setStorageSync("cartData"+t.globalData.autoId,i),"1"==a?setTimeout(function(){e.data.isPerson||"meirong"==e.data.projectType||"education"==e.data.projectType||"enterprise"==e.data.projectType?wx.navigateTo({url:"../../self/cart/cart"}):wx.switchTab({url:"../../self/cart/cart"})},500):(e.setData({showProAttr:!1}),wx.showToast({title:"添加成功",icon:"success",duration:2e3}))}catch(a){t.hint("添加购物车失败")}}}},toBuy:function(){this.setData({attrBtnStatus:"1"}),"6"!=this.data.activityType||"3"!=this.data.memberType&&!this.data.parentId?this.addCart("1"):this.addCart("6")},toBuy1:function(){""!=y?"6"!=this.data.activityType||"3"!=this.data.memberType&&!this.data.parentId?this.addCart("1"):this.addCart("6"):t.hint("请选择商品属性")},carttap:function(){var t=this;t.data.isPerson||"meirong"==t.data.projectType||"education"==t.data.projectType||"enterprise"==t.data.projectType?wx.navigateTo({url:"../../self/cart/cart"}):wx.switchTab({url:"../../self/cart/cart"})},toSeckill:function(){this.addCart("3")},checkSeckillCount:function(){var e=this;return new Promise(function(o,i){wx.request({url:t.globalData.comUrl+"activityProduct_checkActivityStatus.action",data:{appId:a.appId,productId:e.data.productId,activityId:e.data.proInfoDetail.activityId,memberId:t.getMemberId()},success:function(t){o(t)}})})},originalPriceBuy:function(){var a=this,e={productId:a.data.proInfoDetail.id,productName:a.data.proInfoDetail.productName,productCode:a.data.proInfoDetail.productCode,count:a.data.count,pic_url:a.data.pic_url,price:a.data.price,moduleId:y,proAttrName:v,modelName:a.data.modelName,branchInfoId:a.data.proInfoDetail.branchInfoId,branchName:a.data.proInfoDetail.branchName,isSelected:!0},o=wx.getStorageSync("cartData"+t.globalData.autoId);if(console.log(o),0!=o){i=o,console.log(y);for(var r=!1,n=0;n<i.length;n++)if(i[n].moduleId==y)return r=!0,void wx.showModal({title:"提示",content:"该商品已在购物车中！",confirmText:"去购物车",success:function(t){t.confirm&&(a.data.isPerson||"meirong"==a.data.projectType||"education"==a.data.projectType||"enterprise"==a.data.projectType?wx.navigateTo({url:"../../self/cart/cart"}):wx.switchTab({url:"../../self/cart/cart"}))}});if(!r)return i.push(e),wx.setStorageSync("cartData"+t.globalData.autoId,i),void(a.data.isPerson||"meirong"==a.data.projectType||"education"==a.data.projectType||"enterprise"==a.data.projectType?wx.navigateTo({url:"../../self/cart/cart"}):wx.switchTab({url:"../../self/cart/cart"}))}else(i=[]).push(e),wx.setStorageSync("cartData"+t.globalData.autoId,i),setTimeout(function(){a.data.isPerson||"meirong"==a.data.projectType||"education"==a.data.projectType||"enterprise"==a.data.projectType?wx.navigateTo({url:"../../self/cart/cart"}):wx.switchTab({url:"../../self/cart/cart"})},500)},toCreateGroup:function(){var e=this;wx.request({url:t.globalData.comUrl+"activityProduct_checkActivityStatus.action",data:{appId:a.appId,productId:e.data.productId,activityId:e.data.proInfoDetail.activityId},success:function(a){0==a.data.code?t.hint("活动已经结束"):2==a.data.code?t.hint("产品已经退出该活动"):e.addCart("51")}})},addcarttap:function(){this.setData({attrBtnStatus:"1"}),this.addCart("2")},addcarttap1:function(){""!=y?this.addCart("2"):t.hint("请选择商品属性")},joinGroup:function(t){this.setData({groupOrderNo:t.currentTarget.dataset.no}),this.addCart("52")},navtap:function(t){this.setData({navIdx:t.currentTarget.dataset.idx})},commenttap:function(){if(t.getMemberId()){var a=this;wx.navigateTo({url:"../comment/publish-comment/publish-comment?productId="+a.data.productId})}else wx.navigateTo({url:"../../login/login"})},getModelInfo:function(t){var a=this;if(!I[t.currentTarget.dataset.index][t.currentTarget.dataset.attrindex]){for(var e=0;e<I[t.currentTarget.dataset.index].length;e++)m[t.currentTarget.dataset.index]=[],I[t.currentTarget.dataset.index][e]=!1;I[t.currentTarget.dataset.index][t.currentTarget.dataset.attrindex]=!t.currentTarget.dataset.status,m[t.currentTarget.dataset.index]=t.currentTarget.dataset.typeid,f=m.join(";"),""!=(y=a.getModuleId(f))&&a.setData({showCurAttr:!1}),a.setData({active:I})}},getModuleId:function(t){for(var a=this,e=t.split(";"),o=a.data.proInfoDetail.productModelList,i=e[1]+";"+e[0],r=0;r<o.length;r++)if(o[r].valueIds==t||o[r].valueIds==i){y=o[r].id,v=o[r].originalAttr,T=o[r].modelName,a.setData({stock:o[r].stock,price:o[r].price,activityPrice:o[r].activityPrice,originalPrice:o[r].originalprice,modelName:o[r].modelName,modelImage:o[r].modelImage}),g="51"==a.data.buyType||"52"==a.data.buyType||"6"==a.data.buyType&&("3"==a.data.memberType||a.data.parentId)?this.data.activityPrice*this.data.count:""!=a.data.buyType||"5"!=a.data.activityType&&("6"!=a.data.activityType||"3"!=a.data.memberType&&!a.data.parentId)?this.data.price*this.data.count:this.data.activityPrice*this.data.count,this.setData({totalPrice:g}),a.data.proInfoDetail.productImageVOList.length>0&&a.setData({pic_url:a.data.proInfoDetail.productImageVOList[0].imageURL});break}return y},countAdd:function(){var t=this;this.data.count++,g="51"==t.data.buyType||"52"==t.data.buyType||"6"==t.data.buyType&&("3"==t.data.memberType||t.data.parentId)?this.data.activityPrice*this.data.count:""!=t.data.buyType||"5"!=t.data.activityType&&("6"!=t.data.activityType||"3"!=t.data.memberType&&!t.data.parentId)?this.data.price*this.data.count:this.data.activityPrice*this.data.count,this.setData({totalPrice:g,count:this.data.count})},countSubtract:function(){var t=this;this.data.count>1&&(this.data.count--,g="51"==t.data.buyType||"52"==t.data.buyType||"6"==t.data.buyType&&("3"==t.data.memberType||t.data.parentId)?this.data.activityPrice*this.data.count:""!=t.data.buyType||"5"!=t.data.activityType&&("6"!=t.data.activityType||"3"!=t.data.memberType&&!t.data.parentId)?this.data.price*this.data.count:this.data.activityPrice*this.data.count,this.setData({totalPrice:g,count:this.data.count}))},bindCountInput:function(t){var a=this;this.setData({count:t.detail.value}),g="51"==a.data.buyType||"52"==a.data.buyType||"6"==a.data.buyType&&("3"==a.data.memberType||a.data.parentId)?this.data.activityPrice*this.data.count:""!=a.data.buyType||"5"!=a.data.activityType&&("6"!=a.data.activityType||"3"!=a.data.memberType&&!a.data.parentId)?this.data.price*this.data.count:this.data.activityPrice*this.data.count,this.setData({totalPrice:g})},changeProAttrFrame:function(){""!=y?(this.setData({showProAttr:!this.data.showProAttr}),""!=this.data.buyType&&this.addCart(this.data.buyType)):t.hint("请选择商品属性")},toggleProAttrFrame:function(){g=6==this.data.activityType&&3!=this.data.memberType?this.data.price:0==this.data.activityPrice?this.data.price:this.data.activityPrice,this.setData({totalPrice:g*this.data.count,showProAttr:!this.data.showProAttr,buyType:""}),0==this.data.activityType&&1==this.data.proInfoDetail.purpose&&this.setData({attrBtnStatus:2})},getCollectStatus:function(){if(o=t.getMemberId()){var e=this;wx.request({url:t.globalData.comUrl+"tabs_checkCollection.action",data:{appId:a.appId,memberId:o,id:e.data.proInfoDetail.id},success:function(a){var o=t.getJsonData(a.data);e.setData({collectStatus:o.isExisted})},fail:function(a){t.hint()},complete:function(){r=!0,n=!0}})}},collect:function(){if(0!=r){r=!1;var e=this;(o=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_addCollection.action",data:{appId:a.appId,type:1,name:e.data.proInfoDetail.productName,objId:e.data.proInfoDetail.id,memberId:o,pic_url:e.data.proInfoDetail.productImageVOList[0].imageURL||"",price:e.data.proInfoDetail.price},success:function(t){wx.showToast({title:"收藏成功",icon:"success",duration:2e3}),e.getCollectStatus()},fail:function(a){t.hint("收藏失败")}}):(r=!0,wx.navigateTo({url:"../../login/login"}))}},cancelCollect:function(){if(0!=n){n=!1;var a=this;(o=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_delCollectionByObjId.action",data:{id:a.data.proInfoDetail.id,memberId:o},success:function(t){wx.showToast({title:"已取消收藏",icon:"success",duration:2e3}),a.getCollectStatus()},fail:function(a){t.hint("取消收藏失败")}}):(n=!0,wx.navigateTo({url:"../../login/login"}))}},makeCall:function(){var a=this.data.proInfoDetail.telNum;a&&a.length>1?wx.makePhoneCall({phoneNumber:a}):t.hint("客服电话无效！")},getStoreHidden:function(){var o=this;wx.request({url:t.globalData.comUrl+"tabs_getCustomizeTabsById.action",data:{appId:a.appId,customizeTabId:e.LynxAbout_Merchant},success:function(a){var e=t.getJsonData(a.data);o.setData({isStoreHidden:e.isDeleted})}})},toProDetail:function(t){wx.redirectTo({url:"pro-detail?productId="+t.currentTarget.dataset.pid})},beforehand:function(){var t=this;o?wx.navigateTo({url:"../beforehand/beforehand?productName="+t.data.proInfoDetail.productName+t.data.modelName+"&branchName="+t.data.proInfoDetail.branchName+"&branchId="+t.data.proInfoDetail.merchantId}):(n=!0,wx.navigateTo({url:"../../login/login"}))},onShareAppMessage:function(){var a=this;a.setData({showShareBox:!1});var e="";return e="3"==a.data.memberType&&"6"==a.data.activityType?"/pages/product/pro-detail/pro-detail?productId="+a.data.proInfoDetail.id+"&parentId="+t.getMemberId():"/pages/product/pro-detail/pro-detail?productId="+a.data.proInfoDetail.id,{title:a.data.proInfoDetail.productName,path:e,success:function(t){},fail:function(t){}}},onShowShareBox:function(){var t=this;t.setData({showShareBox:!t.data.showShareBox})},showCouponList:function(){this.setData({hiddenCouponList:!this.data.hiddenCouponList})},getCoupon:function(a){var e=this,o=t.getMemberId()||"";""!=o?0!=a.currentTarget.dataset.getcoupon&&wx.request({url:t.globalData.comUrl+"act_addMemberActivity.action",data:{activityId:a.currentTarget.dataset.id,memberId:o,customizetabId:t.getCustomizeId("Activity")},success:function(a){"0"!=t.getJsonData(a.data).code?(t.hint("领取成功"),e.setData({hiddenCouponList:!0}),e.getCouponInfo(e.data.proInfoDetail.branchInfoId)):t.hint("领取失败")},fail:function(a){t.hint()}}):wx.navigateTo({url:"../../login/login"})},getCommentList:function(){console.log(t.globalData.wxUserInfo);var a=this;wx.request({url:t.globalData.comUrl+"tabs_getCommentList.action",data:{current:1,productId:a.data.productId},success:function(e){var o=t.getJsonData(e.data);a.setData({commentList:o.pageList})}})},hometap:function(){wx.switchTab({url:"../../index/index"})},refresh:function(){var t=this;wx.showLoading({title:"加载中..."}),t.setData({showShareBox:!1}),t.getProDetail().then(function(a){wx.hideLoading(),t.getCollectStatus(),t.getCommentList(),t.getCouponInfo(a.branchInfoId),t.getGroupList(a.id)})},seeAllComment:function(){var t=this;wx.navigateTo({url:"../comment/comment?productId="+t.data.productId})},previewImage:function(){var t=this,a=[];if(t.data.modelImage.length>0)for(var e=0;e<t.data.proInfoDetail.productModelList.length;e++){var o=t.data.proInfoDetail.productModelList[e];o.modelImage&&o.modelImage.length>0&&a.push(o.modelImage)}else a.push(t.data.proInfoDetail.productImageVOList[0].imageURL);d=!0,wx.previewImage({current:t.data.modelImage,urls:a})}}); 
 			}); 	require("pages/product/pro-detail/pro-detail.js");
 		__wxRoute = 'pages/product/pro-list/pro-list';__wxRouteBegin = true; 	define("pages/product/pro-list/pro-list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=1,e=1,o=!1,i=void 0,s=void 0,r=void 0,c=void 0,n=void 0,d=void 0,u=t.globalData.projectInfo;Page({data:{productList:[],hasPro:!0,bottomHint:!0,listStyle:!1,isGroup:t.globalData.isGroup,actDistribution:{},hideComboBox:!0,showVal:"综合",hiddenTo:!0,styleConfig:t.globalData.styleConfig,back:!1,MinMoneyVal:"",MaxMoneyVal:"",sort:"comprehensive",ThePrice:"",merchantId:"",trademark:"",carryOut:!1,currentIdx:"0"},onLoad:function(a){r=a,c=a.flag,d=a.name,this.getProductList(r),t.globalData.actDistribution&&this.setData({actDistribution:t.globalData.actDistribution});var e=wx.getStorageSync("memberType"+t.globalData.autoId);this.setData({memberType:e}),a.title&&wx.setNavigationBarTitle({title:a.title})},navtap:function(t){var a=t.currentTarget.dataset.idx;"0"==a?this.setData({hideComboBox:!this.data.hideComboBox,currentIdx:a}):"1"==a?(this.setData({productList:[],sort:"buyCount",ThePrice:"desc",currentIdx:a}),this.getProductList(r)):this.setData({hiddenTo:!this.data.hiddenTo,currentIdx:a})},blanktap:function(){this.setData({hideComboBox:!0})},navItemtap:function(t){console.log(t);var a="";0==t.currentTarget.dataset.idx?(a="综合",this.setData({sort:"comprehensive",ThePrice:"asc"})):1==t.currentTarget.dataset.idx?(a="新品",this.setData({sort:"createDate",ThePrice:"desc"})):2==t.currentTarget.dataset.idx?(a="价格降序",this.setData({sort:"price",ThePrice:"desc"})):(a="价格升序",this.setData({sort:"price",ThePrice:"asc"})),this.setData({productList:[],showVal:a,onHover:!0}),this.getProductList(r)},hiddenTo:function(){this.setData({hiddenTo:!0})},onselect:function(t){console.log(t);var a=t.currentTarget.dataset.idx;this.setData({back:!0,active:a}),console.log(this.data.active,this.data.back),this.setData({merchantId:t.currentTarget.dataset.bid})},MinMoney:function(t){this.setData({MinMoneyVal:t.detail.value})},MaxMoney:function(t){this.setData({MaxMoneyVal:t.detail.value})},moneyWay:function(){this.data.MinMoneyVal>this.data.MaxMoneyVal&&this.setData({MinMoneyVal:this.data.MaxMoneyVal,MaxMoneyVal:this.data.MinMoneyVal})},reset:function(){this.setData({productList:[],merchantId:"",MinMoneyVal:"",MaxMoneyVal:"",back:!1}),this.getProductList(r)},confirm:function(){this.moneyWay(),this.setData({productList:[],hiddenTo:!0}),this.getProductList(r)},encapsulation:function(){var t=this.data.productList;console.log(t);var a=[],e={};t.forEach(function(t){if(!e[t.branchName]){var o={branchName:t.branchName,branchInfoId:t.branchInfoId};a.push(o),e[t.branchName]=1}}),this.setData({trademark:a})},packaging:function(a){var o=t.getJsonData(a.data);e=o.pages,o.pageList.forEach(function(a){if(void 0!=a.productImageVOList&&a.productImageVOList.length>0){var e=a.productImageVOList[0].imageURL;a.productImageVOList[0].imageURL=t.modifyPicSize(e,"_r220x220p")}else if(void 0!=a.productImageList&&a.productImageList.length>0){var o=a.productImageList[0].imageURL;a.productImageList[0].imageURL=t.modifyPicSize(o,"_r220x220p")}}),this.setData({productList:this.data.productList.concat(o.pageList)}),this.setData({hasPro:!!this.data.productList.length}),this.encapsulation()},getProductList:function(r){console.log(r),a=1,e=1;var l=this,h={customizeTabId:t.globalData.customizeTabId.LynxProductList,sortName:l.data.sort,sortType:l.data.ThePrice,current:a,status:2,isGroup:t.globalData.isGroup,branchInfoId:l.data.merchantId,minimumPrice:l.data.MinMoneyVal,maximumPrice:l.data.MaxMoneyVal};null!=l.data.merchantId&&""!=l.data.merchantId||delete h.branchInfoId,n=h,r.bigCateCode?(console.log(r),console.log(2),o=!0,i=r.bigCateCode,void 0==n.bigCateGoryCode&&(n.bigCateGoryCode=i),d&&(delete n.bigCateGoryCode,n.appId=u.appId,n.productName=d),wx.request({url:t.globalData.comUrl+"tabs_getZXProductListByCategory.action",data:n,success:function(t){l.packaging(t)}})):(s=r.categoryCode,c?h.categoryCode=r.categoryCode:h.subdivideCategoryCode=r.categoryCode,wx.request({url:t.globalData.comUrl+"tabs_getProductListByAttribute.action",data:h,success:function(t){l.packaging(t)}}))},changeclum:function(){this.setData({listStyle:!this.data.listStyle,bottomHint:!0})},toSearch:function(t){wx.navigateTo({url:"../../search/search?type=0&ids=0"})},toProDetail:function(t){wx.navigateTo({url:"../pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},onReachBottom:function(){var i=this,r=n;if(console.log(r),r.current<e)if(r.current++,o)wx.request({url:t.globalData.comUrl+"tabs_getZXProductListByCategory.action",data:r,success:function(t){i.setData({carryOut:!0}),i.packaging(t)}});else{var d={customizeTabId:t.globalData.customizeTabId.LynxProductList,current:a,status:2};c?(console.log(c),console.log(d),d.categoryCode=s):d.subdivideCategoryCode=s,wx.request({url:t.globalData.comUrl+"tabs_getProductListByAttribute.action",data:d,success:function(t){i.setData({carryOut:!0}),i.packaging(t)}})}else i.setData({bottomHint:!1})},onPullDownRefresh:function(){a=1,this.setData({productList:[],hasPro:!0,bottomHint:!0}),o=!1,this.getProductList(r)}}); 
 			}); 	require("pages/product/pro-list/pro-list.js");
 		__wxRoute = 'pages/product/product';__wxRouteBegin = true; 	define("pages/product/product.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e="",a="";Page({data:{styleConfig:t.globalData.styleConfig,bigCateArr:[],smallCateArr:[],showItem:0,categoryCode:"",categoryId:0,code:"",bigCateId:"",windowHeight:"",searchFrameHeight:"",changeclass:""},onLoad:function(){this.setData({changeclass:t.globalData.changeClassify}),e=t.globalData.projectInfo,a=t.globalData.customizeTabId;var o=this;wx.getSystemInfo({success:function(t){console.log(t),"ios"==t.platform?o.setData({windowHeight:t.windowHeight-48}):o.setData({windowHeight:t.windowHeight})}}),o.getBigCateGory(),1==o.data.changeclass&&(o.getSearchFrameHeight(),o.getCateGoryList())},getBigCateGory:function(){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{customizeTabId:a.LynxProductList},success:function(a){var o=t.getJsonData(a.data);e.setData({bigCateArr:o}),1==e.data.changeclass?e.bigCateTap():e.oldBigCateTap(),wx.hideToast()}})},getSearchFrameHeight:function(){var t=this,e=wx.createSelectorQuery();e.select("#top").boundingClientRect(),e.exec(function(e){t.setData({searchFrameHeight:e[0].height})})},getCateGoryList:function(){wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0});var e=this;wx.request({url:t.globalData.comUrl+"tabs_getAllCategoryListBycustomizeTab.action",data:{customizeTabId:a.LynxProductList,level:3},success:function(a){var o=t.getJsonData(a.data);console.log(o);for(var r=0;r<o.length;r++)o[r].categoryPicture=t.modifyPicSize(o[r].categoryPicture,"_r60x60p");e.setData({bigCateArr:o}),wx.hideToast(),wx.stopPullDownRefresh()}})},scroll:function(t){for(var e=0;e<this.data.bigCateArr.length;e++)this.queryMultipleNodes(e)},queryMultipleNodes:function(t){var e=this,a=wx.createSelectorQuery();a.select("#bigcate"+t).boundingClientRect(),a.selectViewport().scrollOffset(),a.exec(function(a){var o=a[0].top;0<=o&&o<=150&&e.setData({showItem:t})})},bigCateTap:function(t){var e=this;t?this.setData({showItem:t.target.dataset.index,categoryId:t.target.dataset.id,categoryCode:t.target.dataset.bigcode,bigCateId:"bigcate"+t.target.dataset.index}):this.setData({showItem:0,categoryId:e.data.bigCateArr[0].id,categoryCode:e.data.bigCateArr[0].code})},oldBigCateTap:function(e){var o=this;e?(console.log(e),this.setData({showItem:e.currentTarget.dataset.index,categoryId:e.currentTarget.dataset.id,categoryCode:e.currentTarget.dataset.bigcode})):this.setData({showItem:0,categoryId:o.data.bigCateArr[0].id,categoryCode:o.data.bigCateArr[0].code}),wx.request({url:t.globalData.comUrl+"tabs_getCategoryByParent.action",data:{customizeTabId:a.LynxProductList,parentId:o.data.categoryId},success:function(e){for(var a=t.getJsonData(e.data),r=0;r<a.length;r++)a[r].categoryPicture=t.modifyPicSize(a[r].categoryPicture,"_r160x160p");o.setData({smallCateArr:a}),wx.stopPullDownRefresh()}})},toSearch:function(t){wx.navigateTo({url:"../search/search?type=0"})},onPullDownRefresh:function(){this.setData({showItem:0,categoryCode:"",categoryId:0,code:"",bigCateId:""}),this.getBigCateGory(),1==this.data.changeclass&&(this.getSearchFrameHeight(),this.getCateGoryList())},toProductList:function(t){var e=this;this.setData({code:t.currentTarget.dataset.code}),t.currentTarget.dataset.flag?wx.navigateTo({url:"sub-category/sub-category?categoryId="+t.currentTarget.dataset.id+"&title="+t.currentTarget.dataset.title}):wx.navigateTo({url:"pro-list/pro-list?categoryCode="+e.data.code+"&flag=1&title="+t.currentTarget.dataset.title})}}); 
 			}); 	require("pages/product/product.js");
 		__wxRoute = 'pages/product/sub-category/sub-category';__wxRouteBegin = true; 	define("pages/product/sub-category/sub-category.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId;Page({data:{categoryList:[],hasDataFlag:!0},onLoad:function(o){a=t.globalData.projectInfo,e=t.globalData.customizeTabId,wx.setNavigationBarTitle({title:o.title}),wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0});var r=this;wx.request({url:t.globalData.comUrl+"tabs_getCategoryByParent.action",data:{customizeTabId:e.LynxProductList,parentId:o.categoryId},success:function(a){var e=t.getJsonData(a.data);r.setData({categoryList:e,hasDataFlag:e.length>0}),wx.hideToast()}})},toProList:function(t){t.currentTarget.dataset.flag?wx.navigateTo({url:"sub-category?categoryId="+t.currentTarget.dataset.id+"&title="+t.currentTarget.dataset.title}):wx.navigateTo({url:"../pro-list/pro-list?categoryCode="+t.currentTarget.dataset.code})}}); 
 			}); 	require("pages/product/sub-category/sub-category.js");
 		__wxRoute = 'pages/product/beforehand/beforehand';__wxRouteBegin = true; 	define("pages/product/beforehand/beforehand.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{date:"",time:"",productName:"",branchName:"",branchId:"",styleConfig:a.globalData.styleConfig},onLoad:function(a){this.getNowFormatDate(),this.getFlexiForm(),this.setData({productName:a.productName,branchName:a.branchName,branchId:a.branchId})},getFlexiForm:function(){wx.request({url:a.globalData.comUrl+"tabs_getFlexiForm.action",data:{customizeTabId:a.globalData.customizeTabId["Flexi-Form-Booking"]},success:function(e){var t=a.getJsonData(e.data);console.log(t)}})},getNowFormatDate:function(){var a=new Date,e=a.getMonth()+1,t=a.getDate(),l=a.getHours(),i=a.getMinutes();e>=1&&e<=9&&(e="0"+e),t>=0&&t<=9&&(t="0"+t),l>=1&&l<=9&&(l="0"+l),i>=1&&i<=9&&(i="0"+i);var o=a.getFullYear()+"-"+e+"-"+t,n=l+":"+i;console.log(o),console.log(n),this.setData({date:o,time:n})},bindDateChange:function(a){console.log("picker发送选择改变，携带值为",a.detail.value),this.setData({date:a.detail.value})},bindTimeChange:function(a){console.log("picker发送选择改变，携带值为",a.detail.value),this.setData({time:a.detail.value})},formSubmit:function(e){var t=this;console.log(e.detail.value);var l=/^1[3|4|5|8|7][0-9]\d{4,8}$/;if(""!=e.detail.value.name&&0!==e.detail.value.name.trim().length)if(""!=e.detail.value.phone)if(l.test(e.detail.value.phone)){var i="",o="";""==e.detail.value.remarks?(i="姓名,电话,预约日期,预约时间",o=e.detail.value.name+","+e.detail.value.phone+","+e.detail.value.date+","+e.detail.value.time):(i="姓名,电话,预约日期,预约时间,留言",o=e.detail.value.name+","+e.detail.value.phone+","+e.detail.value.date+","+e.detail.value.time+","+e.detail.value.remarks),wx.showToast({title:"预约中...",icon:"loading",duration:1e4,mask:!0}),wx.request({url:a.globalData.comUrl+"tabs_saveFlexiForm",data:{projectId:a.globalData.projectInfo.appId,customizeTabId:a.globalData.customizeTabId["Flexi-Form-Booking"],token:"html5",fieldKey:i,fieldValue:o,productName:t.data.productName,branchName:t.data.branchName,branchId:t.data.branchId,memberId:a.getMemberId()},success:function(e){wx.hideToast();var t=a.getJsonData(e.data);wx.redirectTo({url:"bh-detail/bh-detail?id="+t.id})},fail:function(){wx.hideToast(),a.hint("预约失败")}})}else this.warn("请输入正确的电话号码");else this.warn("请输入电话号码!");else this.warn("姓名不能为空!")},warn:function(a){wx.showToast({title:a,image:"../../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/product/beforehand/beforehand.js");
 		__wxRoute = 'pages/product/beforehand/bh-detail/bh-detail';__wxRouteBegin = true; 	define("pages/product/beforehand/bh-detail/bh-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{detailList:[],styleConfig:t.globalData.styleConfig},onLoad:function(t){this.getBookingDetail(t.id)},getBookingDetail:function(a){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getFlexiFormDetail.action",data:{id:a,current:1},success:function(a){var e=t.getJsonData(a.data);console.log(e),i.setData({detailList:e.flexiFormVoList})}})},toHome:function(){wx.switchTab({url:"../../../index/index"})}}); 
 			}); 	require("pages/product/beforehand/bh-detail/bh-detail.js");
 		__wxRoute = 'pages/product/comment/comment';__wxRouteBegin = true; 	define("pages/product/comment/comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=1,e=1;Page({data:{commentList:[],productId:"",bigImage:"",hideBigImg:!0},onLoad:function(t){this.setData({productId:t.productId}),this.getCommentList()},getCommentList:function(){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getCommentList.action",data:{current:a,productId:i.data.productId},success:function(a){var o=t.getJsonData(a.data);e=o.pages,i.setData({commentList:i.data.commentList.concat(o.pageList)})}})},pictap:function(t){this.setData({bigImage:t.currentTarget.dataset.pic,hideBigImg:!1})},exitBigImg:function(){this.setData({hideBigImg:!0})},onReachBottom:function(){a<e&&(a++,this.getCommentList())}}); 
 			}); 	require("pages/product/comment/comment.js");
 		__wxRoute = 'pages/product/comment/publish-comment/publish-comment';__wxRouteBegin = true; 	define("pages/product/comment/publish-comment/publish-comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=!0;Page({data:{discussList:[],comment:"",imagePath:"",productOrderId:""},onLoad:function(t){this.setData({productOrderId:t.productOrderId}),wx.getLocation({type:"wgs84",success:function(t){}})},takephoto:function(){var t=this;wx.chooseImage({count:1,success:function(a){var o=a.tempFilePaths[0];t.setData({imagePath:o})}})},submit:function(){if(0!=a){a=!1;var o=this,n="";""!=o.data.comment?o.data.imagePath?wx.uploadFile({url:t.globalData.comUrl+"tabs_uploadPicMina.action",filePath:o.data.imagePath,name:"file",success:function(t){var a=JSON.parse(t.data);console.log(a),"1"==a.isSuccess&&(n=a.path,o.addAppComment(n))},fail:function(o){t.hint("图片上传失败"),a=!0}}):o.addAppComment(n):this.warn("\b内容不能为空!")}},addAppComment:function(o){var n=this;wx.request({url:t.globalData.comUrl+"tabs_addAppProductComment.action",data:{address:"",comment:n.data.comment,latitude:t.globalData.g_location.lat,longitude:t.globalData.g_location.lng,memberId:t.getMemberId(),pic:o,productOrderId:n.data.productOrderId,token:"browser"},success:function(t){a=!0,wx.showToast({title:"发布成功",icon:"success",duration:2e3}),setTimeout(function(){wx.navigateBack({delta:1})},2e3)},fail:function(){t.hint("提交失败"),a=!0}})},deleteImage:function(){this.setData({imagePath:""})},bindInput:function(t){this.setData({comment:t.detail.value})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},warn:function(t){wx.showToast({title:t,image:"../../../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/product/comment/publish-comment/publish-comment.js");
 		__wxRoute = 'pages/self/self/self';__wxRouteBegin = true; 	define("pages/self/self/self.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t=a.globalData.projectInfo,e=a.globalData.customizeTabId,o=1,n=1;Page({data:{showCustomizeTabId:{},styleConfig:a.globalData.styleConfig,userInfo:{},memberId:"",iconPath:"",nickName:"",cartHasPro:!1,hiddenOrder:!0,isPerson:a.globalData.isPerson,proList:[],phone:"",orderCount:{}},onLoad:function(){var o=this;console.log(a.globalData.isQuery),t=a.globalData.projectInfo,e=a.globalData.customizeTabId;var n=wx.getStorageSync("memberType"+a.globalData.autoId);this.setData({memberType:n}),a.globalData.actDistribution&&this.setData({actDistribution:a.globalData.actDistribution}),a.globalData.isWeb||wx.getSetting({success:function(t){console.log(t),t.authSetting["scope.userInfo"]&&wx.getUserInfo({success:function(t){console.log(t),a.globalData.wxUserInfo=t.userInfo,o.setData({iconPath:t.userInfo.avatarUrl,nickName:t.userInfo.nickName}),wx.request({url:a.globalData.comUrl+"tabs_updateMember.action",data:{appId:a.globalData.projectInfo.appId,memberId:a.getMemberId(),headPortrait:t.userInfo.avatarUrl,surname:t.userInfo.nickName}})}})}}),o.getProCategory(),o.setData({hideInfoTabs:a.globalData.projectInfo.hideInfoTabs,isQuery:a.globalData.isQuery}),o.getCustomizeTabList()},onShow:function(){var t=this,e=wx.getStorageSync("mobilePhone"+a.globalData.autoId);t.setData({phone:e}),a.globalData.wxUserInfo&&a.globalData.wxUserInfo.avatarUrl?this.setData({iconPath:a.globalData.wxUserInfo.avatarUrl,nickName:a.globalData.wxUserInfo.nickName}):this.setData({iconPath:"/img/head.png"});var o=wx.getStorageSync("cartData"+a.globalData.autoId);o&&o.length>0?t.setData({cartHasPro:!0}):t.setData({cartHasPro:!1});var n=a.getMemberId();t.getOrderCount(),n?(t.setData({memberId:n}),t.getUserInfo()):wx.hideToast()},getCustomizeTabList:function(){var e=this;wx.request({url:a.globalData.comUrl+"tabs_getCustomizeTabList.action",data:{appId:t.appId},success:function(t){for(var o=a.getJsonData(t.data),n=0;n<o.length;n++){o[n];switch(o[n].sysTabNameTag?o[n].sysTabNameTag:o[n].sysTabName){case"ZXMarketModuleOrder":e.data.showCustomizeTabId.ZXMarketModuleOrder=!0;break;case"LynxAbout_Merchant":e.data.showCustomizeTabId.LynxAbout_Merchant=!0;break;case"LynxPhoto_Info_Post_Tab":e.data.showCustomizeTabId.LynxPhoto_Info_Post_Tab=!0;break;case"Activity":e.data.showCustomizeTabId.Activity=!0;break;case"LynxApplyFor_About_Merchant":e.data.showCustomizeTabId.LynxApplyFor_About_Merchant=!0;break;case"Flexi-Form":e.data.showCustomizeTabId["Flexi-Form"]=!0;break;case"Activity-Group":e.data.showCustomizeTabId["Activity-Group"]=!0;break;case"CardNo":e.data.showCustomizeTabId.CardNo=!0;break;case"Member":e.data.showCustomizeTabId.Member=!0;break;case"Video_Gallery":e.data.showCustomizeTabId.Video_Gallery=!0;break;case"Activity-Distribution":e.data.showCustomizeTabId["Activity-Distribution"]=!0,e.setData({actDistribution:a.globalData.actDistribution})}}e.setData({showCustomizeTabId:e.data.showCustomizeTabId})}})},getUserInfo:function(){var t=this;wx.request({url:a.globalData.comUrl+"tabs_getMember.action",data:{memberId:t.data.memberId,customizetabId:e.LynxApplyFor_About_Merchant,checkBranch:1},success:function(e){var o=a.getJsonData(e.data);o.userName.length<1&&(o.userName=a.globalData.wxUserInfo.nickName),wx.setStorageSync("scoreRule"+a.globalData.autoId,o.scoreRule),wx.setStorageSync("memberId"+a.globalData.autoId,o.id),wx.setStorageSync("mobilePhone",o.mobilePhone),wx.setStorageSync("nickname",o.userName),t.setData({userInfo:o,phone:o.mobilePhone}),wx.hideToast()},fail:function(){a.hint()}})},getOrderCount:function(){var e=this;wx.request({url:a.globalData.comUrl+"tabs_getAppOrderCount.action",data:{projectId:t.appId,memberId:a.getMemberId()},success:function(a){console.log(a.data.content),e.setData({orderCount:a.data.content})}})},getProCategory:function(){var s=this;wx.request({url:a.globalData.comUrl+"tabs_getAppProductByCity.action",data:{appId:t.appId,customizeTabId:e.LynxProductList,count:4,current:o,jsoncallback:"",productName:"",sortName:"readTimes",sortType:"desc",isGroup:a.globalData.isGroup},success:function(a){var t=a.data.substring(1).slice(0,-1),e=JSON.parse(t);n=e.pages,s.setData({proList:s.data.proList.concat(e.pageList)})}})},getStoreHidden:function(){var t=this;wx.request({url:a.globalData.comUrl+"tabs_getCustomizeTabsById.action",data:{appId:projectInfo.appId,customizeTabId:e.LynxAbout_Merchant},success:function(e){var o=a.getJsonData(e.data);t.setData({isStoreHidden:o.isDeleted})}})},headtap:function(){wx.navigateTo({url:"/pages/self/acountInformation/acountInformation"})},toProductDetail:function(a){wx.navigateTo({url:"/pages/product/pro-detail/pro-detail?productId="+a.currentTarget.dataset.pid})},toOrderList:function(t){a.getMemberId()?wx.navigateTo({url:"/pages/self/myOrder/myOrder?index="+t.currentTarget.dataset.index}):wx.navigateTo({url:"/pages/login/login"})},toCart:function(){wx.navigateTo({url:"/pages/self/cart/cart?from=self"})},catetap:function(){wx.navigateTo({url:"/pages/product/product"})},toMyCustom:function(){a.getMemberId()?wx.navigateTo({url:"/pages/self/myCustom/myCustom"}):wx.navigateTo({url:"/pages/login/login"})},toCollect:function(){a.getMemberId()?wx.navigateTo({url:"/pages/self/collect/collect"}):wx.navigateTo({url:"/pages/login/login"})},cardtap:function(){a.getMemberId()?wx.navigateTo({url:"/pages/self/card/card?cardNo="+this.data.userInfo.cardNo}):wx.navigateTo({url:"/pages/login/login"})},toMyGroup:function(){wx.navigateTo({url:"/pages/group/my-group/my-group"})},toSupply:function(){a.getMemberId()?wx.navigateTo({url:"/pages/self/mySupply/mySupply"}):wx.navigateTo({url:"/pages/login/login"})},toMyBeforehand:function(){a.getMemberId()?wx.navigateTo({url:"/pages/self/myBeforehand/myBeforehand"}):wx.navigateTo({url:"/pages/login/login"})},memRigtap:function(){a.getMemberId()?wx.navigateTo({url:"/pages/self/memRights/memRights"}):wx.navigateTo({url:"/pages/login/login"})},toStore:function(){wx.navigateTo({url:"/pages/store/store"})},jointap:function(){a.getMemberId()?this.data.userInfo.activated?wx.showModal({title:"提示",content:"商家入驻认证成功",showCancel:!1}):1==this.data.userInfo.isApply?wx.showModal({title:"提示",content:"正在申请中...",showCancel:!1}):wx.navigateTo({url:"/pages/join/join"}):wx.navigateTo({url:"/pages/login/login"})},abouttap:function(){1==a.globalData.isPerson?wx.switchTab({url:"/pages/about-us/about-us"}):wx.navigateTo({url:"/pages/about-us/about-us"})},coupontap:function(){a.getMemberId()?wx.navigateTo({url:"/pages/self/mycoupon/mycoupon"}):wx.navigateTo({url:"/pages/login/login"})},bindphone:function(){wx.navigateTo({url:"/pages/self/bindPhone/bindPhone"})},onReachBottom:function(){o<n&&(o++,this.getProCategory())},onPullDownRefresh:function(){this.setData({proList:[]}),this.onLoad(),this.onShow()},updataUserInfo:function(){var e=this;wx.request({url:a.globalData.comUrl+"tabs_updateMember.actionL",data:{appId:t.appId,memberId:e.data.memberId,headPortrait:""},success:function(a){e.success("头像上传成功")},fail:function(a){e.warn("头像上传失败")}})},toDistribute:function(){a.getMemberId()?wx.navigateTo({url:"/pages/distribute/distribute?type="+this.data.userInfo.type}):wx.navigateTo({url:"/pages/login/login"})},bindGetUserInfo:function(t){this.setData({iconPath:t.detail.userInfo.avatarUrl,nickName:t.detail.userInfo.nickName}),a.globalData.wxUserInfo=t.detail.userInfo,wx.request({url:a.globalData.comUrl+"tabs_updateMember.action",data:{appId:a.globalData.projectInfo.appId,memberId:a.getMemberId(),headPortrait:t.detail.userInfo.avatarUrl,surname:t.detail.userInfo.nickName}})},exit:function(){var t=this;wx.showModal({title:"确定退出登录？",success:function(e){e.confirm&&(t.setData({userInfo:{},memberId:""}),wx.setStorageSync("memberId"+a.globalData.autoId,""))}})},warn:function(a){wx.showToast({title:a,image:"../../../../img/warn.png",duration:2e3})},success:function(a){wx.showToast({title:a,icon:"success",duration:2e3})}}); 
 			}); 	require("pages/self/self/self.js");
 		__wxRoute = 'pages/self/myOrder/myOrder';__wxRouteBegin = true; 	define("pages/self/myOrder/myOrder.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.projectInfo,a=[],o=1,r=1;Page({data:{showTabIndex:0,statueList:[],noOrder:!1,orderList:[],orderType:"",rightTypeList:[]},onLoad:function(o){e=t.globalData.projectInfo,a=t.globalData.customizeTabId;var r=this,n=0;o.index&&(n=o.index),r.setData({statueList:["待付款","待发货","待收货","待评价","退款/售后","全部"],showTabIndex:n}),r.getOrderInfo(n)},selectTab:function(t){var e=this,a=t.currentTarget.dataset;e.setData({showTabIndex:Number(a.selectindex),noOrder:!1,orderList:[]}),o=1,e.getOrderInfo(e.data.showTabIndex)},onShow:function(){},deleteOrder:function(a){var o=this;wx.showModal({title:"",content:"确认删除订单",success:function(r){r.confirm&&wx.request({url:t.globalData.comUrl+"tabs_delAppOrderWithParent",data:{appId:e.appId,orderId:a.currentTarget.dataset.oid},success:function(t){o.setData({noOrder:!1,orderList:[]}),o.getOrderInfo(o.data.showTabIndex)}})}})},getOrderInfo:function(e){var a=this,n=t.getMemberId(),s="",d="";0==e?(s=0,d=1):1==e?(s=1,d=2):2==e?(s=1,d=3):3==e?(s=1,d=4):4==e?(s=1,d=6):(d="",s=""),wx.request({url:t.globalData.comUrl+"tabs_getZXOrderList.action",data:{appId:t.globalData.projectInfo.appId,projectId:t.globalData.projectInfo.appId,memberId:n,current:o,payStatus:s,status:d},success:function(e){var o=t.getJsonData(e.data);r=o.pages,a.setData({orderList:a.data.orderList.concat(o.pageList)}),console.log(a.data.orderList),a.setData({noOrder:0==a.data.orderList.length})},fail:function(){t.hint()}})},orderDetailtap:function(t){var e=t.currentTarget.dataset;wx.navigateTo({url:"../myOrder/myOrder-detail/myOrder-detail?id="+e.orderid+"&orderNO"+e.orderno})},cancelOrder:function(e){var a=e.currentTarget.dataset;console.log(a);var o=this;wx.showModal({title:"是否确认取消订单？",success:function(e){e.confirm&&wx.request({url:t.globalData.comUrl+"tabs_updateZXOrderStatus.action",data:{appId:t.globalData.projectInfo.appId,orderId:a.orderid,status:5},success:function(){wx.showToast({title:"订单已取消",icon:"success",duration:2e3}),setTimeout(function(){o.setData({orderList:[]}),o.getOrderInfo(o.data.showTabIndex)},2e3)},fail:function(){t.hint()}})}})},sureReceive:function(e){var a=this;wx.showModal({title:"提示",content:"是否确认收货",success:function(o){o.confirm&&wx.request({url:t.globalData.comUrl+"tabs_signForOrder.action",data:{orderId:e.currentTarget.dataset.oid},success:function(e){1==e.data?(a.setData({noOrder:!1,orderList:[]}),a.getOrderInfo(a.data.showTabIndex)):t.showToast("收货失败")}})}})},goComment:function(t){console.log(t.currentTarget),wx.navigateTo({url:"../../product/comment/publish-comment/publish-comment?productOrderId="+t.currentTarget.dataset.id})},onReachBottom:function(){o<r&&(o++,this.getOrderInfo(this.data.showTabIndex))},toPay:function(a){var o=a.currentTarget.dataset.orderinfo;wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0});var r=this;wx.request({url:t.globalData.comUrl+"tabs_getZXOrderDetail.action",data:{appId:t.globalData.projectInfo.appId,orderId:o.id},success:function(a){"9"==t.getJsonData(a.data).status?t.hint("该产品已下架"):wx.login({success:function(a){a.code?wx.request({url:t.globalData.paymentUrl+"/WechatAlipay/MiniPayService?jsoncallback=?",data:{projectId:e.appId,nonce_str:"lfksf"+Math.round(1e5*Math.random()),body:o.children[0].productOrderVOList[0].productName,attach:o.orderNO+"_"+o.id+"%2B",out_trade_no:o.orderNO+(new Date).valueOf(),total_fee:(100*o.totalMoney).toFixed(0),trade_type:"JSAPI",device_info:"838792",code:a.code},success:function(t){wx.hideToast();var e=r.getJsonData(t.data);wx.requestPayment({timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:"prepay_id="+e.prepay_id,signType:"MD5",paySign:e.sign,success:function(t){wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){r.onShow()},2e3)},fail:function(t){wx.showModal({title:"支付失败",showCancel:!1,success:function(t){t.confirm&&r.onShow()}})}})}}):t.hint("获取用户登录态失败！"+a.errMsg)}})},fail:function(){t.hint()}})},getJsonData:function(t){return JSON.parse(t.substring(1,t.length-1))}}); 
 			}); 	require("pages/self/myOrder/myOrder.js");
 		__wxRoute = 'pages/self/myOrder/myOrder-detail/myOrder-detail';__wxRouteBegin = true; 	define("pages/self/myOrder/myOrder-detail/myOrder-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e="",o="",r="";Page({data:{orderDetail:{},payStatus:"",payStatusStr:"",payType:"",orderNO:"",createDate:"",expressNO:"",showStatus:!1,isGroupOrder:!1,tel:"",isShowPrePay:!1,cardNo:"",memberId:"",preMoney:"",isWeb:t.globalData.isWeb},onLoad:function(s){var n=this;a=t.globalData.projectInfo,r=t.globalData.customizeTabId;var i=n.isShowPay();i&&n.getUserInfo(),console.log(s),e=s.orderNO,o=s.id,n.setData({orderNO:e,isShowPrePay:i})},onShow:function(){this.getOrderDetail()},getOrderDetail:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getZXOrderDetail.action",data:{appId:t.globalData.projectInfo.appId,orderId:o},success:function(e){var o=t.getJsonData(e.data);console.log(o);var r=new Date(o.createDate.time);if(a.getStoreInfo(o.branchInfoId),wx.setStorageSync("orderDetail"+t.globalData.autoId,o),3==o.payType)a.setData({showStatus:!1});else if(a.setData({showStatus:!0}),1==o.payStatus)switch(o.status){case 1:a.data.payStatusStr="待发货";break;case 2:a.data.payStatusStr="\b处理中";break;case 3:a.data.payStatusStr="\b已发货";break;case 4:a.data.payStatusStr="\b待评价";break;case 5:a.data.payStatusStr="\b已取消";break;case 6:a.data.payStatusStr="申请退款中...";break;case 7:a.data.payStatusStr="退款被拒绝";break;case 8:a.data.payStatusStr="\b退款成功";break;case 9:a.data.payStatusStr="\b交易成功"}else"5"==o.status?a.data.payStatusStr="\b已取消":a.data.payStatusStr="未支付";a.setData({orderDetail:o,status:o.status,payType:o.payType,payStatusStr:a.data.payStatusStr,payStatus:o.payStatus,expressNO:o.expressNO,createDate:r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),isGroupOrder:void 0!=r.groupOrderNo}),wx.hideToast()},fail:function(){t.hint()}})},isShowPay:function(){for(var a=t.globalData.moduleList,e=0;e<a.length;e++)if(a[e].tabTitle&&"电子会员卡"===a[e].tabTitle)return!0;return!1},getUserInfo:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getMember.action",data:{memberId:t.getMemberId(),customizetabId:r.LynxApplyFor_About_Merchant,checkBranch:1},success:function(e){var o=t.getJsonData(e.data);console.log(o),a.setData({cardNo:o.cardNo,preMoney:o.preMoney})},fail:function(){t.hint()}})},getStoreInfo:function(e){var o=this;wx.request({url:t.globalData.comUrl+"tabs_getSingleBranchInfo.action",data:{appId:a.appId,tabContentId:e},success:function(a){var e=t.getJsonData(a.data);console.log(e),o.setData({tel:""==e.tel?e.phone:e.tel})},fail:function(a){t.hint()}})},cancelOrder:function(){var a=this;wx.showModal({title:"是否确认取消订单？",success:function(e){e.confirm&&wx.request({url:t.globalData.comUrl+"tabs_updateZXOrderStatus.action",data:{appId:t.globalData.projectInfo.appId,orderId:a.data.orderDetail.id,status:5},success:function(){wx.showToast({title:"订单已取消",icon:"success",duration:2e3}),setTimeout(function(){wx.navigateBack({delta:1})},2e3)},fail:function(){t.hint()}})}})},toPay:function(e){var o=this,r=e.currentTarget.dataset;""!=o.data.orderDetail.activityIds&&void 0!=o.data.orderDetail.activityIds?wx.request({url:t.globalData.comUrl+"activityProduct_checkActivityStatus.action",data:{appId:a.appId,productId:o.data.orderDetail.productOrderVOList[0].productId,activityId:o.data.orderDetail.activityIds},success:function(a){0==a.data.code?(isSubmit=!0,t.hint("活动已经结束")):2==a.data.code?(isSubmit=!0,t.hint("产品已经退出该活动")):"1"==r.type?o.startPay():o.prePay()}}):"1"==r.type?o.startPay():o.prePay()},refund:function(){wx.navigateTo({url:"../refund/refund"})},prePay:function(){var e=this;e.data.preMoney<e.data.orderDetail.totalMoney?wx.showToast({title:"余额不足！",icon:"none",duration:2e3,mask:!0}):(wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),wx.request({url:t.globalData.paymentUrl+"/WechatAlipay/PrePayNotifcation",data:{memberId:t.getMemberId(),projectId:a.appId,nonce_str:"lfksf"+Math.round(1e5*Math.random()),body:e.data.orderDetail.productOrderVOList[0].productName,attach:e.data.orderDetail.orderNO+"_"+e.data.orderDetail.id+"%2B",out_trade_no:e.data.orderDetail.orderNO+(new Date).valueOf(),total_fee:(100*e.data.orderDetail.totalMoney).toFixed(0),trade_type:"",device_info:"156151"},success:function(t){console.log(t.data),wx.hideToast(),"success"==t.data?wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}):wx.showModal({title:"支付失败",showCancel:!1,success:function(t){t.confirm&&e.onShow()}})}}))},startPay:function(){var r=this;wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),wx.request({url:t.globalData.comUrl+"tabs_getZXOrderDetail.action",data:{appId:t.globalData.projectInfo.appId,orderId:o},success:function(o){"9"==t.getJsonData(o.data).status?t.hint("该产品已下架"):r.data.isWeb?r.onLinePay({orderNO:e}):wx.login({success:function(o){o.code?wx.request({url:t.globalData.paymentUrl+"/WechatAlipay/MiniPayService2?jsoncallback=?",data:{projectId:a.appId,nonce_str:"lfksf"+Math.round(1e5*Math.random()),body:r.data.orderDetail.productOrderVOList[0].productName,attach:e+"_"+r.data.orderDetail.id+"%2B",out_trade_no:e+(new Date).valueOf(),total_fee:(100*r.data.orderDetail.totalMoney).toFixed(0),trade_type:"JSAPI",device_info:"838792",code:o.code},success:function(t){wx.hideToast();var a=r.getJsonData(t.data);wx.requestPayment({timeStamp:a.timeStamp,nonceStr:a.nonceStr,package:"prepay_id="+a.prepay_id,signType:"MD5",paySign:a.sign,success:function(t){wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){r.onShow()},2e3)},fail:function(t){wx.showModal({title:"支付失败",showCancel:!1,success:function(t){t.confirm&&r.onShow()}})}})}}):t.hint("获取用户登录态失败！"+o.errMsg)}})},fail:function(){t.hint()}})},goComment:function(t){console.log(t.currentTarget.dataset.id),wx.navigateTo({url:"../../../product/comment/publish-comment/publish-comment?productOrderId="+t.currentTarget.dataset.id})},sureReceive:function(){var a=this;wx.showModal({title:"提示",content:"是否确认收货",success:function(e){e.confirm&&wx.request({url:t.globalData.comUrl+"tabs_signForOrder.action",data:{orderId:a.data.orderDetail.id},success:function(e){console.log(e),1==e.data?a.onShow():t.hint("收货失败")}})}})},gotoLogistics:function(){this.data.orderDetail.expressNO?wx.navigateTo({url:"logistics/logistics?appOrderId="+this.data.orderDetail.id}):t.hint("商家暂未填写物流单号")},getJsonData:function(t){return JSON.parse(t.substring(1,t.length-1))},makePhoneCall:function(){var t=this;wx.makePhoneCall({phoneNumber:t.data.tel})},onLinePay:function(e){var o=this,r={myOrderInfo:e,projectInfo:a,productNames:o.data.orderDetail.productOrderVOList[0].productName,totalPrice:o.data.orderDetail.totalMoney,paymentUrl:t.globalData.paymentUrl};window.localStorage.setItem("payInfos",JSON.stringify(r));var s=-1!=window.navigator.userAgent.toLowerCase().indexOf("micromessenger"),n=window.location.href.split("#")[0]+"paymament.html";s&&(n="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t.globalData.wxAppId+"&redirect_uri="+encodeURIComponent(n)+"&response_type=code&scope=snsapi_userinfo&state=12345#wechat_redirect"),window.location.href=n}}); 
 			}); 	require("pages/self/myOrder/myOrder-detail/myOrder-detail.js");
 		__wxRoute = 'pages/self/myOrder/myOrder-detail/logistics/logistics';__wxRouteBegin = true; 	define("pages/self/myOrder/myOrder-detail/logistics/logistics.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),o="",a="";Page({data:{logInfo:{},logList:[]},onLoad:function(t){wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),o=t.appOrderId,a=t.orderTime,this.getlogInfo()},getlogInfo:function(){var a=this;wx.request({url:t.globalData.comUrl+"printer_getParcelInfo",data:{orderId:o},success:function(o){wx.hideToast();var e=o.data.content;1==o.data.code?1==e.success?a.setData({logInfo:e,logList:e.route}):t.hint(e.message):t.hint(e.reason)}})}}); 
 			}); 	require("pages/self/myOrder/myOrder-detail/logistics/logistics.js");
 		__wxRoute = 'pages/self/myOrder/refund/refund';__wxRouteBegin = true; 	define("pages/self/myOrder/refund/refund.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t={};Page({data:{reasons:[{value:"退运费"},{value:"大小/尺寸与商品描述不符"},{value:"颜色/图案/款式与商品描述不符"},{value:"做工粗糙/有瑕疵"},{value:"褪色/掉色/缩水/填充物少"},{value:"材质/面料与商品描述不符"},{value:"少件/漏发"},{value:"包装/商品破损/污渍/变形"},{value:"假冒品牌"},{value:"未按约定时间发货"},{value:"发票问题"},{value:"卖家发错货"},{value:"其它原因"}],isHideReason:!0,isHideGoodsStatus:!0,refundReason:"",goodsStatus:"",images:[],imageUrls:[],productList:[],money:"",refundMoney:"",remarks:"",transportCost:""},onLoad:function(e){t=wx.getStorageSync("orderDetail"+a.globalData.autoId),console.log(t),this.setData({productList:t.productOrderVOList,money:t.totalMoney,transportCost:t.transportCost,refundMoney:t.totalMoney})},onShow:function(){},reasonChange:function(a){this.setData({refundReason:a.detail.value,isHideReason:!this.data.isHideReason})},statusChange:function(a){this.setData({goodsStatus:0==a.detail.value?"未收到货":"已收到货",isHideGoodsStatus:!this.data.isHideGoodsStatus})},hideReasonFrame:function(){this.setData({isHideReason:!this.data.isHideReason})},hideGoodsStatus:function(){this.setData({isHideGoodsStatus:!this.data.isHideGoodsStatus})},chooseImage:function(){var t=this;wx.chooseImage({count:1,success:function(e){console.log(e);var s=t.data.images.length+e.tempFilePaths.length;t.setData({images:t.data.images.concat(e.tempFilePaths)}),s>3?a.showToast("最多传3张"):wx.uploadFile({url:a.globalData.comUrl+"tabs_uploadPicMina.action",filePath:e.tempFilePaths[0],name:"file",success:function(a){var e=JSON.parse(a.data);"1"==e.isSuccess&&(t.data.imageUrls.push(e.path),t.setData({imageUrls:t.data.imageUrls}))}})}})},moneyInput:function(a){var t=this,e=a.detail.value;return t.setData({refundMoney:e>t.data.money?t.data.money:e}),{value:e>t.data.money?t.data.money:e}},remarksInput:function(a){this.setData({remarks:a.detail.value})},delPic:function(a){var t=a.currentTarget.dataset.idx;this.data.images.splice(t,1),this.data.imageUrls.splice(t,1),this.setData({images:this.data.images,imageUrls:this.data.imageUrls})},submit:function(){var e=this;if(""!=e.data.goodsStatus)if(""!=e.data.refundReason)if(e.data.refundMoney<=0)a.showToast("退款金额必须大于0");else{for(var s="",o=0;o<e.data.imageUrls.length;o++)0==o?s+=e.data.imageUrls[o]:s=s+","+e.data.imageUrls[o];wx.request({url:a.globalData.comUrl+"tabs_applyRefund",data:{orderId:t.id,billreason:e.data.refundReason,refundMoney:e.data.refundMoney,isReceive:"未收到货"==e.data.goodsStatus?0:1,refundDesc:e.data.remarks,refundProofImage:s},success:function(a){console.log(a),1==a.data?(wx.showLoading({title:"提交成功",icon:"success",duration:1500}),setTimeout(function(){wx.navigateBack({deta:1})},1500)):wx.showLoading({title:"提交失败",icon:"success",duration:1500})}})}else a.showToast("请选择退款原因");else a.showToast("请选择货物状态")},onUnload:function(){}}); 
 			}); 	require("pages/self/myOrder/refund/refund.js");
 		__wxRoute = 'pages/self/mySupply/mySupply';__wxRouteBegin = true; 	define("pages/self/mySupply/mySupply.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=1,o=0;Page({data:{pageList:[],bottomHint:!0,noSupply:!0,times:0},onLoad:function(){this.getSupplyList()},getSupplyList:function(){var s=this,e=t.getMemberId();wx.request({url:t.globalData.comUrl+"mctab_searchPhotoInfo.action",data:{appId:t.globalData.projectInfo.appId,current:a,memberId:e,customizeTabId:t.globalData.customizeTabId.LynxPhoto_Info_Post_Tab},success:function(a){var e=t.getJsonData(a.data);o=e.pages,s.setData({pageList:s.data.pageList.concat(e.pageList)}),0==s.data.pageList.length?s.setData({noSupply:!1}):s.setData({noSupply:!0})},fail:function(){t.hint()}})},onShow:function(){var t=this.data.times+1;a=1,this.setData({times:t}),1!=this.data.times&&(this.setData({pageList:[],bottomHint:!0,noSupply:!0}),this.onLoad())},onReachBottom:function(){a<o?(a++,this.onLoad()):this.setData({bottomHint:!1})}}); 
 			}); 	require("pages/self/mySupply/mySupply.js");
 		__wxRoute = 'pages/self/acountInformation/acountInformation';__wxRouteBegin = true; 	define("pages/self/acountInformation/acountInformation.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{imgPath:"",nickname:"",sex:""},onLoad:function(){},onShow:function(){switch(this.setData({imgPath:a.globalData.wxUserInfo.avatarUrl,sex:a.globalData.wxUserInfo.sex,nickname:a.globalData.wxUserInfo.nickName}),a.globalData.wxUserInfo.gender){case 0:this.setData({sex:"未知"});break;case 1:this.setData({sex:"男"});break;case 2:this.setData({sex:"女"})}},followtap:function(){wx.navigateTo({url:"qrCode/qrCode"})}}); 
 			}); 	require("pages/self/acountInformation/acountInformation.js");
 		__wxRoute = 'pages/self/cart/cart';__wxRouteBegin = true; 	define("pages/self/cart/cart.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",r="",e=t.globalData.projectInfo,o=t.globalData.customizeTabId,c=1,i=1;Page({data:{totalPrice:0,cartData:[],cartList:[],cartNull:!1,projectType:t.globalData.projectInfo.projectType,isPerson:t.globalData.isPerson,proList:[],hiddenMerchant:!0,bottomHint:!1,actDistribution:{},productList:[]},onLoad:function(a){e=t.globalData.projectInfo,o=t.globalData.customizeTabId,r=a.from,"o2o-shop"==this.data.projectType?this._productList1Init():"tmall"==this.data.projectType&&this._productList2Init()},onShow:function(){var a=this;if(a.data.totalPrice=0,this.setData({cartData:wx.getStorageSync("cartData"+t.globalData.autoId)||[]}),(wx.getStorageSync("cartData"+t.globalData.autoId)||[]).length>0){var r=wx.getStorageSync("cartData"+t.globalData.autoId);a.splitArr(r)}else wx.removeStorageSync("cartData"+t.globalData.autoId),wx.removeStorageSync("cartDataList"+t.globalData.autoId),a.setData({cartNull:!0})},splitArr:function(a){for(var r=0,e=function(t){for(var a,e=[],o={},c=0;null!=(a=t[c]);c++)o[a.branchInfoId]||(e.push(a.branchInfoId),o[a.branchInfoId]=!0),1==t[c].isSelected&&(r+=parseInt(t[c].count)*parseFloat(t[c].price));return e}(a),o=[],c=0;c<e.length;c++)for(var i=[],s={},d=0;d<a.length;d++)a[d].branchInfoId==e[c]&&(i.push(a[d]),s.branchInfoId=a[d].branchInfoId,s.branchName=a[d].branchName,s.pro=i,1==a[d].isSelected&&(s.isSelected=!0),o[c]=s);wx.setStorageSync("cartDataList"+t.globalData.autoId,o),this.setData({totalPrice:r.toFixed(2),cartList:o,cartNull:!1})},arrowuptap:function(a){var r=this;if(r.data.cartList[a.currentTarget.dataset.index].pro[a.currentTarget.dataset.proindex].count>1){r.data.cartList[a.currentTarget.dataset.index].pro[a.currentTarget.dataset.proindex].count=r.data.cartList[a.currentTarget.dataset.index].pro[a.currentTarget.dataset.proindex].count-1;for(var e=0;e<r.data.cartData.length;e++)r.data.cartData[e].moduleId==a.currentTarget.dataset.modleid&&(r.data.cartData[e].count=r.data.cartData[e].count-1);this.setData({cartList:r.data.cartList,cartData:r.data.cartData}),wx.setStorageSync("cartData"+t.globalData.autoId,r.data.cartData),r.splitArr(this.data.cartData)}},arrowdowntap:function(a){var r=this;r.data.cartList[a.currentTarget.dataset.index].pro[a.currentTarget.dataset.proindex].count=r.data.cartList[a.currentTarget.dataset.index].pro[a.currentTarget.dataset.proindex].count+1;for(var e=0;e<r.data.cartData.length;e++)r.data.cartData[e].moduleId==a.currentTarget.dataset.modleid&&(r.data.cartData[e].count=r.data.cartData[e].count+1);this.setData({cartList:r.data.cartList,cartData:r.data.cartData}),wx.setStorageSync("cartData"+t.globalData.autoId,r.data.cartData),r.splitArr(r.data.cartData)},bindCountInput:function(a){var r=this;parseInt(a.detail.value);if(parseInt(a.detail.value)>=1){r.data.cartList[a.currentTarget.dataset.index].pro[a.currentTarget.dataset.proindex].count=parseInt(a.detail.value);for(var e=0;e<r.data.cartData.length;e++)r.data.cartData[e].moduleId==a.currentTarget.dataset.modleid&&(r.data.cartData[e].count=parseInt(a.detail.value));return this.setData({cartList:r.data.cartList,cartData:r.data.cartData}),wx.setStorageSync("cartData"+t.globalData.autoId,r.data.cartData),r.splitArr(this.data.cartData),parseInt(a.detail.value)}return 1},delPro:function(a){var r=this;wx.showModal({title:"确定删除该商品？",success:function(e){if(e.confirm){for(var o=[],c=0;c<r.data.cartData.length;c++)r.data.cartData[c].moduleId!=a.currentTarget.dataset.modelid&&o.push(r.data.cartData[c]);r.setData({cartData:o}),wx.setStorageSync("cartData"+t.globalData.autoId,r.data.cartData),r.splitArr(r.data.cartData)}else e.cancel;r.data.cartData.length<1&&r.setData({cartNull:!0})}})},toClearing:function(){if(""==(a=wx.getStorageSync("memberId"+t.globalData.autoId)||""))wx.navigateTo({url:"../../login/login"});else{for(var r=0,e=0;e<this.data.cartData.length;e++)this.data.cartData[e].isSelected&&r++;if(0==r)return void t.hint("请选择产品");var o=this;t.globalData.isPerson?wx.redirectTo({url:"../../order/order?proPrice="+o.data.totalPrice}):wx.navigateTo({url:"../../order/order?proPrice="+o.data.totalPrice})}},checkboxTap:function(a){var r=this;console.log(a.currentTarget.dataset.proid);for(var e=0;e<r.data.cartData.length;e++)a.currentTarget.dataset.proid==r.data.cartData[e].productId&&(1==r.data.cartData[e].isSelected?r.data.cartData[e].isSelected=!1:r.data.cartData[e].isSelected=!0);wx.setStorageSync("cartData"+t.globalData.autoId,r.data.cartData),r.splitArr(r.data.cartData)},toProList:function(){"enterprise"==this.data.projectType||this.data.isPerson?wx.navigateTo({url:"../../product/product"}):wx.switchTab({url:"../../product/product"})},toProDetail:function(t){wx.navigateTo({url:"../../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},preventBubbling:function(){},getProCategory1:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getAppProductByCity.action",data:{appId:e.appId,customizeTabId:o.LynxProductList,count:4,current:c,jsoncallback:"",productName:"",sortName:"readTimes",sortType:"desc",isGroup:t.globalData.isGroup},success:function(t){var r=t.data.substring(1).slice(0,-1),e=JSON.parse(r);i=e.pages,a.setData({proList:a.data.proList.concat(e.pageList)})}})},onReachBottom:function(){c<i&&(c++,"o2o-shop"==this.data.projectType?this.getProCategory1():"tmall"==this.data.projectType&&this.getProductList())},_productList1Init:function(){var a=this;e=t.globalData.projectInfo,o=t.globalData.customizeTabId;var r=wx.getStorageSync("memberType"+t.globalData.autoId);this.setData({memberType:r}),t.globalData.actDistribution&&this.setData({actDistribution:t.globalData.actDistribution}),a.getProCategory1()},_productList2Init:function(){var a=this;e=t.globalData.projectInfo,o=t.globalData.customizeTabId;var r=wx.getStorageSync("memberType"+t.globalData.autoId);this.setData({memberType:r}),t.globalData.actDistribution&&this.setData({actDistribution:t.globalData.actDistribution}),a.getProCategory2()},getProCategory2:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{customizeTabId:o.LynxProductList},success:function(r){var e=t.getJsonData(r.data);console.log(e),a.setData({cateList:e}),a.titletap()}})},getProductList:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getZXProductListByCategory.action",data:{customizeTabId:o.LynxProductList,bigCateGoryCode:a.data.categoryCode,current:c,status:2,recommand:1,isBreif:1,isGroup:t.globalData.isGroup},success:function(r){var e=t.getJsonData(r.data);i=e.pages,a.setData({productList:a.data.productList.concat(e.pageList)}),e.pageList.length>0?a.setData({hasPro:!0}):a.setData({hasPro:!1})}})},titletap:function(t){c=1;var a=this;this.setData({productList:[]}),t&&void 0!=t?(a.setData({categoryCode:t.currentTarget.dataset.code,bottomHint:!0,hidden:!0,index:t.currentTarget.dataset.index}),a.getProductList(t.currentTarget.dataset.code)):(a.setData({categoryCode:a.data.cateList[0].code,bottomHint:!0,hidden:!0}),a.getProductList())}}); 
 			}); 	require("pages/self/cart/cart.js");
 		__wxRoute = 'pages/self/collect/collect';__wxRouteBegin = true; 	define("pages/self/collect/collect.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",e=1,n=0,o=1,s="";Page({data:{currentIdx:1,pageList:[],collectNull:!0,bottomHint:!0,times:0,hideInfoTabs:!1,navArr:[{navName:"\b产品",navIdx:1,isShow:!0},{navName:"今日看点",navIdx:3,isShow:!1},{navName:"\b商家",navIdx:2,isShow:!1},{navName:"\b资讯动态",navIdx:4,isShow:!1},{navName:"\b供求",navIdx:5,isShow:!1}]},onLoad:function(){s=t.globalData.projectInfo;var a=this;a.getCollectPage(),a.setData({hideInfoTabs:t.globalData.projectInfo.hideInfoTabs}),a.getCustomizeTabList()},onShow:function(){var t=this.data.times+1;e=1,this.setData({times:t}),1!=this.data.times&&(this.setData({pageList:[],collectNull:!0,bottomHint:!0}),this.onLoad())},getCustomizeTabList:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getCustomizeTabList.action",data:{appId:s.appId},success:function(e){for(var n=t.getJsonData(e.data),o=0;o<n.length;o++){var s=n[o];switch(n[o].sysTabNameTag?n[o].sysTabNameTag:n[o].sysTabName){case"LynxAbout_Merchant":a.data.navArr[2]={navName:s.tabTitle,navIdx:2,isShow:!0};break;case"LynxPhoto_Info_Post_Tab":a.data.navArr[4]={navName:s.tabTitle,navIdx:5,isShow:!0};break;case"LynxPhoto_H_Info_Tab_Level2":a.data.navArr[1]={navName:s.tabTitle,navIdx:3,isShow:!0};break;case"Photo-Info-Tab-Level2":a.data.navArr[3]={navName:s.tabTitle,navIdx:4,isShow:!0}}}a.setData({navArr:a.data.navArr})}})},getCollectPage:function(){var e=this;a=t.getMemberId(),wx.request({url:t.globalData.comUrl+"tabs_getCollectionPage.action",data:{appId:t.globalData.projectInfo.appId,current:1,type:e.data.currentIdx,memberId:a},success:function(a){var o=t.getJsonData(a.data);n=o.pages,o.pageList.length?e.setData({pageList:o.pageList,collectNull:!0}):e.setData({collectNull:!1})},fail:function(a){t.hint()}})},getMoreCollectPage:function(){var o=this;a=t.getMemberId(),wx.request({url:t.globalData.comUrl+"tabs_getCollectionPage.action",data:{appId:t.globalData.projectInfo.appId,current:e,type:o.data.currentIdx,memberId:a},success:function(a){var e=t.getJsonData(a.data);n=e.pages,console.log(e),e.pageList.length?o.setData({pageList:o.data.pageList.concat(e.pageList),collectNull:!0}):o.setData({collectNull:!1})},fail:function(a){t.hint()}})},navtap:function(t){switch(t.currentTarget.dataset.index){case 3:o=3;break;case 4:o=4;break;case 2:o=2;break;case 1:o=1;break;case 5:o=5}e=1,this.setData({currentIdx:o,collectNull:!0,bottomHint:!0,pageList:[]}),this.getCollectPage()},toNewsDetail:function(a){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTab.action",data:{appId:t.globalData.projectInfo.appId,tabContentId:a.currentTarget.dataset.tabid},success:function(n){t.getJsonData(n.data).id?wx.navigateTo({url:"/pages/news/news-detail/news-detail?tabContentId="+a.currentTarget.dataset.tabid}):e.warn("该资讯已删除！")},fail:function(){t.hint()}})},toStoreDetail:function(a){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getSingleBranchInfo.action",data:{appId:t.globalData.projectInfo.appId,tabContentId:a.currentTarget.dataset.tabid},success:function(n){t.getJsonData(n.data).id?wx.navigateTo({url:"../../store/store-detail/store-detail?tabContentId="+a.currentTarget.dataset.tabid}):e.warn("该商铺已下架！")},fail:function(){t.hint()}})},toNewsCenter:function(a){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTab.action",data:{appId:t.globalData.projectInfo.appId,tabContentId:a.currentTarget.dataset.tabid},success:function(n){t.getJsonData(n.data).id?wx.navigateTo({url:"/pages/news/news-detail/news-detail?tabContentId="+a.currentTarget.dataset.tabid}):e.warn("该资讯已删除！")},fail:function(){t.hint()}})},toProDetail:function(a){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getZXProductDetail.action",data:{appId:t.globalData.projectInfo.appId,productId:a.currentTarget.dataset.tabid},success:function(n){2!=t.getJsonData(n.data).status?e.warn("该商品不存在或已下架！"):wx.navigateTo({url:"../../product/pro-detail/pro-detail?productId="+a.currentTarget.dataset.tabid})},fail:function(){t.hint()}})},toSupplyDetail:function(a){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTab.action",data:{appId:t.globalData.projectInfo.appId,tabContentId:a.currentTarget.dataset.tabid,customizetabId:t.globalData.customizeTabId.LynxPhoto_Info_Post_Tab},success:function(n){t.getJsonData(n.data).id?wx.navigateTo({url:"../../supply/supply-detail/supply-detail?tabContentId="+a.currentTarget.dataset.tabid}):e.warn("该资讯已删除！")},fail:function(){t.hint()}})},onReachBottom:function(){e<n?(e++,this.getMoreCollectPage()):e>1&&(this.data.pageList.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))},warn:function(t){wx.showToast({title:t,image:"../../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/self/collect/collect.js");
 		__wxRoute = 'pages/self/memRights/memRights';__wxRouteBegin = true; 	define("pages/self/memRights/memRights.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{rule:""},onLoad:function(t){var e=wx.getStorageSync("scoreRule"+a.globalData.autoId);e=a.filterSpecialSymbol(e),this.setData({rule:e})}}); 
 			}); 	require("pages/self/memRights/memRights.js");
 		__wxRoute = 'pages/self/bindPhone/bindPhone';__wxRouteBegin = true; 	define("pages/self/bindPhone/bindPhone.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a="",t=getApp(),e=t.globalData.projectInfo;Page({data:{valueCode:"",valuePhone:"",counter:-1},onLoad:function(a){e=t.globalData.projectInfo},phoneInput:function(a){this.setData({valuePhone:a.detail.value})},codeInput:function(a){this.setData({valueCode:a.detail.value})},getSmsCode:function(){var a=this;a.data.counter>0||(a.data.valuePhone.length<1?t.hint("请输入手机号"):wx.request({url:t.globalData.comUrl+"member_getSMSCaptcha2.action",data:{appId:t.globalData.projectInfo.appId,flag:1,phoneNumber:a.data.valuePhone},success:function(e){var o=t.getJsonData(e.data);1==o.status?(console.log(o.SMSCaptcha),wx.showToast({title:"获取成功",icon:"success",duration:1500,mask:!0}),a.startTimer()):t.hint("获取失败")}}))},startTimer:function(){var t=this;t.setData({counter:60}),a=setInterval(function(){t.data.counter<0?clearInterval(a):t.setData({counter:t.data.counter-1})},1e3)},doBinding:function(){var a=this;if(11==a.data.valuePhone.length)if(a.data.valueCode.length<4||a.data.valueCode.length>6)t.hint("请输入正确的验证码");else{var e=t.getMemberId();wx.request({url:t.globalData.comUrl+"member_memberBindOpenId.action",data:{appId:t.globalData.projectInfo.appId,SMSCaptcha:a.data.valueCode,mobilePhone:a.data.valuePhone,memberId:e},success:function(e){var o=t.getJsonData(e.data);1==o.status?(console.log(o.SMSCaptcha),wx.setStorageSync("mobilePhone"+t.globalData.autoId,a.data.valuePhone),wx.showToast({title:"绑定成功",icon:"success",duration:1500,mask:!0}),setTimeout(function(){wx.navigateBack()},1500)):t.hint("绑定失败:"+o.reason)}})}else t.hint("请输入正确的手机号")}}); 
 			}); 	require("pages/self/bindPhone/bindPhone.js");
 		__wxRoute = 'pages/self/myBeforehand/myBeforehand';__wxRouteBegin = true; 	define("pages/self/myBeforehand/myBeforehand.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=1,o=1;Page({data:{bookingList:[],styleConfig:t.globalData.styleConfig},onLoad:function(t){this.getBookingList()},onShow:function(){},getBookingList:function(){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getFlexiFormValueList.action",data:{customizeTabId:t.globalData.customizeTabId["Flexi-Form-Booking"],current:o,memberId:t.getMemberId()},success:function(o){var e=t.getJsonData(o.data);a=e.pages,e.pageList.shift(),console.log(e.pageList),i.setData({bookingList:i.data.bookingList.concat(e.pageList)})}})},bhtap:function(t){wx.navigateTo({url:"../../product/beforehand/bh-detail/bh-detail?id="+t.currentTarget.dataset.id})},onReachBottom:function(){o<a&&(o++,this.getBookingList())}}); 
 			}); 	require("pages/self/myBeforehand/myBeforehand.js");
 		__wxRoute = 'pages/self/myCustom/myCustom';__wxRouteBegin = true; 	define("pages/self/myCustom/myCustom.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{customArr:[]},onLoad:function(){var a=wx.getStorageSync("customArr"+t.globalData.autoId);a.length>0&&(a=a.reverse()),this.setData({customArr:a})}}); 
 			}); 	require("pages/self/myCustom/myCustom.js");
 		__wxRoute = 'pages/self/mycoupon/mycoupon';__wxRouteBegin = true; 	define("pages/self/mycoupon/mycoupon.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{couponInfo:{},showtab:0,showtabtype:"",tabnav:{},unusedata:{},useddata:{},expiredata:{},startx:0,endx:0,critical:20,marginleft:0,unusesize:0,usedsize:0,expiredsize:0,isShowNullMask:!1,imgArr_bg:["coupon_valid.png","coupon_invalid.png","coupon_invalid.png"],imgArr_icon:["coupon-unuse.png","coupon-used.png","coupon-expired.png"]},onLoad:function(){this.setData({tabnav:{tabnum:3,tabitem:[{id:1,text:"未使用"},{id:2,text:"已使用"},{id:3,text:"已过期"}]}}),this.fetchTabData(0)},fetchData:function(a){var e=this;wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),wx.request({url:t.globalData.comUrl+"act_getMemberActivityList.action",data:{memberId:t.getMemberId(),customizetabId:t.getCustomizeId("Activity"),memberStatus:a,status:a},success:function(a){wx.hideToast();var s=t.getJsonData(a.data);if(s.length){for(var i=[],n=0;n<s.length;n++){var o=s[n];o.typeName=e.getCouponTypeName(o.type),"1"==o.type?(o.amountReachedName="满"+o.amountReached+"元可用",o.tipName="满"+o.amountReached+"减"+o.discountAmount):o.tipName="优惠"+o.discountAmount+"元",o.tip=o.instructure&&""!=o.instructure&&"null"!=o.instructure?o.instructure:"",parseFloat(o.amountReached)>parseFloat(e.data.allPrice)?o.isEffect=!1:o.isEffect=!0,o.beginTime=o.beginTime.substring(0,10),o.endTime=o.endTime.substring(0,10),i.push(o)}e.setData({couponInfo:i,isShowNullMask:!1})}else e.setData({isShowNullMask:!0})},fail:function(){t.hint()}})},getCouponTypeName:function(t){switch(Number(t)){case 1:return"满减优惠";case 2:return"满包邮";case 3:return"限时秒杀";case 4:return"现金红包";case 5:return"拼团";default:return""}},fetchTabData:function(t){switch(this.setData({couponInfo:{},isShowNullMask:!1}),console.log(Number(t)),Number(t)){case 0:this.fetchData("0");break;case 1:this.fetchData("1");break;case 2:this.fetchData("3");break;default:return}},setTab:function(t){var a=t.currentTarget.dataset;this.setData({showtab:Number(a.tabindex),showtabtype:a.type}),this.fetchTabData(a.tabindex)},scrollTouchstart:function(t){var a=t.touches[0].pageX;this.setData({startx:a})},scrollTouchmove:function(t){var a=t.touches[0].pageX,e=this.data;this.setData({endx:a}),a-e.startx<e.critical&&a-e.startx>-e.critical&&this.setData({marginleft:a-e.startx})},scrollTouchend:function(t){var a=this.data;a.endx-a.startx>a.critical&&a.showtab>0?this.setData({showtab:a.showtab-1}):a.endx-a.startx<-a.critical&&a.showtab<this.data.tabnav.tabnum-1&&this.setData({showtab:a.showtab+1}),this.fetchTabData(a.showtab),this.setData({startx:0,endx:0,marginleft:0})},useCoupon:function(t){wx.redirectTo({url:"../../store/store-detail/store-detail?tabContentId="+t.currentTarget.dataset.id})}}); 
 			}); 	require("pages/self/mycoupon/mycoupon.js");
 		__wxRoute = 'pages/supply/supply';__wxRouteBegin = true; 	define("pages/supply/supply.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,o=1,n=1;Page({data:{styleConfig:t.globalData.styleConfig,supplyAndDemand:2,pageList:[],notNull:!0,bottomHint:!0},onLoad:function(){a=t.globalData.projectInfo,e=t.globalData.customizeTabId,this.navtap()},toSearch:function(){wx.navigateTo({url:"../search/search"})},navtap:function(t){o=1,this.setData({notNull:!0,bottomHint:!0,pageList:[]}),t&&this.setData({supplyAndDemand:t.currentTarget.dataset.index}),this.getSupplyList(this.data.supplyAndDemand,o)},getSupplyList:function(o,s){var i=this;wx.request({url:t.globalData.comUrl+"mctab_searchPhotoInfo.action",data:{appId:a.appId,customizeTabId:e.LynxPhoto_Info_Post_Tab,current:1,supplyAndDemand:o},success:function(a){var e=t.getJsonData(a.data);n=e.pages;for(var o=0;o<e.pageList.length;o++)e.pageList[o].picture1=t.modifyPicSize(e.pageList[o].picture1,"_r160x160p");i.setData({pageList:e.pageList}),0==i.data.pageList.length?i.setData({notNull:!1}):i.setData({notNull:!0}),wx.hideToast(),wx.stopPullDownRefresh()},fail:function(a){t.hint()}})},getMoreSupplyList:function(o,n){var s=this;wx.request({url:t.globalData.comUrl+"mctab_searchPhotoInfo.action",data:{appId:a.appId,customizeTabId:e.LynxPhoto_Info_Post_Tab,current:n,supplyAndDemand:o},success:function(a){for(var e=t.getJsonData(a.data),o=0;o<e.pageList.length;o++)e.pageList[o].picture1=t.modifyPicSize(e.pageList[o].picture1,"_r160x160p");s.setData({pageList:s.data.pageList.concat(e.pageList)})},fail:function(a){t.hint()}})},publishtap:function(){t.getMemberId()?wx.navigateTo({url:"supply-publish/supply-publish"}):wx.navigateTo({url:"../login/login"})},onReachBottom:function(){o<n?(o++,this.getMoreSupplyList(this.data.supplyAndDemand,o)):o>1&&(this.data.pageList.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))},onPullDownRefresh:function(){this.setData({supplyAndDemand:2,pageList:[],notNull:!0,bottomHint:!0}),o=1,n=1,this.onLoad()}}); 
 			}); 	require("pages/supply/supply.js");
 		__wxRoute = 'pages/supply/supply-publish/supply-publish';__wxRouteBegin = true; 	define("pages/supply/supply-publish/supply-publish.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=!0;Page({data:{styleConfig:t.globalData.styleConfig,imagePath:"",navIndex:2,title:"",phone:"",describe:""},onLoad:function(){},navtap:function(t){this.setData({navIndex:t.currentTarget.dataset.index})},takephoto:function(){var a=this;wx.chooseImage({count:1,success:function(t){var e=t.tempFilePaths[0];a.setData({imagePath:e})},fail:function(a){t.hint("上传失败")}})},formSubmit:function(e){if(a){a=!1;var i=this,o=t.getMemberId(),n=/^1[3|4|5|8|7][0-9]\d{4,8}$/;if(!e.detail.value.title)return a=!0,void this.warn("标题不能为空!");if(!e.detail.value.phone)return a=!0,void this.warn("请输入电话号码!");if(!n.test(e.detail.value.phone))return a=!0,void this.warn("请输入正确的电话号码");if(!e.detail.value.describe)return a=!0,void this.warn("请输入描述内容!");var l=wx.getStorageSync("merchantId"+t.globalData.comUrl);i.data.imagePath?wx.uploadFile({url:t.globalData.comUrl+"mctab_addPhotoInfoTabWeb.action",filePath:i.data.imagePath,name:"file",formData:{appId:t.globalData.projectInfo.appId,title:e.detail.value.title,phone:e.detail.value.phone,detailDescription:e.detail.value.describe,memberId:o,merchantId:l,customizeTabId:t.globalData.customizeTabId.LynxPhoto_Info_Post_Tab,type:i.data.navIndex,mina:"true"},success:function(t){i.setData({imagePath:"",title:"",phone:"",describe:""}),wx.showToast({title:"提交成功",icon:"success",duration:2e3})},fail:function(a){t.hint("提交失败")},complete:function(){a=!0}}):wx.request({url:t.globalData.comUrl+"mctab_addPhotoInfoTabWeb.action",data:{appId:t.globalData.projectInfo.appId,title:e.detail.value.title,phone:e.detail.value.phone,detailDescription:e.detail.value.describe,memberId:o,merchantId:l,customizeTabId:t.globalData.customizeTabId.LynxPhoto_Info_Post_Tab,type:"1",mina:"true"},success:function(t){i.setData({imagePath:"",title:"",phone:"",describe:""}),wx.showToast({title:"提交成功",icon:"success",duration:2e3})},fail:function(a){console.log(a),t.hint()},complete:function(){a=!0}})}},formReset:function(){this.setData({imagePath:""})},warn:function(t){wx.showToast({title:t,image:"../../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/supply/supply-publish/supply-publish.js");
 		__wxRoute = 'pages/supply/supply-detail/supply-detail';__wxRouteBegin = true; 	define("pages/supply/supply-detail/supply-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,o="",l="",i={},c=!0,n=!0;Page({data:{supplyDetail:{},collectStatus:"0",content:""},onLoad:function(l){a=t.globalData.projectInfo,e=t.globalData.customizeTabId;var i=this;o=l.tabContentId,i.getSupplyDetail(),i.getCollectStatus()},getSupplyDetail:function(){var l=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTab",data:{appId:a.appId,tabContentId:o,customizetabId:e.LynxPhoto_Info_Post_Tab},success:function(a){(i=t.getJsonData(a.data)).detailDescription=t.filterSpecialSymbol(i.detailDescription),l.setData({supplyDetail:i}),wx.hideToast()},fail:function(){t.hint()}})},getCollectStatus:function(){var e=this;(l=t.getMemberId())&&wx.request({url:t.globalData.comUrl+"tabs_checkCollection.action",data:{appId:a.appId,memberId:l,id:o},success:function(a){var o=t.getJsonData(a.data);e.setData({collectStatus:o.isExisted})},fail:function(a){t.hint()},complete:function(){c=!0,n=!0}})},collect:function(){if(0!=c){c=!1;var e=this;(l=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_addCollection.action",data:{appId:a.appId,type:5,name:e.data.supplyDetail.title,objId:e.data.supplyDetail.id,memberId:l,pic_url:e.data.supplyDetail.picture1,detailDescription:e.data.supplyDetail.briefDescription},success:function(t){wx.showToast({title:"收藏成功",icon:"success",duration:2e3}),e.getCollectStatus()},fail:function(a){t.hint("收藏失败")}}):(c=!0,wx.navigateTo({url:"../../login/login"}))}},cancelCollect:function(){if(0!=n){n=!1;var a=this;(l=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_delCollectionByObjId.action",data:{id:o,memberId:l},success:function(t){wx.showToast({title:"已取消收藏",icon:"success",duration:2e3}),a.getCollectStatus()},fail:function(a){t.hint("取消收藏失败")}}):(n=!0,wx.navigateTo({url:"../../login/login"}))}}}); 
 			}); 	require("pages/supply/supply-detail/supply-detail.js");
 		__wxRoute = 'pages/search/search';__wxRouteBegin = true; 	define("pages/search/search.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var a,e=getApp(),i=e.globalData.projectInfo,n=e.globalData.customizeTabId,o=1,s=0,r="",c=!0;Page(t({data:(a={bottomHint:!0,hidden:!0,search_type:"0",noSearch:!0,pageList:[],hideComboBox:!0},t(a,"hideComboBox",!0),t(a,"showVal","综合"),t(a,"hiddenTo",!0),t(a,"styleConfig",e.globalData.styleConfig),t(a,"back",!1),t(a,"MinMoneyVal",""),t(a,"MaxMoneyVal",""),t(a,"sort","comprehensive"),t(a,"ThePrice","asc"),t(a,"merchantId",""),t(a,"trademark",""),t(a,"carryOut",!1),t(a,"currentIdx","0"),t(a,"isPerson",e.globalData.isPerson),a),onLoad:function(t){r="",i=e.globalData.projectInfo,n=e.globalData.customizeTabId,this.setData({search_type:t.type}),this.getProductInfo()},proNavTap:function(t){var a=t.currentTarget.dataset.idx;"0"==a?this.setData({pageList:[],hideComboBox:!this.data.hideComboBox,currentIdx:a}):"1"==a?(o=1,this.setData({sort:"buyCount",ThePrice:"desc",pageList:[],currentIdx:a}),this.getProductInfo()):this.setData({hiddenTo:!this.data.hiddenTo,currentIdx:a})},itemSelect:function(t){o=1;var a="";0==t.currentTarget.dataset.idx?(a="综合",this.setData({sort:"comprehensive",ThePrice:"asc"})):1==t.currentTarget.dataset.idx?(a="新品",this.setData({sort:"createDate",ThePrice:"desc"})):2==t.currentTarget.dataset.idx?(a="价格降序",this.setData({sort:"price",ThePrice:"desc"})):(a="价格升序",this.setData({sort:"price",ThePrice:"asc"})),this.setData({showVal:a,pageList:[],hideComboBox:!0}),this.getProductInfo()},hiddenTo:function(){this.setData({hiddenTo:!0})},onselect:function(t){console.log(t);var a=t.currentTarget.dataset.idx;this.setData({back:!0,active:a}),this.setData({merchantId:t.currentTarget.dataset.bid})},MinMoney:function(t){this.setData({MinMoneyVal:t.detail.value})},MaxMoney:function(t){this.setData({MaxMoneyVal:t.detail.value})},moneyWay:function(){this.data.MinMoneyVal>this.data.MaxMoneyVal&&this.setData({MinMoneyVal:this.data.MaxMoneyVal,MaxMoneyVal:this.data.MinMoneyVal})},reset:function(){o=1,this.setData({pageList:[],merchantId:"",MinMoneyVal:"",MaxMoneyVal:"",back:!1}),this.getProductInfo()},confirm:function(){o=1,this.moneyWay(),this.setData({pageList:[],hiddenTo:!0}),this.getProductInfo()},encapsulation:function(){var t=this.data.pageList;console.log(t);var a=[],e={};t.forEach(function(t){if(!e[t.branchName]){var i={branchName:t.branchName,branchInfoId:t.branchInfoId};a.push(i),e[t.branchName]=1}}),this.setData({trademark:a})},getNewsInfo:function(){var t=this;c&&(c=!1,wx.request({url:e.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:i.appId,customizeTabId:n.LynxPhoto_H_Info_Tab_Level2,current:o,searchKey:r},success:function(a){var i=e.getJsonData(a.data);s=i.pages,t.setData({pageList:t.data.pageList.concat(i.pageList)});var n=!!t.data.pageList.length;t.setData({noSearch:n}),c=!0},fail:function(){e.hint(),c=!0}}))},getStoreInfo:function(){var t=this;c&&(c=!1,wx.request({url:e.globalData.comUrl+"mctab_searchBranchInfo.action",data:{appId:i.appId,customizeTabId:n.LynxAbout_Merchant,advertisement:1,current:o,level:0,provinceId:"",cityId:"",categoryId:"",branchName:r},success:function(a){var i=e.getJsonData(a.data);s=i.pages,t.setData({pageList:t.data.pageList.concat(i.pageList)});var n=!!t.data.pageList.length;t.setData({noSearch:n}),c=!0},fail:function(){e.hint(),c=!0}}))},getProductInfo:function(){var t=this,a={appId:i.appId,customizeTabId:n.LynxProductList,current:o,status:2,productName:r,sortName:t.data.sort,sortType:t.data.ThePrice,isGroup:1,branchInfoId:t.data.merchantId,minimumPrice:t.data.MinMoneyVal,maximumPrice:t.data.MaxMoneyVal};c&&(c=!1,wx.request({url:e.globalData.comUrl+"tabs_getZXProductListByCategory.action",data:a,success:function(a){var i=e.getJsonData(a.data);s=i.pages,i.pageList.forEach(function(t){if(void 0!=t.productImageVOList&&t.productImageVOList.length>0){var a=t.productImageVOList[0].imageURL;t.productImageVOList[0].imageURL=a?e.modifyPicSize(a,"_r220x220p"):"/img/img-default.png"}}),t.setData({pageList:t.data.pageList.concat(i.pageList)});var n=!!t.data.pageList.length;t.setData({noSearch:n}),t.encapsulation(),c=!0},fail:function(){e.hint(),c=!0}}))},toProDetail:function(t){wx.navigateTo({url:"../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},toStoreDetail:function(t){wx.navigateTo({url:"../store/store-detail/store-detail?tabContentId="+t.currentTarget.dataset.id})},toNewsDetail:function(t){wx.navigateTo({url:"../news/news-detail/news-detail?tabContentId="+t.currentTarget.dataset.id+"&type=3"})},navtap:function(){this.setData({hidden:!this.data.hidden})},navItemtap:function(t){"0"==t.currentTarget.dataset.idx?this.setData({search_type:"0"}):"1"==t.currentTarget.dataset.idx?this.setData({search_type:"1"}):this.setData({search_type:"2"}),this.search(),this.setData({hidden:!1})},search:function(){this.setData({pageList:[],bottomHint:!0,hidden:!0,noSearch:!0}),o=1,"0"==this.data.search_type?this.getProductInfo():"1"==this.data.search_type?this.getStoreInfo():this.getNewsInfo()},searchInput:function(t){r=t.detail.value},blanktap:function(){this.setData({hidden:!0})},scrolltolower:function(){o<s&&(o++,0==this.data.search_type?this.getProductInfo():1==this.data.search_type?this.getStoreInfo():this.getNewsInfo())}},"scrolltolower",function(){o<s?(o++,0==this.data.search_type?this.getProductInfo():1==this.data.search_type?this.getStoreInfo():this.getNewsInfo()):o>1&&(this.data.pageList.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))})); 
 			}); 	require("pages/search/search.js");
 		__wxRoute = 'pages/news/news';__wxRouteBegin = true; 	define("pages/news/news.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp();Page({data:{projectType:e.globalData.projectInfo.projectType},onLoad:function(e){var o={enterprise:"layout-meirong",meirong:"layout-meirong"}[this.data.projectType]||"layout-o2o",r=[];for(var t in e)r.push(t+"="+e[t]);"layout-meirong"==o?wx.switchTab({url:o+"/news",fail:function(){wx.redirectTo({url:o+"/news"})}}):wx.redirectTo({url:o+"/news?"+r.join("&")})}}); 
 			}); 	require("pages/news/news.js");
 		__wxRoute = 'pages/news/layout-o2o/news';__wxRouteBegin = true; 	define("pages/news/layout-o2o/news.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",e="",i=1,s=1,o="";Page({data:{titles:[],pageList:[],adList:[],categoryId:"",news_type:3,titleLeft:0,titleKey:1,hidden:!0,bottomHint:!0,leftHidden:!0,rightHidden:!0,scrolltop:0},onLoad:function(i){a=t.globalData.projectInfo,e=t.globalData.customizeTabId,console.log(t.globalData),console.log(e);var s=this;"LynxPhoto_H_Info_Tab_Level2"==(o=i.sysTabName)?(s.getAdList(),s.setData({news_type:3})):s.setData({news_type:4}),i.title&&wx.setNavigationBarTitle({title:i.title}),s.newsTitleInfo().then(function(t){s.titletap()})},newsTitleInfo:function(){var i=this;return new Promise(function(s,n){wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{appId:a.appId,customizeTabId:e[o]},success:function(a){var e=t.getJsonData(a.data);i.setData({titles:e}),e.length>3&&i.setData({rightHidden:!1}),s(i.titles)},fail:function(){t.hint()}})})},getNewsInfo:function(){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e[o],categoryId:i.data.categoryId,current:1},success:function(a){var e=t.getJsonData(a.data);s=e.pages;for(var o=0;o<e.pageList.length;o++)e.pageList[o].picture1=t.modifyPicSize(e.pageList[o].picture1,"_r160x160p");i.setData({pageList:e.pageList}),i.data.pageList.length<1&&i.setData({hidden:!1}),wx.hideToast(),wx.stopPullDownRefresh()},fail:function(){t.hint()}})},getMoreNewsInfo:function(){var n=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e[o],categoryId:n.data.categoryId,current:i},success:function(a){var e=t.getJsonData(a.data);s=e.pages;for(var i=0;i<e.pageList.length;i++)e.pageList[i].picture1=t.modifyPicSize(e.pageList[i].picture1,"_r160x160p");n.data.pageList=n.data.pageList.concat(e.pageList),n.setData({pageList:n.data.pageList})},fail:function(){t.hint()}})},getAdList:function(){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e.LynxAdvertisingH_Photo_Info_Tab_Level1,current:1},success:function(a){var e=t.getJsonData(a.data);i.setData({adList:e.pageList})},fail:function(){t.hint()}})},titletap:function(t){var a=this;this.setData({pageList:[]}),t?a.setData({categoryId:t.currentTarget.dataset.code,bottomHint:!0,hidden:!0}):a.setData({categoryId:a.data.titles[0].code,bottomHint:!0,hidden:!0}),i=1,this.getNewsInfo()},onReachBottom:function(){i<s?(i++,this.getMoreNewsInfo()):i>1&&(this.data.pageList.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))},onPullDownRefresh:function(){i=1,this.setData({pageList:[]}),wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),this.getNewsInfo()},turnLeft:function(){console.log(this.data.titleKey),this.data.titleKey>1&&(this.setData({titleLeft:this.data.titleLeft+200,titleKey:this.data.titleKey-1}),1==this.data.titleKey&&this.setData({leftHidden:!0,rightHidden:!1}))},turnRight:function(){console.log(this.data.titleKey),this.data.titleKey<this.data.titles.length-2&&(this.setData({titleLeft:this.data.titleLeft-200,titleKey:this.data.titleKey+1}),this.data.titleKey==this.data.titles.length-2&&this.setData({rightHidden:!0,leftHidden:!1}))}}); 
 			}); 	require("pages/news/layout-o2o/news.js");
 		__wxRoute = 'pages/news/news-detail/news-detail';__wxRouteBegin = true; 	define("pages/news/news-detail/news-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,i="",o={},n="",l=0,c=!0,s=!0;Page({data:{detailInfo:{},collectStatus:"0"},onLoad:function(o){a=t.globalData.projectInfo,e=t.globalData.customizeTabId,t.loginVzSystem();var n=this;l=o.type,i=o.tabContentId,n.newsDetailInfo(),n.getCollectStatus()},newsDetailInfo:function(){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTab.action",data:{appId:a.appId,tabContentId:i},success:function(a){(o=t.getJsonData(a.data)).detailDescription=t.filterSpecialSymbol(o.detailDescription),e.setData({detailInfo:o}),wx.hideToast()},fail:function(a){t.hint()}})},getCollectStatus:function(){if(n=t.getMemberId()){var e=this;wx.request({url:t.globalData.comUrl+"tabs_checkCollection.action",data:{appId:a.appId,memberId:n,id:i},success:function(a){var i=t.getJsonData(a.data);e.setData({collectStatus:i.isExisted})},fail:function(a){t.hint()},complete:function(){c=!0,s=!0}})}},collect:function(){if(0!=c){c=!1;var e=this;(n=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_addCollection.action",data:{appId:a.appId,type:l,name:o.title,objId:o.id,memberId:n,pic_url:o.picture1,detailDescription:o.briefDescription},success:function(t){wx.showToast({title:"收藏成功",icon:"success",duration:2e3}),e.getCollectStatus()},fail:function(a){t.hint("收藏失败")}}):(c=!0,wx.navigateTo({url:"../../login/login"}))}},cancelCollect:function(){if(0!=s){s=!1;var a=this;(n=t.getMemberId())?wx.request({url:t.globalData.comUrl+"tabs_delCollectionByObjId.action",data:{id:i,memberId:n},success:function(t){wx.showToast({title:"已取消收藏",icon:"success",duration:2e3}),a.getCollectStatus()},fail:function(a){t.hint("取消收藏失败")}}):(s=!0,wx.switchTab({url:"../../self/self"}))}},onShareAppMessage:function(){var t=this;return{title:t.data.detailInfo.title,path:"/pages/news/news-detail/news-detail?tabContentId="+t.data.detailInfo.id,success:function(t){},fail:function(t){}}}}); 
 			}); 	require("pages/news/news-detail/news-detail.js");
 		__wxRoute = 'pages/news/news-list/news-list';__wxRouteBegin = true; 	define("pages/news/news-list/news-list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,o=t.globalData.customizeTabId,e=1,i=1;Page({data:{styleConfig:t.globalData.styleConfig,pageList:[],categoryId:"",bottomHint:!0,title:""},onLoad:function(e){a=t.globalData.projectInfo,o=t.globalData.customizeTabId,this.setData({categoryId:e.categoryId,title:e.title}),this.getNewsList()},onShow:function(){},getNewsList:function(){var s=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:o.LynxPhoto_H_Info_Tab_Level2,categoryId:s.data.categoryId,current:e},success:function(a){var o=t.getJsonData(a.data);i=o.pages;for(var e=0;e<o.pageList.length;e++)o.pageList[e].picture1=t.modifyPicSize(o.pageList[e].picture1,"_r160x160p");s.setData({pageList:s.data.pageList.concat(o.pageList)}),wx.hideToast(),wx.stopPullDownRefresh()},fail:function(){t.hint()}})},onPullDownRefresh:function(){},onReachBottom:function(){e<i?(e++,this.getNewsList()):this.setData({bottomHint:!1})}}); 
 			}); 	require("pages/news/news-list/news-list.js");
 		__wxRoute = 'pages/news/layout-meirong/news';__wxRouteBegin = true; 	define("pages/news/layout-meirong/news.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,i=1,s=1,o="";Page({data:{titles:[],pageList:[],adList:[],categoryId:"",news_type:3,titleLeft:0,titleKey:1,hidden:!0,bottomHint:!0,leftHidden:!0,rightHidden:!0,scrolltop:0},onLoad:function(i){a=t.globalData.projectInfo,e=t.globalData.customizeTabId;var s=this;"LynxPhoto_H_Info_Tab_Level2"==(o=i.sysTabName?i.sysTabName:"LynxPhoto_H_Info_Tab_Level2")?(s.getAdList(),s.setData({news_type:3})):s.setData({news_type:4}),i.title&&wx.setNavigationBarTitle({title:i.title}),s.newsTitleInfo().then(function(t){s.titletap()})},newsTitleInfo:function(){var i=this;return new Promise(function(s,n){wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabCategory.action",data:{appId:a.appId,customizeTabId:e[o]},success:function(a){var e=t.getJsonData(a.data);i.setData({titles:e}),e.length>3&&i.setData({rightHidden:!1}),s(i.titles)},fail:function(){t.hint()}})})},getNewsInfo:function(){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e[o],categoryId:i.data.categoryId,current:1},success:function(a){var e=t.getJsonData(a.data);s=e.pages;for(var o=0;o<e.pageList.length;o++)e.pageList[o].picture1=t.modifyPicSize(e.pageList[o].picture1,"_r160x160p");i.setData({pageList:e.pageList}),i.data.pageList.length<1&&i.setData({hidden:!1}),wx.hideToast(),wx.stopPullDownRefresh()},fail:function(){t.hint()}})},getMoreNewsInfo:function(){var n=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e[o],categoryId:n.data.categoryId,current:i},success:function(a){var e=t.getJsonData(a.data);s=e.pages;for(var i=0;i<e.pageList.length;i++)e.pageList[i].picture1=t.modifyPicSize(e.pageList[i].picture1,"_r160x160p");n.data.pageList=n.data.pageList.concat(e.pageList),n.setData({pageList:n.data.pageList})},fail:function(){t.hint()}})},getAdList:function(){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:e.LynxAdvertisingH_Photo_Info_Tab_Level1,current:1},success:function(a){var e=t.getJsonData(a.data);i.setData({adList:e.pageList})},fail:function(){t.hint()}})},toNewsList:function(t){wx.navigateTo({url:"news-list/news-list?categoryId="+t.currentTarget.dataset.code+"&title="+t.currentTarget.dataset.title})},titletap:function(t){var a=this;this.setData({pageList:[]}),t?a.setData({categoryId:t.currentTarget.dataset.code,bottomHint:!0,hidden:!0}):a.setData({categoryId:a.data.titles[0].code,bottomHint:!0,hidden:!0}),i=1,this.getNewsInfo()},onReachBottom:function(){i<s?(i++,this.getMoreNewsInfo()):i>1&&(this.data.pageList.length>1?this.setData({bottomHint:!1}):this.setData({bottomHint:!0}))},onPullDownRefresh:function(){i=1,this.setData({pageList:[]}),wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),this.getNewsInfo()},turnLeft:function(){console.log(this.data.titleKey),this.data.titleKey>1&&(this.setData({titleLeft:this.data.titleLeft+200,titleKey:this.data.titleKey-1}),1==this.data.titleKey&&this.setData({leftHidden:!0,rightHidden:!1}))},turnRight:function(){console.log(this.data.titleKey),this.data.titleKey<this.data.titles.length-2&&(this.setData({titleLeft:this.data.titleLeft-200,titleKey:this.data.titleKey+1}),this.data.titleKey==this.data.titles.length-2&&this.setData({rightHidden:!0,leftHidden:!1}))}}); 
 			}); 	require("pages/news/layout-meirong/news.js");
 		__wxRoute = 'pages/news/layout-meirong/news-list/news-list';__wxRouteBegin = true; 	define("pages/news/layout-meirong/news-list/news-list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,o=t.globalData.customizeTabId,e=1,i=1;Page({data:{styleConfig:t.globalData.styleConfig,pageList:[],categoryId:"",bottomHint:!0,title:""},onLoad:function(e){a=t.globalData.projectInfo,o=t.globalData.customizeTabId,this.setData({categoryId:e.categoryId,title:e.title}),this.getNewsList()},onShow:function(){},getNewsList:function(){var s=this;wx.request({url:t.globalData.comUrl+"tabs_getPhotoInfoTabFromL2ToL1.action",data:{appId:a.appId,customizeTabId:o.LynxPhoto_H_Info_Tab_Level2,categoryId:s.data.categoryId,current:e},success:function(a){var o=t.getJsonData(a.data);i=o.pages;for(var e=0;e<o.pageList.length;e++)o.pageList[e].picture1=t.modifyPicSize(o.pageList[e].picture1,"_r160x160p");s.setData({pageList:s.data.pageList.concat(o.pageList)}),wx.hideToast(),wx.stopPullDownRefresh()},fail:function(){t.hint()}})},onPullDownRefresh:function(){},onReachBottom:function(){e<i?(e++,this.getNewsList()):this.setData({bottomHint:!1})}}); 
 			}); 	require("pages/news/layout-meirong/news-list/news-list.js");
 		__wxRoute = 'pages/order/order';__wxRouteBegin = true; 	define("pages/order/order.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,o="",r=!0,s=!1,i=0,n=0;Page({data:{addressInfo:"",orderList:[],proPrice:[],transportFee:[],totalPrice:0,tempTotalPrice:0,payType:"",myOrderInfo:{},productNames:"",remark:"",bill:"",openid:"",failReason:[],isSupport:!1,hasWxPay:!1,status:"",date:"",time:"",bookingInfo:{},branchCouponList:[],platformCouponList:[],hiddenCouponList:!0,isSelectBraCou:!1,curBranchCouponIdx:0,platformCouponInfo:{},coupontype:1,memberActivityId:"",branchInfoIds:"",activityId:"",mtype:t.globalData.ext.hotel,totalDays:1,nowDate:"",comeDateInfo:"",leaveDateInfo:"",offlinePayHidden:"",loadCount:1,isShowPrePay:t.globalData.isShowPrePay,cardNo:"",preMoney:"",totalMoney:"",orderInfo:{},isWeb:t.globalData.isWeb},onLoad:function(o){this.setData({offlinePayHidden:t.globalData.topayHidden}),console.log(this.data.offlinePayHidden),a=t.globalData.projectInfo,e=t.globalData.customizeTabId,i=o.proPrice,console.log(t.globalData.moduleList),o.status&&this.setData({status:o.status}),o.activityId&&this.setData({activityId:o.activityId}),t.globalData.setting.hasWxPay?this.setData({hasWxPay:!0}):this.setData({hasWxPay:!1}),this.setData({totalPrice:0});var r=this;"1"==r.data.isShowPrePay&&r.getUserInfo();var s=[];s="booking"==o.status?wx.getStorageSync("bookingDataList"+t.globalData.autoId):"51"==o.status||"52"==o.status||"3"==o.status||"6"==o.status?wx.getStorageSync("groupProDataList"+t.globalData.autoId):wx.getStorageSync("cartDataList"+t.globalData.autoId);for(var n=[],d=0;d<s.length;d++)if(s[d].isSelected){var c=s[d];r.data.transportFee[d]=(0).toFixed(2);for(var l=[],u=0,p=0;p<c.pro.length;p++)s[d].pro[p].isSelected&&(u+=parseFloat(s[d].pro[p].price)*parseInt(s[d].pro[p].count),l.push(s[d].pro[p]));r.data.proPrice=r.data.proPrice.concat(u),s[d].pro=l,n.push(s[d]),r.data.totalPrice+=r.data.transportFee[d],r.data.branchInfoIds+=s[d].branchInfoId+","}r.data.branchInfoIds=r.data.branchInfoIds+"-1,-2",s=n,r.setData({branchInfoIds:r.data.branchInfoIds,orderList:s,transportFee:r.data.transportFee,proPrice:r.data.proPrice,totalPrice:(parseFloat(r.data.totalPrice)+parseFloat(i)).toFixed(2),tempTotalPrice:(parseFloat(r.data.totalPrice)+parseFloat(i)).toFixed(2)}),r.getAddressInfo().then(function(){r.data.addressInfo.contactPerson?r.getTransportFee():"51"!=r.data.status&&"52"!=r.data.status&&"3"!=r.data.status&&"6"!=r.data.status?r.getCouponInfo(r.data.orderList):wx.hideLoading()})},onShow:function(){var t=this;t.getComeAndGoTime(),1!=t.data.loadCount?t.getAddressInfo().then(function(a){t.setData({tempTotalPrice:i}),1==t.data.mtype&&t.setData({tempTotalPrice:t.data.tempTotalPrice*t.data.totalDays}),a.id?t.getTransportFee():("51"!=t.data.status&&"52"!=t.data.status&&"3"!=t.data.status&&"6"!=t.data.status&&t.getCouponInfo(t.data.orderList),wx.hideLoading())}):t.setData({loadCount:t.data.loadCount+1})},getUserInfo:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getMember.action",data:{memberId:t.getMemberId(),customizetabId:e.LynxApplyFor_About_Merchant,checkBranch:1},success:function(e){var o=t.getJsonData(e.data);console.log(o),a.setData({cardNo:o.cardNo,preMoney:o.preMoney})},fail:function(){t.hint()}})},getComeAndGoTime:function(){if(1==this.data.mtype){var a=wx.getStorageSync("comeDate"+t.globalData.autoId),e=wx.getStorageSync("leaveDate"+t.globalData.autoId),o=new Date;if(a&&e)this.setData({nowDate:o.getMonth()+1+"月"+o.getDate()+"日",comeDateInfo:a,leaveDateInfo:e,totalDays:t.DateDiff(e.re,a.re)});else{var r=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),s=t.calculatDateBydays(r,1),i=s.split("-");a={date:o.getMonth()+1+"月"+o.getDate()+"日",week:t.getWeek(r)},e={date:i[1]+"月"+i[2]+"日",week:t.getWeek(s)},this.setData({nowDate:o.getMonth()+1+"月"+o.getDate()+"日",comeDateInfo:a,leaveDateInfo:e})}}},getAddressInfo:function(){var a=this;return wx.showLoading({title:"加载中..."}),new Promise(function(e,o){wx.request({url:t.globalData.comUrl+"tabs_getCustomerAddressList.action",data:{current:1,memberId:t.getMemberId()},success:function(o){var r=t.getJsonData(o.data);if(r.pageList.length>0){for(var s=0;s<r.pageList.length;s++)if(1==r.pageList[s].isdefault){a.setData({addressInfo:r.pageList[s]}),e(r.pageList[s]);break}}else a.setData({addressInfo:""}),e("")}})})},remarkInput:function(t){this.setData({remark:t.detail.value})},billInput:function(t){this.setData({bill:t.detail.value})},getCouponInfo:function(a){var e=this;wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),wx.request({url:t.globalData.comUrl+"act_getMemberActivityListByBranch.action",data:{memberId:t.getMemberId(),customizetabId:t.getCustomizeId("Activity"),memberStatus:0,status:0,branchInfoIds:e.data.branchInfoIds},success:function(o){wx.hideToast(),e.data.platformCouponList=[];var r=t.getJsonData(o.data);console.log(r);for(var s=0;s<a.length;s++)a[s].couponList=[];if(r.length){for(var i=0;i<r.length;i++){var n=r[i];"1"==n.type?(n.amountReachedName="满"+n.amountReached+"元可用",n.tipName="满"+n.amountReached+"减"+n.discountAmount):n.tipName="优惠"+n.discountAmount+"元",n.tip=n.instructure&&""!=n.instructure&&"null"!=n.instructure?n.instructure:"",n.beginTime=n.beginTime.substring(0,10),n.endTime=n.endTime.substring(0,10);for(var d=0;d<a.length;d++){for(var c=0,l=0;l<a[d].pro.length;l++)c+=a[d].pro[l].price*a[d].pro[l].count;a[d].branchInfoId==n.branchInfoId&&c>=n.amountReached&&(a[d].couponList=a[d].couponList.concat(n))}if(-1==n.branchInfoId||-2==n.branchInfoId)for(var u=0;u<e.data.proPrice.length;u++)if(n.amountReached<=e.data.proPrice[u]){e.data.platformCouponList=e.data.platformCouponList.concat(n);break}}var p=e.data.tempTotalPrice,m="";if(a.length>0)for(var f=0;f<a.length;f++){var h=0,g=0;if(a[f].couponList.length>0){for(var I=0;I<a[f].couponList.length;I++){a[f].couponList[I].isSelected=!1;var b=a[f].couponList[I].discountAmount;b>g&&(h=I,g=b)}var y=a[f].couponList[h].memberActivityId.split(",");m+=y[0]+",",a[f].couponList[h].isSelected=!0,a[f].couponInfo=a[f].couponList[h].tipName,a[f].memberActivityId=y[0],a[f].couponPrice=a[f].couponList[h].discountAmount}else m+=",",a[f].couponPrice=0,a[f].memberActivityId="";a[f].couponPrice>0&&e.setData({isSelectBraCou:!0}),p-=a[f].couponPrice}if(!e.data.isSelectBraCou){for(var v=0,D=0,L=0;L<e.data.platformCouponList.length;L++)if(e.data.platformCouponList[L].isSelected=!1,e.data.platformCouponList[L].discountAmount>D)for(var w=0;w<e.data.proPrice.length;w++)v=L,D=e.data.platformCouponList[L].discountAmount;if(e.data.platformCouponList.length>0){if("-2"==e.data.platformCouponList[v].branchInfoId){var C=e.data.platformCouponList[v].memberActivityId.split(",");e.data.platformCouponList[v].memberActivityId=C[0]}m=e.data.platformCouponList[v].branchInfoId+e.data.platformCouponList[v].memberActivityId+",",e.data.platformCouponList[v].isSelected=!0,p-=e.data.platformCouponList[v].discountAmount,e.setData({platformCouponInfo:{tipName:e.data.platformCouponList[v].tipName,couponPrice:e.data.platformCouponList[v].discountAmount}})}}e.setData({totalPrice:parseFloat(p).toFixed(2),orderList:a,platformCouponList:e.data.platformCouponList,memberActivityId:m.substring(0,m.length-1)}),console.log(e.data.memberActivityId)}else e.setData({totalPrice:e.data.tempTotalPrice})},fail:function(){t.hint()}})},branchCoupontap:function(t){n=t.currentTarget.dataset.index,this.setData({coupontype:1,curBranchCouponIdx:n,hiddenCouponList:!1,branchCouponList:this.data.orderList[n].couponList})},closebranchCoupon:function(){this.setData({hiddenCouponList:!0})},selectCoupon:function(t){var a="";if(1==this.data.coupontype){for(var e=this.data.orderList[n],o=this.data.tempTotalPrice,r=0;r<e.couponList.length;r++)e.couponList[r].isSelected=!1;if(""===t.currentTarget.dataset.cidx)e.couponInfo="不使用优惠",e.couponPrice=0,e.memberActivityId="";else{var s=e.couponList[t.currentTarget.dataset.cidx].memberActivityId.split(",");e.couponList[t.currentTarget.dataset.cidx].isSelected=!0,e.couponInfo=e.couponList[t.currentTarget.dataset.cidx].tipName,e.couponPrice=e.couponList[t.currentTarget.dataset.cidx].discountAmount,e.memberActivityId=s[0]}this.data.orderList[n]=e,this.data.isSelectBraCou=!1;for(var i=0;i<this.data.orderList.length;i++)o-=this.data.orderList[i].couponPrice,this.data.orderList[i].couponPrice>0&&(this.data.isSelectBraCou=!0),a+=this.data.orderList[i].memberActivityId+",";if(!this.data.isSelectBraCou){for(var d=0,c=0,l=0;l<this.data.platformCouponList.length;l++){var u=this.data.platformCouponList[l];this.data.platformCouponList[l].isSelected=!1;var p=u.discountAmount;p>c&&(d=l,c=p)}this.data.platformCouponList.length>0?(a=this.data.platformCouponList[d].branchInfoId+this.data.platformCouponList[d].memberActivityId+",",this.data.platformCouponList[d].isSelected=!0,o-=this.data.platformCouponList[d].discountAmount,this.setData({platformCouponList:this.data.platformCouponList,platformCouponInfo:{tipName:this.data.platformCouponList[d].tipName,couponPrice:this.data.platformCouponList[d].discountAmount}})):a=","}this.setData({orderList:this.data.orderList,branchCouponList:this.data.orderList[n].couponList,totalPrice:o,isSelectBraCou:this.data.isSelectBraCou,memberActivityId:a.substring(0,a.length-1)})}else{for(var m=t.currentTarget.dataset.cidx,f=0;f<this.data.platformCouponList.length;f++)this.data.platformCouponList[f].isSelected=!1;if(""===m)this.setData({memberActivityId:"",platformCouponList:this.data.platformCouponList,totalPrice:this.data.tempTotalPrice,platformCouponInfo:{tipName:"不使用优惠",couponPrice:0,memberActivityId:""}});else{this.data.platformCouponList[m].isSelected=!0;var h=this.data.platformCouponList[m],g=parseFloat(this.data.tempTotalPrice)-parseFloat(h.discountAmount);console.log(h),this.setData({totalPrice:g.toFixed(2),platformCouponList:this.data.platformCouponList,memberActivityId:h.branchInfoId+h.memberActivityId,platformCouponInfo:{tipName:h.tipName,couponPrice:h.discountAmount}})}}this.setData({hiddenCouponList:!0}),console.log(this.data.memberActivityId)},platformCouTap:function(){this.data.isSelectBraCou?wx.showModal({title:"",content:"商家和平台优惠券不可同时用，请先取消商家优惠券"}):this.setData({coupontype:2,hiddenCouponList:!1})},selectBookingTime:function(){wx.navigateTo({url:"calendar/calendar"})},getTransportFee:function(){var e=this;if(!s&&""!=e.data.addressInfo.contactPerson){for(var o="",r="",i="",n=0;n<e.data.orderList.length;n++)for(var d=0;d<e.data.orderList[n].pro.length;d++)o+=e.data.orderList[n].pro[d].productId+"=",r+=e.data.orderList[n].pro[d].moduleId+"=",i+=e.data.orderList[n].pro[d].count+"=";o=o.substring(0,o.length-1),r=r.substring(0,r.length-1),i=i.substring(0,i.length-1),wx.request({url:t.globalData.comUrl+"tabs_culculateTransportFee.action",data:{appId:a.appId,productIds:o,cityId:e.data.addressInfo.city,modelIds:r,amounts:i},success:function(a){for(var o=t.getJsonData(a.data),r=[],i=0;i<o.data.length;i++)r[i]=o.data[i].code,e.data.transportFee[i]=parseFloat(o.data[i].totalTransportFee).toFixed(2),e.data.tempTotalPrice=parseFloat(e.data.tempTotalPrice)+parseFloat(e.data.transportFee[i]);"0"==o.isSuccess?e.setData({transportFee:e.data.transportFee,tempTotalPrice:parseFloat(e.data.tempTotalPrice).toFixed(2),isSupport:!1,failReason:r}):e.setData({transportFee:e.data.transportFee,tempTotalPrice:parseFloat(e.data.tempTotalPrice).toFixed(2),isSupport:!0,failReason:r}),"51"!=e.data.status&&"52"!=e.data.status&&e.getCouponInfo(e.data.orderList),s=!1,wx.hideLoading()},fail:function(){t.hint("获取运费失败"),wx.hideLoading()}})}},toAddress:function(){wx.navigateTo({url:"../address/address"})},wxPay:function(a){var e=this;1==a.currentTarget.dataset.type?e.setData({payType:4}):e.setData({payType:2}),e.data.addressInfo.contactPerson?r&&e.data.isSupport?(r=!1,this.submitOrder()):e.data.isSupport||t.hint("订单中有商品不支持配送"):t.hint("请填写收货地址")},offlinePay:function(){var a=this;a.setData({payType:3}),a.data.addressInfo.contactPerson?r&&a.data.isSupport?(r=!1,this.submitOrder()):a.data.isSupport||t.hint("订单中有商品不支持配送"):t.hint("请填写收货地址")},submitOrder:function(){var e=this;""!=e.data.addressInfo.contactPerson||"booking"==e.data.status?"51"==e.data.status||"52"==e.data.status?wx.request({url:t.globalData.comUrl+"activityProduct_checkActivityStatus.action",data:{appId:a.appId,productId:e.data.orderList[0].pro[0].productId,activityId:e.data.activityId},success:function(a){0==a.data.code?(r=!0,t.hint("活动已经结束")):2==a.data.code?(r=!0,t.hint("产品已经退出该活动")):e.startSubmitOrder()}}):"3"==e.data.status?wx.request({url:t.globalData.comUrl+"activityProduct_checkActivityStatus.action",data:{appId:a.appId,productId:e.data.orderList[0].pro[0].productId,activityId:e.data.activityId,memberId:t.getMemberId()},success:function(a){0==a.data.code?t.hint("活动已经结束"):2==a.data.code?t.hint("产品已经退出该活动"):e.startSubmitOrder()}}):e.startSubmitOrder():wx.showModal({title:"提示",content:"请填写收货地址",showCancel:!1})},startSubmitOrder:function(){var e=this;wx.showToast({title:"正在提交...",icon:"loading",duration:1e4,mask:!0});var s={},i=[];if("booking"==e.data.status)i=wx.getStorageSync("bookingData"+t.globalData.autoId);else if("51"==e.data.status||"52"==e.data.status||"3"==e.data.status||"6"==e.data.status)i=wx.getStorageSync("groupProData"+t.globalData.autoId);else{i=wx.getStorageSync("cartData"+t.globalData.autoId);for(var n=[],d=0;d<i.length;d++)i[d].isSelected&&n.push(i[d]);i=n}for(var c=function(t){for(var a,e=[],o={},r=0;null!=(a=t[r]);r++)o[a.productId]||(e.push(a.productId),o[a.productId]=!0);return e}(i),l=[],u=0;u<c.length;u++)for(var p=[],m={},f=0;f<i.length;f++)i[f].productId==c[u]&&(p.push(i[f]),m.productId=i[f].productId,m.productName=i[f].productName,m.pro=p,l[u]=m);for(var h="",g="",I="",b="",y="",v="",D="",L=0;L<l.length;L++){h+=l[L].productId+"=",g+=l[L].productName+",";for(var w=0;w<l[L].pro.length;w++)h+=l[L].pro[w].moduleId+",",I+=l[L].pro[w].productCode+",",v+=l[L].pro[w].count+",",y+=l[L].pro[w].price+",",b+=l[L].pro[w].modelName+",";h=h.substring(0,h.length-1)+";",v=v.substring(0,v.length-1),y=y.substring(0,y.length-1),b=b.substring(0,b.length-1),v+="=",y+="=",b+="="}for(var C=0;C<e.data.orderList.length;C++)D+=e.data.orderList[C].branchInfoId+",";s.productIds=h.substring(0,h.length-1),s.productNames=g.substring(0,g.length-1),s.productCodes=I.substring(0,I.length-1),s.amount=v.substring(0,v.length-1),s.prices=y.substring(0,y.length-1),s.modelName=b.substring(0,b.length-1),s.branchInfoIds=D.substring(0,D.length-1),s.businessId=c,o=wx.getStorageSync("memberId"+t.globalData.autoId),s.projectId=a.appId,s.memberId=o,e.data.addressInfo?(s.personName=e.data.addressInfo.contactPerson,s.personMobilePhone=e.data.addressInfo.mobilePhone,s.personAddress=e.data.addressInfo.proName+e.data.addressInfo.cityName+e.data.addressInfo.disName+e.data.addressInfo.address):(s.personName="暂无",s.personMobilePhone="暂无",s.personAddress="暂无"),(e.data.mtype=1)&&(s.days=e.data.totalDays),s.postCode=e.data.addressInfo.postCode,s.payType=e.data.payType,s.totalMoney=e.data.tempTotalPrice,s.transportCost=e.data.transportFee.join(","),s.memberActivityId=e.data.memberActivityId,s.remark=e.data.remark,s.invoiceTitle=e.data.bill,"6"==e.data.status&&(s.isDistribute="1"),"51"!=e.data.status&&"52"!=e.data.status||(s.groupOrderNo="51"==e.data.status?"0":e.data.orderList[0].groupOrderNo),e.setData({productNames:s.productNames,totalMoney:s.totalMoney,orderInfo:s}),console.log(s),wx.request({url:t.globalData.comUrl+"tabs_saveTSCBranchInfoOrderWithQuantity.action",data:s,success:function(a){var o=t.getJsonData(a.data);e.setData({myOrderInfo:o}),wx.showToast({title:"订单提交成功",icon:"success",duration:2e3,mask:!0,success:function(){if("booking"!=e.data.status&&"51"!=e.data.status&&"52"!=e.data.status&&"3"!=e.data.status&&"6"!=e.data.status){for(var a=wx.getStorageSync("cartData"+t.globalData.autoId),s=[],i=0;i<a.length;i++)a[i].isSelected||s.push(a[i]);wx.setStorageSync("cartData"+t.globalData.autoId,s);for(var n=wx.getStorageSync("cartDataList"+t.globalData.autoId),d=[],c=0;c<n.length;c++)if(!n[c].isSelected){for(var l=[],u=0;u<n[c].pro.length;u++)n[c].pro[u].isSelected||l.push(n[c].pro[u]);n[c].pro=l,d.push(n[c])}wx.setStorageSync("cartDataList"+t.globalData.autoId,d)}3==e.data.payType?(r=!0,wx.redirectTo({url:"../self/myOrder/myOrder"})):(r=!0,wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),"https://beta-mg.vzmapp.com/wc_mg/"==t.globalData.comUrl?e.payTest(o):4==e.data.payType?e.data.isWeb?e.onLinePay(o):e.pay(o):2==e.data.payType&&e.prePay())}})},fail:function(){r=!0,t.hint("订单提交失败")}})},payTest:function(t){wx.request({url:"https://beta-mg.vzmapp.com/WechatAlipay/PayNotifcationTest",data:{attach:t.orderNO+"_"+a.appId,total_fee:1,transaction_id:1,trade_type:"JSAPI"},success:function(t){wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){wx.redirectTo({url:"../self/myOrder/myOrder?index=1"})},2e3)}})},prePay:function(){var a=this;a.data.preMoney<a.data.totalMoney?wx.showToast({title:"余额不足！",icon:"none",duration:2e3,mask:!0}):(wx.showToast({title:"加载中...",icon:"loading",duration:1e4,mask:!0}),wx.request({url:t.globalData.paymentUrl+"/WechatAlipay/PrePayNotifcation",data:{memberId:t.getMemberId(),projectId:a.data.orderInfo.projectId,nonce_str:"lfksf"+Math.round(1e5*Math.random()),body:a.data.orderInfo.productName,attach:a.data.myOrderInfo.orderNO+"_"+a.data.orderInfo.projectId+"%2B",out_trade_no:a.data.myOrderInfo.orderNO+(new Date).valueOf(),total_fee:(100*a.data.totalMoney).toFixed(0),trade_type:"",device_info:"156151"},success:function(t){console.log(t.data),wx.hideToast(),"success"==t.data?wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}):wx.showModal({title:"支付失败",showCancel:!1,success:function(t){t.confirm&&a.onShow()}})}}))},pay:function(e){var o=this;wx.login({success:function(r){r.code?wx.request({url:t.globalData.paymentUrl+"/WechatAlipay/MiniPayService2?jsoncallback=?",data:{projectId:a.appId,nonce_str:"lfksf"+Math.round(1e5*Math.random()),body:o.data.productNames,attach:e.orderNO+"_"+a.appId,out_trade_no:e.orderNO+(new Date).valueOf(),total_fee:(100*o.data.totalPrice).toFixed(0),trade_type:"JSAPI",device_info:"888",code:r.code},success:function(a){if(wx.hideToast(),""!=a.data){var e=o.getJsonData(a.data);wx.requestPayment({timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:"prepay_id="+e.prepay_id,signType:"MD5",paySign:e.sign,success:function(a){"booking"==o.data.status?wx.request({url:t.globalData.comUrl+"tabs_saveFlexiForm",data:o.data.bookingInfo,success:function(a){1==o.data.mtype&&(wx.removeStorageSync("come\b\bDate"+t.globalData.autoId),wx.removeStorageSync("leaveDate"+t.globalData.autoId)),wx.showToast({title:"预约成功",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){wx.redirectTo({url:"../self/myOrder/myOrder"})},2e3)},fail:function(){t.hint("预约失败")}}):(wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){wx.redirectTo({url:"../self/myOrder/myOrder?index=1"})},2e3))},fail:function(t){wx.showModal({title:"支付失败",showCancel:!1,success:function(t){t.confirm&&wx.redirectTo({url:"../self/myOrder/myOrder"})}})}})}else wx.showModal({title:"支付失败",showCancel:!1,success:function(t){t.confirm&&wx.redirectTo({url:"../self/myOrder/myOrder"})}})}}):t.hint("获取用户登录态失败！"+r.errMsg)}})},getJsonData:function(t){return JSON.parse(t.substring(1,t.length-1))},bindDateChange:function(t){console.log("picker发送选择改变，携带值为",t.detail.value),this.setData({date:t.detail.value})},bindTimeChange:function(t){console.log("picker发送选择改变，携带值为",t.detail.value),this.setData({time:t.detail.value})},formSubmit:function(a){var e=this;console.log(a.detail.value);var o=/^1[3|4|5|8|7][0-9]\d{4,8}$/;if(1!=e.data.mtype){if(""==a.detail.value.date)return void t.hint("请选择预约日期!");if(""==a.detail.value.time)return void t.hint("请选择预约时间!")}if(""!=a.detail.value.name&&0!==a.detail.value.name.trim().length)if(""!=a.detail.value.phone)if(o.test(a.detail.value.phone)){e.setData({payType:4});var s="",i="";1==e.data.mtype?""==a.detail.value.remarks?(s="姓名,电话,入住日期,离店日期",i=a.detail.value.name+","+a.detail.value.phone+","+e.data.comeDateInfo.re+","+e.data.leaveDateInfo.re):(s="姓名,电话,入住日期,离店日期,留言",i=a.detail.value.name+","+a.detail.value.phone+","+e.data.comeDateInfo.re+","+e.data.leaveDateInfo.re+","+a.detail.value.remarks):""==a.detail.value.remarks?(s="姓名,电话,预约日期,预约时间",i=a.detail.value.name+","+a.detail.value.phone+","+a.detail.value.date+","+a.detail.value.time):(s="姓名,电话,预约日期,预约时间,留言",i=a.detail.value.name+","+a.detail.value.phone+","+a.detail.value.date+","+a.detail.value.time+","+a.detail.value.remarks);var n=e.data.orderList[0].pro[0],d={projectId:t.globalData.projectInfo.appId,customizeTabId:t.globalData.customizeTabId["Flexi-Form-Booking"],token:"html5",fieldKey:s,fieldValue:i,productName:n.productName+" "+n.modelName,branchName:e.data.orderList[0].branchName,branchId:e.data.orderList[0].branchInfoId,memberId:t.getMemberId()};this.setData({bookingInfo:d}),console.log(e.data.orderList),console.log(n),console.log(this.data.bookingInfo),r&&(r=!1,e.submitOrder())}else t.hint("请输入正确的电话号码");else t.hint("请输入电话号码!");else t.hint("预约人姓名不能为空!")},onLinePay:function(e){var o=this,r={myOrderInfo:e,projectInfo:a,productNames:o.data.productNames,totalPrice:o.data.totalPrice,paymentUrl:t.globalData.paymentUrl};window.localStorage.setItem("payInfos",JSON.stringify(r));var s=-1!=window.navigator.userAgent.toLowerCase().indexOf("micromessenger"),i=window.location.href.split("#")[0]+"paymament.html";s&&(i="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t.globalData.wxAppId+"&redirect_uri="+encodeURIComponent(i)+"&response_type=code&scope=snsapi_userinfo&state=12345#wechat_redirect"),window.location.href=i}}); 
 			}); 	require("pages/order/order.js");
 		__wxRoute = 'pages/address/address';__wxRouteBegin = true; 	define("pages/address/address.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t=!1,e="";Page({data:{styleConfig:a.globalData.styleConfig,addressList:[],provincArray:[],cityArray:[],areaArray:[],provincIndex:"",cityIndex:"",areaIndex:"",provincId:"",cityId:"",areaId:"",addressInfo:{},provinceChange:!1,cityChange:!1,isHidden:!0},onLoad:function(){this.getAddressList(),this.getProvince()},getAddressList:function(){var t=this;wx.request({url:a.globalData.comUrl+"tabs_getCustomerAddressList.action",data:{current:1,memberId:a.getMemberId()},success:function(e){console.log(e.data);var i=a.getJsonData(e.data);t.setData({addressList:i.pageList}),wx.hideLoading()}})},getAddressInfo:function(){this.setData({addressInfo:wx.getStorageSync("addressInfo"+a.globalData.autoId)});var t=this.data.addressInfo.indexList[0];this.setData({provincIndex:t,provincId:this.data.provincArray[t].provinceId}),this.getCity(this.data.provincId)},provinceChange:function(a){var t=this;t.setData({provincIndex:a.detail.value,provincId:t.data.provincArray[a.detail.value].provinceId,cityIndex:"",areaIndex:"",provinceChange:!0}),t.getCity(t.data.provincId)},cityChange:function(a){var t=this;t.setData({cityIndex:a.detail.value,cityId:t.data.cityArray[a.detail.value].cityId,areaIndex:"",cityChange:!0}),t.getArea(t.data.cityId)},areaChange:function(a){var t=this;this.setData({areaIndex:a.detail.value,areaId:t.data.areaArray[a.detail.value].districtId})},getProvince:function(){var t=this;wx.request({url:a.globalData.comUrl+"tabs_getProvinceList.action",success:function(e){t.setData({provincArray:a.getJsonData(e.data)});wx.getStorageSync("addressInfo"+a.globalData.autoId)},fail:function(){a.hint("获取省份失败！")}})},getCity:function(t){var e=this;wx.request({url:a.globalData.comUrl+"tabs_getCityByProvinceId.action",data:{provinceId:t},success:function(t){if(e.setData({cityArray:a.getJsonData(t.data)}),!e.data.provinceChange){var i=e.data.addressInfo.indexList[1];e.setData({cityIndex:i,cityId:e.data.cityArray[i].cityId}),e.getArea(e.data.cityId)}},fail:function(){a.hint("获取对应市区失败！")}})},getArea:function(t){var e=this;wx.request({url:a.globalData.comUrl+"tabs_getDistrictByCityId.action",data:{cityId:t},success:function(t){if(e.setData({areaArray:a.getJsonData(t.data)}),!e.data.cityChange){var i=e.data.addressInfo.indexList[2];e.setData({areaIndex:i,areaId:e.data.areaArray[i].districtId})}},fail:function(){a.hint("获取对应区域失败！")}})},addAddress:function(){this.setData({isHidden:!1,provincIndex:"",cityIndex:"",areaIndex:""})},editTap:function(a){t=!0,e=a.currentTarget.dataset.info.id,this.setData({isHidden:!1,addressInfo:{name:a.currentTarget.dataset.info.contactPerson,phone:a.currentTarget.dataset.info.mobilePhone,address:a.currentTarget.dataset.info.address},provincIndex:"",cityIndex:"",areaIndex:""})},deleteTap:function(t){var e=this;console.log(t.currentTarget.dataset.info),wx.showModal({content:"确定要删除该地址吗",success:function(i){i.confirm&&(wx.showLoading({title:""}),wx.request({url:a.globalData.comUrl+"tabs_deleteCustomerAddress.action",data:{id:t.currentTarget.dataset.info.id},success:function(a){e.getAddressList()}}))}})},closeBtn:function(){t=!1,this.setData({isHidden:!0})},setDefault:function(t){var e=this;wx.request({url:a.globalData.comUrl+"tabs_setDefaultCustomerAddress.action",data:{id:t.currentTarget.dataset.id,memberId:a.getMemberId()},success:function(t){console.log(t.data);a.getJsonData(t.data);e.getAddressList()}})},addressSubmit:function(i){var d=this,s=/^1[3|4|5|8|7][0-9]\d{4,8}$/;if(""!=i.detail.value.name)if(""!=i.detail.value.phone)if(s.test(i.detail.value.phone))if(""!=d.data.provincIndex)if(""!=d.data.cityIndex)if(""!=d.data.areaId)if(""!=i.detail.value.address){var n={address:i.detail.value.address,area:d.data.areaId,city:d.data.cityId,province:d.data.provincId,contactPerson:i.detail.value.name,memberId:a.getMemberId(),mobilePhone:i.detail.value.phone,isdefaults:0};t&&(n.id=e),wx.request({url:a.globalData.comUrl+"tabs_addCustomerAddress.action",data:n,success:function(a){t=!1,d.getAddressList(),d.setData({isHidden:!0})}})}else a.hint("请输入详细地址");else a.hint("请输入省市区");else a.hint("请输入省市区");else a.hint("请输入省市区");else a.hint("请输入正确的手机号码");else a.hint("请输入手机号码");else a.hint("收货人不能为空！")}}); 
 			}); 	require("pages/address/address.js");
 		__wxRoute = 'pages/login/login';__wxRouteBegin = true; 	define("pages/login/login.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",e="",o="";Page({data:{styleConfig:t.globalData.styleConfig},onLoad:function(a){o=t.globalData.projectInfo,wx.hideToast()},logintap:function(){if(""!=a)if(""!=e){var n=this;wx.request({url:t.globalData.comUrl+"tabs_memberLogin.action",data:{projectId:o.appId,userName:a,password:e},success:function(a){var e=t.getJsonData(a.data);wx.setStorageSync("scoreRule"+t.globalData.autoId,e.scoreRule),wx.setStorageSync("memberId"+t.globalData.autoId,e.id),wx.setStorageSync("merchantId"+t.globalData.autoId,e.merchantId),"0"==e.status?t.hint("账号或密码不正确"):(n.setData({memberId:e.id,userInfo:e}),wx.navigateBack({delta:1}))},fail:function(a){t.hint()}})}else t.hint("密码不能为空！");else t.hint("登录账号不能为空！")},forgetPwd:function(){wx.navigateTo({url:"forget/forget"})},register:function(){wx.navigateTo({url:"register/register"})},phoneInput:function(t){a=t.detail.value},pwdInput:function(t){e=t.detail.value}}); 
 			}); 	require("pages/login/login.js");
 		__wxRoute = 'pages/login/register/register';__wxRouteBegin = true; 	define("pages/login/register/register.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t="",e="",a="",i="",n="",s=getApp();Page({data:{styleConfig:s.globalData.styleConfig},phoneInput:function(e){t=e.detail.value},emailInput:function(t){e=t.detail.value},pwdInput:function(t){a=t.detail.value},repwdInput:function(t){i=t.detail.value},userInput:function(t){n=t.detail.value},register:function(){var o=/^1[3|4|5|8|7][0-9]\d{4,8}$/,l=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,r=/^(\w){6,15}$/,u=/^.{1,20}$/;if(""!=t)if(o.test(t))if(""!=e)if(l.test(e))if(""!=a)if(""!=i)if(r.test(a))if(a==i)if(""!=n)if(u.test(n)){var c=this;wx.request({url:s.globalData.comUrl+"tabs_memberRegistration.action",data:{appId:s.globalData.projectInfo.appId,mobilePhone:t,surname:n,email:e,password:a},success:function(t){var e=s.getJsonData(t.data);console.log(e),"0"==e.status?c.warn(e.reason):(wx.showToast({title:"注册成功",icon:"success",duration:2e3}),wx.setStorageSync("isLogin",!0),wx.setStorageSync("memberId"+s.globalData.autoId,e.memberId),setTimeout(function(){try{wx.navigateBack({delta:2})}catch(t){console.log(t),wx.switchTab({url:"/pages/index/index"})}},2e3))},fail:function(t){s.hint()}})}else this.warn("用户名不能超过20个字符");else this.warn("请输入用户名");else this.warn("两次输入密码不一致");else this.warn("密码需由6-15个字母、数字组成");else this.warn("请再次输入密码");else this.warn("请输入密码");else this.warn("邮箱格式有误");else this.warn("邮箱不能为空");else this.warn("请输入正确的手机号码");else this.warn("手机号不能为空")},warn:function(t){wx.showToast({title:t,image:"../../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/login/register/register.js");
 		__wxRoute = 'pages/login/forget/forget';__wxRouteBegin = true; 	define("pages/login/forget/forget.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="";Page({data:{styleConfig:t.globalData.styleConfig},sure:function(){var e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(""!=a)if(e.test(a)){var s=this;wx.request({url:t.globalData.comUrl+"tabs_memRetrievePwd.action",data:{appId:t.globalData.projectInfo.appId,email:a},method:"GET",success:function(a){var e=t.getJsonData(a.data);console.log(e),"0"==e.status?s.tips(e.reason):s.success("提交成功")},fail:function(a){t.hint()}})}else this.warn("邮箱格式有误");else this.warn("邮箱不能为空")},emailInput:function(t){a=t.detail.value},tips:function(t){wx.showToast({title:t,image:"../../../img/warn.png",duration:2e3})},success:function(t){wx.showToast({title:t,icon:"success",duration:2e3})},warn:function(t){wx.showToast({title:t,image:"../../../img/warn.png",duration:2e3})}}); 
 			}); 	require("pages/login/forget/forget.js");
 		__wxRoute = 'pages/publicity/publicity';__wxRouteBegin = true; 	define("pages/publicity/publicity.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{videoList:[]},onLoad:function(t){this.getVideoList(),wx.setNavigationBarTitle({title:"企业宣传"})},getVideoList:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getVideoGalleryList.action",data:{appId:t.globalData.projectInfo.appId,customizeTabId:t.globalData.customizeTabId.Video_Gallery,isNeedHttps:0},success:function(e){var i=t.getJsonData(e.data);a.setData({videoList:i})},fail:function(){}})}}); 
 			}); 	require("pages/publicity/publicity.js");
 		__wxRoute = 'pages/publicity/publicity-detail/publicity-detail';__wxRouteBegin = true; 	define("pages/publicity/publicity-detail/publicity-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Page({data:{video:"",details:"",netWorkType:!1},onLoad:function(e){var t=this;t.setData({video:e.video,details:e.briefDescription}),wx.getNetworkType({success:function(e){t.setData({netWorkType:e.networkType})}})},onShow:function(){}}); 
 			}); 	require("pages/publicity/publicity-detail/publicity-detail.js");
 		__wxRoute = 'pages/position/position';__wxRouteBegin = true; 	define("pages/position/position.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{cityList:[],initialList:["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z"],hotCityList:["北京"],curCity:"",winHeight:"",toView:""},onLoad:function(){var a=this;wx.getSystemInfo({success:function(t){a.setData({winHeight:t.windowHeight})}}),this.setData({curCity:t.globalData.city.cityName}),this.getHotCity(),this.getAllcity()},getHotCity:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_gethotCityList.action",success:function(i){var e=t.getJsonData(i.data);a.setData({hotCityList:e})}})},getAllcity:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getCityByPinyin.action",success:function(i){var e=t.getJsonData(i.data)[0],s=[];for(var c in e)s.push(e[c]);a.setData({cityList:s})}})},initialtap:function(t){this.setData({toView:t.currentTarget.dataset.init})},citytap:function(a){0==a.currentTarget.dataset.info?(t.globalData.city={cityName:"全国"},this.setData({curCity:"全国"})):(t.globalData.city=a.currentTarget.dataset.info,this.setData({curCity:a.currentTarget.dataset.info.cityName})),wx.navigateBack({beta:1})}}); 
 			}); 	require("pages/position/position.js");
 		__wxRoute = 'pages/about-us/about-us';__wxRouteBegin = true; 	define("pages/about-us/about-us.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.customizeTabId;Page({data:{styleConfig:t.globalData.styleConfig,longitude:"",latitude:"",markers:[{id:0,latitude:"",longitude:"",width:20,height:20}],auInfo:{},imageArr:[]},onLoad:function(){var i=this;wx.request({url:t.globalData.comUrl+"tabs_getAboutMerchant.action",data:{customizetabId:a["About-Merchant"]},success:function(a){var e=t.getJsonData(a.data);e.detailDescription=t.filterSpecialSymbol(e.detailDescription);for(var d=[e.pic1,e.pic2,e.pic3,e.pic4,e.pic5],o=[],n=0;n<d.length;n++)d[n]&&o.push(d[n]);i.setData({auInfo:e,longitude:e.gdLongitude,latitude:e.gdLatitude,imageArr:o,markers:[{id:0,latitude:e.gdLatitude,longitude:e.gdLongitude,width:20,height:30}]})},fail:function(){t.hint()}})},toPosition:function(){var t=this;wx.openLocation({latitude:Number(t.data.latitude),longitude:Number(t.data.longitude),name:t.data.auInfo.name,address:t.data.auInfo.address,scale:28})}}); 
 			}); 	require("pages/about-us/about-us.js");
 		__wxRoute = 'pages/join/join';__wxRouteBegin = true; 	define("pages/join/join.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=!0,t=getApp(),e="",n="";Page({data:{hiddenAgreement:!0,isRead:!1,price:0,branchInfo:{},agreementContent:""},onLoad:function(){var a=this;e=t.globalData.projectInfo,n=t.globalData.customizeTabId,a.getUserInfo(),wx.request({url:t.globalData.comUrl+"tabs_getZXAgreement.action",data:{customizeTabId:n.Member},success:function(e){var n=t.getJsonData(e.data);n.protocolContent=t.filterSpecialSymbol(n.protocolContent),a.setData({agreementContent:n.protocolContent})}})},formSubmit:function(i){if(this.data.price,a){a=!1;var o=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,r=/^(\w){6,15}$/;if(""==i.detail.value.branchName)return a=!0,void this.warn("请为您的店铺取一个名字!");if(""==i.detail.value.mainProject)return a=!0,void this.warn("请填入您的主营的项目!");if(""==i.detail.value.name)return a=!0,void this.warn("请填入您的姓名!");if(""==i.detail.value.phone)return a=!0,void this.warn("请输入您的联系方式!");if(""==i.detail.value.email)return a=!0,void this.warn("邮箱不能为空");if(!o.test(i.detail.value.email))return a=!0,void this.warn("邮箱格式有误");if(""==i.detail.value.pwd)return a=!0,void this.warn("请填写密码");if(!r.test(i.detail.value.pwd))return a=!0,void this.warn("密码需由6-15个字母、数字组成");if(!this.data.isRead)return a=!0,void this.warn("请先阅读入驻申请协议");wx.showToast({title:"正在提交...",icon:"loading",duration:1e4,mask:!0});var s={appId:e.appId,applyCustomizeTabId:n.LynxApplyFor_About_Merchant,customizetabId:n.LynxAbout_Merchant,memberId:t.getMemberId(),branchName:i.detail.value.branchName,mainProject:i.detail.value.mainProject,surname:i.detail.value.name,mobilePhone:i.detail.value.phone,email:i.detail.value.email,password:i.detail.value.pwd,shortDescription:i.detail.value.shortDescription},c=this;wx.request({url:t.globalData.comUrl+"member_branchApply.action",data:s,success:function(a){var e=t.getJsonData(a.data);1==e.status&&(0==e.price?wx.showToast({title:"提交成功",icon:"success",duration:2e3,success:function(){wx.navigateBack({delta:1})}}):(c.pay(e.price),c.setData({price:e.price})))},fail:function(){t.hint("提交失败"),wx.hideToast()},complete:function(){a=!0}})}},pay:function(a){var n=this;wx.login({success:function(i){i.code&&wx.request({url:t.globalData.paymentUrl+"/WechatAlipay/MiniPayService2?jsoncallback=?",data:{projectId:e.appId,nonce_str:"lfksf"+Math.round(1e5*Math.random()),memberId:t.getMemberId(),body:"入驻商家",attach:e.appId,out_trade_no:"",total_fee:(100*a).toFixed(0),trade_type:"JSAPI",device_info:"888",code:i.code},success:function(a){if(wx.hideToast(),""!=a.data){var t=n.getJsonData(a.data);wx.requestPayment({timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:"prepay_id="+t.prepay_id,signType:"MD5",paySign:t.sign,success:function(a){wx.showToast({title:"支付成功",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){wx.navigateBack({delta:1})},2e3)},fail:function(a){wx.showModal({title:"支付失败",showCancel:!1})}})}else wx.showModal({title:"支付失败",showCancel:!1})}})}})},getUserInfo:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getMember.action",data:{memberId:t.getMemberId(),customizetabId:n.LynxApplyFor_About_Merchant,checkBranch:1},success:function(e){var n=t.getJsonData(e.data);n.activated?wx.showModal({title:"提示",content:"商家入驻认证成功",showCancel:!1,success:function(a){a.confirm&&wx.navigateBack({delta:1})}}):(1==n.isApply&&wx.showModal({title:"提示",content:"正在申请中...",showCancel:!1,success:function(a){a.confirm&&wx.navigateBack({delta:1})}}),2==n.isApply&&(a.data.branchInfo.branchName=n.branchName,a.data.branchInfo.mainProject=n.mainProject,a.data.branchInfo.shortDescription=n.shortDescription,a.data.branchInfo.surname=n.surname,a.data.branchInfo.mobilePhone=n.mobilePhone,a.data.branchInfo.email=n.email,a.data.branchInfo.password=n.password,a.setData({branchInfo:a.data.branchInfo}),wx.showModal({title:"提示",content:"您已提交过申请，暂未支付",confirmText:"继续支付",cancelText:"重新申请",success:function(t){t.confirm&&a.pay(n.price)}})))},fail:function(){t.hint()}})},showAgreement:function(){this.setData({hiddenAgreement:!this.data.hiddenAgreement})},suretap:function(){this.setData({isRead:!0,hiddenAgreement:!0})},check:function(){this.setData({isRead:!this.data.isRead})},getJsonData:function(a){return JSON.parse(a.substring(1,a.length-1))},warn:function(a){wx.showModal({title:"提示",content:a,showCancel:!1})}}); 
 			}); 	require("pages/join/join.js");
 		__wxRoute = 'pages/group/group-detail/group-detail';__wxRouteBegin = true; 	define("pages/group/group-detail/group-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.customizeTabId,e=[],r=[],i="",o="",d="",c="";Page({data:{remainTime:"00:00:00",groupDetail:{},memberList:[],likeProductList:[],activityStatus:"",activityId:"",groupOrderNo:"",productId:"",isJoin:!1,showCurAttr:!0,showProAttr:!1,count:1,styleConfig:t.globalData.styleConfig,modelName:"",price:"",activityPrice:""},onLoad:function(a){t.loginVzSystem();this.setData({activityId:a.activityId,groupOrderNo:a.groupOrderNo,productId:a.productId}),this.getGroupDetail(),t.getMemberId()||t.loginVzSystem()},getLikeProduct:function(e){var r=this;wx.request({url:t.globalData.comUrl+"tabs_getLikeProductByPage.action",data:{customizeTabId:a.LynxProductList,bigCateGoryCode:e,status:2,actType:5,current:1},success:function(a){var e=t.getJsonData(a.data);console.log(e),r.setData({likeProductList:e.pageList})}})},getGroupDetail:function(){var a=this;wx.request({url:t.globalData.comUrl+"activityOrder_getGroupDetail.action",data:{activityId:a.data.activityId,appId:t.globalData.projectInfo.appId,groupOrderNo:a.data.groupOrderNo,productId:a.data.productId},success:function(e){for(var i=t.getJsonData(e.data),o=0;o<i.attributeKeyVOList.length;o++){r[o]=[];for(var d=0;d<i.attributeKeyVOList[o].valueList.length;d++)r[o][d]=!1}if(a.setData({price:i.productModelList[0].price,activityPrice:i.productModelList[0].activityPrice,active:r,stock:i.productModelList[0].stock}),"1"==i.activityStatus)var c=setInterval(function(){i.remainTime--,a.leftTimer(i.remainTime),i.remainTime<=0&&(clearInterval(c),a.getGroupDetail())},1e3);for(var n=0;n<i.memberList.length;n++)i.memberList[n].memberId==t.getMemberId()&&a.setData({receiver:i.memberList[n].receiver+" "+i.memberList[n].personMobilePhone,personAddress:i.memberList[n].personAddress,isJoin:!0});a.setData({groupDetail:i,proInfoDetail:i,memberList:i.memberList,activityStatus:i.activityStatus}),a.getLikeProduct(i.bigCateGoryCode)},fail:function(t){}})},toProDetail:function(t){wx.redirectTo({url:"../../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},leftTimer:function(t){var a=Math.floor(t/3600),e=Math.floor(t/60%60),r=Math.floor(t%60);a=this.checkTime(a),e=this.checkTime(e),r=this.checkTime(r),this.setData({remainTime:a+":"+e+":"+r})},checkTime:function(t){return t<10&&(t="0"+t),t},countAdd:function(){this.data.count++,this.setData({count:this.data.count})},countSubtract:function(){this.data.count>1&&(this.data.count--,this.setData({count:this.data.count}))},bindCountInput:function(t){this.setData({count:t.detail.value})},getModelInfo:function(t){var a=this;if(!r[t.currentTarget.dataset.index][t.currentTarget.dataset.attrindex]){for(var d=0;d<r[t.currentTarget.dataset.index].length;d++)e[t.currentTarget.dataset.index]=[],r[t.currentTarget.dataset.index][d]=!1;r[t.currentTarget.dataset.index][t.currentTarget.dataset.attrindex]=!t.currentTarget.dataset.status,e[t.currentTarget.dataset.index]=t.currentTarget.dataset.typeid,i=e.join(";"),""!=(o=a.getModuleId(i))&&a.setData({showCurAttr:!1}),a.setData({active:r})}},getModuleId:function(t){for(var a=this,e=t.split(";"),r=a.data.proInfoDetail.productModelList,i=e[1]+";"+e[0],n=0;n<r.length;n++)if(r[n].valueIds==t||r[n].valueIds==i){o=r[n].id,d=r[n].originalAttr,c=r[n].modelName,a.setData({stock:r[n].stock,price:r[n].price,activityPrice:r[n].activityPrice,originalPrice:r[n].originalprice,modelName:r[n].modelName}),a.data.proInfoDetail.productImageVOList.length>0&&a.setData({pic_url:a.data.proInfoDetail.productImageVOList[0].imageURL});break}return o},toggleProAttrFrame:function(){this.setData({showProAttr:!this.data.showProAttr,count:1})},changeProAttrFrame:function(){""!=o?(this.setData({showProAttr:!this.data.showProAttr}),this.addCart("joinGroup")):t.hint("请选择商品属性")},addCart:function(a){var e=this;if(e.data.stock<=0||e.data.count>e.data.stock)this.setData({showProAttr:!0}),t.hint("该商品库存不足");else{var r={productId:e.data.proInfoDetail.id,productName:e.data.proInfoDetail.productName,productCode:e.data.proInfoDetail.productCode,count:e.data.count,pic_url:e.data.pic_url,price:e.data.activityPrice,moduleId:o,proAttrName:d,modelName:e.data.modelName,branchInfoId:e.data.proInfoDetail.branchInfoId,branchName:e.data.proInfoDetail.branchName,isSelected:!0},i=[],c=[],n={};i.push(r),n.branchInfoId=r.branchInfoId,n.isSelected=!0,n.branchName=r.branchName,n.groupOrderNo=e.data.groupOrderNo,n.pro=i,c.push(n),wx.setStorageSync("groupProDataList"+t.globalData.autoId,c),wx.setStorageSync("groupProData"+t.globalData.autoId,i),t.getMemberId()?wx.navigateTo({url:"../../order/order?proPrice="+e.data.activityPrice*e.data.count+"&status="+a+"&activityId="+e.data.proInfoDetail.activityId}):wx.navigateTo({url:"../../login/login"})}},joinGroup:function(){this.setData({showProAttr:!0})},onShareAppMessage:function(t){var a=this;return"1"==a.data.activityStatus?{title:"",path:"pages/group/group-detail/group-detail?activityId="+a.data.activityId+"&groupOrderNo="+a.data.groupOrderNo+"&productId="+a.data.productId}:{title:"",path:"pages/product/pro-detail/pro-detail?productId="+a.data.groupDetail.id}}}); 
 			}); 	require("pages/group/group-detail/group-detail.js");
 		__wxRoute = 'pages/group/group-prolist/group-prolist';__wxRouteBegin = true; 	define("pages/group/group-prolist/group-prolist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",i=1,o=1;Page({data:{activityList:[],productList:[],activityInfo:{},navCurIdx:0,isEndLoading:!1,countDownData:{},isGroupNull:!1},onLoad:function(t){var a=this;this.getActivityList(0).then(function(t){a.getProductList(t)})},getActivityList:function(i){var o=this;return wx.showLoading({title:"加载中..."}),new Promise(function(e,n){wx.request({url:t.globalData.comUrl+"activityProduct_groupsList.action",data:{appId:t.globalData.projectInfo.appId},success:function(n){if(0==n.data.length||0==n.code)return wx.hideLoading(),o.setData({activityList:[],isGroupNull:!0}),!1;for(var r=0;r<n.data.length;r++){var c=n.data[r];n.data[r].begin=c.beginTime.substr(c.beginTime.length-8,5)}clearInterval(a);var s=n.data[i];wx.setStorageSync("groupRemark"+t.globalData.autoId,s.remark);var u=new Date(s.beginTime),d=new Date(s.nowTime),g=parseInt((u-d)/1e3);if(g>0)s.activityStart=!1,o.setData({activityInfo:s,countDownData:o.secondToTime(g)}),a=setInterval(function(){g--,o.setData({countDownData:o.secondToTime(g)}),s.activityTime<1&&(clearInterval(a),o.getActivityList(0).then(function(t){o.getProductList(t)}))},1e3);else{s.activityStart=!0;var l=s.activityTime;o.setData({activityInfo:s,countDownData:o.secondToTime(l)}),a=setInterval(function(){l--,o.setData({countDownData:o.secondToTime(l)}),l<1&&(clearInterval(a),o.setData({navCurIdx:0}),o.getActivityList(o.data.navCurIdx).then(function(t){o.getProductList(t)}))},1e3)}o.setData({activityList:n.data,isGroupNull:!1}),e(n.data[i].groupsId)}})})},secondToTime:function(t){var a=Math.floor(t/3600/24),i=Math.floor(t/3600%24),o=Math.floor(t/60%60),e=Math.floor(t%60);return i<10&&(i="0"+i),o<10&&(o="0"+o),e<10&&(e="0"+e),{day:a,hours:i,minute:o,second:e}},getProductList:function(a){var e=this;wx.request({url:t.globalData.comUrl+"activityProduct_findGroupsProduceList.action",data:{appId:t.globalData.projectInfo.appId,current:i,groupsId:a},success:function(t){wx.hideLoading(),o=t.data.pages;for(var a=0;a<t.data.pageList.length;a++){var i=t.data.pageList[a];t.data.pageList[a].percent=parseInt(i.saleCount/(i.saleCount+i.stock)*100)}e.setData({productList:e.data.productList.concat(t.data.pageList),isEndLoading:!0})}})},navtap:function(t){var a=this,o=t.currentTarget.dataset.index;i=1,a.setData({navCurIdx:o,isEndLoading:!1,productList:[]}),this.getActivityList(o).then(function(t){a.getProductList(t)})},toProdetail:function(t){wx.navigateTo({url:"../../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},toGroupIntroduce:function(){wx.navigateTo({url:"../group-introduce/group-introduce"})},onReachBottom:function(){i<o&&(i++,this.getProductList(this.data.activityInfo.groupsId))}}); 
 			}); 	require("pages/group/group-prolist/group-prolist.js");
 		__wxRoute = 'pages/group/my-group/my-group';__wxRouteBegin = true; 	define("pages/group/my-group/my-group.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),r=t.globalData.projectInfo,a=1,e=0;Page({data:{groupOrderList:[],navCurIdx:0,hasGroupOrder:!0},onLoad:function(t){this.getMyGroupOrderList()},onShow:function(){},getMyGroupOrderList:function(){var d=this,o=t.getMemberId();wx.request({url:t.globalData.comUrl+"activityOrder_getMyGroupOrderList.action",data:{appId:r.appId,current:a,memberId:o,activityStatus:d.data.navCurIdx},success:function(r){var a=t.getJsonData(r.data);e=a.pages,d.setData({groupOrderList:d.data.groupOrderList.concat(a.pageList)}),d.setData({hasGroupOrder:!!d.data.groupOrderList.length})}})},toGroupDetail:function(t){wx.navigateTo({url:"../group-detail/group-detail?activityId="+t.currentTarget.dataset.aid+"&groupOrderNo="+t.currentTarget.dataset.gno+"&productId="+t.currentTarget.dataset.pid})},toOderDetail:function(t){wx.navigateTo({url:"../../self/myOrder/myOrder-detail/myOrder-detail?id="+t.currentTarget.dataset.oid})},navtap:function(t){a=1,this.setData({groupOrderList:[],navCurIdx:t.currentTarget.dataset.idx}),this.getMyGroupOrderList()},onReachBottom:function(){a<e&&(a++,this.getMyGroupOrderList())}}); 
 			}); 	require("pages/group/my-group/my-group.js");
 		__wxRoute = 'pages/group/group-introduce/group-introduce';__wxRouteBegin = true; 	define("pages/group/group-introduce/group-introduce.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{detail:""},onLoad:function(t){var e=wx.getStorageSync("groupRemark"+a.globalData.autoId);e=a.filterSpecialSymbol(e),this.setData({detail:e})}}); 
 			}); 	require("pages/group/group-introduce/group-introduce.js");
 		__wxRoute = 'pages/query/query';__wxRouteBegin = true; 	define("pages/query/query.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";getApp();Page({data:{},onLoad:function(t){},onShow:function(){},onHide:function(){},formSubmit:function(t){""!=t.detail.value.branchName?""!=t.detail.value.mainProject?""!=t.detail.value.phone?""!=t.detail.value.textCon?""!=t.detail.value.email?(wx.showToast({title:"正在提交...",icon:"loading",duration:2e3,mask:!0}),setTimeout(function(){wx.showToast({title:"提交成功",icon:"success",duration:2e3,mask:!0,success:function(){wx.navigateBack({delta:1})}})},2e3)):this.warn("邮箱不能为空"):this.warn("请输入您的问题描述!"):this.warn("请输入您的联系方式!!"):this.warn("请输入您的年龄!"):this.warn("请输入您的名字!")},warn:function(t){wx.showModal({title:"提示",content:t,showCancel:!1})}}); 
 			}); 	require("pages/query/query.js");
 		__wxRoute = 'pages/seckill/seckill';__wxRouteBegin = true; 	define("pages/seckill/seckill.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="",i=1,e=1;Page({data:{activityList:[],productList:[],activityInfo:{},navCurIdx:0,isEndLoading:!1,countDownData:{}},onLoad:function(t){var a=this;this.getActivityList(0).then(function(t){a.getProductList(t)})},getActivityList:function(i){var e=this;return wx.showLoading({title:"加载中..."}),new Promise(function(o,n){wx.request({url:t.globalData.comUrl+"activityProduct_groupsList.action",data:{appId:t.globalData.projectInfo.appId,actType:"3"},success:function(n){if(0==n.data.length||0==n.code)return wx.hideLoading(),e.setData({activityList:[],isGroupNull:!0}),!1;for(var r=0;r<n.data.length;r++){var c=n.data[r];n.data[r].begin=c.beginTime.substr(c.beginTime.length-8,5)}clearInterval(a);var s=n.data[i];wx.setStorageSync("groupRemark"+t.globalData.autoId,s.remark);var u=new Date(s.beginTime),d=new Date(s.nowTime),g=parseInt((u-d)/1e3);if(g>0)s.activityStart=!1,e.setData({activityInfo:s,countDownData:e.secondToTime(g)}),a=setInterval(function(){g--,e.setData({countDownData:e.secondToTime(g)}),s.activityTime<1&&(clearInterval(a),e.getActivityList(0).then(function(t){e.getProductList(t)}))},1e3);else{s.activityStart=!0;var l=s.activityTime;e.setData({activityInfo:s,countDownData:e.secondToTime(l)}),a=setInterval(function(){l--,e.setData({countDownData:e.secondToTime(l)}),l<1&&(clearInterval(a),e.setData({navCurIdx:0}),e.getActivityList(e.data.navCurIdx).then(function(t){e.getProductList(t)}))},1e3)}e.setData({activityList:n.data,isGroupNull:!1}),o(n.data[i].groupsId)}})})},secondToTime:function(t){var a=Math.floor(t/3600/24),i=Math.floor(t/3600%24),e=Math.floor(t/60%60),o=Math.floor(t%60);return i<10&&(i="0"+i),e<10&&(e="0"+e),o<10&&(o="0"+o),{day:a,hours:i,minute:e,second:o}},getProductList:function(a){var o=this;wx.request({url:t.globalData.comUrl+"activityProduct_findGroupsProduceList.action",data:{appId:t.globalData.projectInfo.appId,current:i,groupsId:a},success:function(t){wx.hideLoading(),e=t.data.pages;for(var a=0;a<t.data.pageList.length;a++){var i=t.data.pageList[a];t.data.pageList[a].percent=parseInt(i.saleCount/(i.saleCount+i.stock)*100)}o.setData({productList:o.data.productList.concat(t.data.pageList),isEndLoading:!0})}})},navtap:function(t){var a=this,e=t.currentTarget.dataset.index;i=1,a.setData({navCurIdx:e,isEndLoading:!1,productList:[]}),this.getActivityList(e).then(function(t){a.getProductList(t)})},toProdetail:function(t){wx.navigateTo({url:"../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},toGroupIntroduce:function(){wx.navigateTo({url:"../group-introduce/group-introduce"})},onReachBottom:function(){i<e&&(i++,this.getProductList(this.data.activityInfo.groupsId))}}); 
 			}); 	require("pages/seckill/seckill.js");
 		__wxRoute = 'pages/order/calendar/calendar';__wxRouteBegin = true; 	define("pages/order/calendar/calendar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{week:["周日","周一","周二","周三","周四","周五","周六"],comeDateInfo:"",leaveDateInfo:"",isSelectEnd:!0,isSelectStart:!0,differDays:0},onShow:function(){this.dateData()},dateData:function(){for(var a=[],e=[],s=[],i=new Date,d=i.getFullYear(),h=(i.getDay(),[]),n=i.getMonth()+1,r=i.getDate(),o=0,f=[1,2,3,4,5,6,7,8,9,10,11,12],D=[],l=n;l<13;l++)D.push(l);for(var c=[d],v=0;v<150/365+2;v++)c.push(d+v+1);for(var I=function(t){return t%4==0&&t%100!=0||t%400==0},g=0;g<c.length;g++){var m=void 0;m=c[g]==d?D:f;for(var u=0;u<m.length;u++){s=[];var k=[31,28+I(c[g]),31,30,31,30,31,31,30,31,30,31],S=[];if(c[g]==d){for(var p=0;p<D.length;p++)S.push(k[m[p]-1]);k=S}else k=[31,28+I(c[g]),31,30,31,30,31,31,30,31,30,31];for(var w=0;w<k[u];w++){var y=void 0;if(!(++o<150))break;var b=w+1;if(b<10&&(b="0"+b),c[g]==d&&m[u]==n){if(w+1>=r&&(y={year:c[g],month:m[u],day:w+1,date:m[u]+"月"+b+"日",start:0,end:0,center:0,re:c[g]+"-"+m[u]+"-"+b},s.push(y),w+1==r)){var E=new Date(c[g],m[u]-1,w+1).getDay();h.push(E)}}else if(y={year:c[g],month:m[u],day:w+1,date:m[u]+"月"+b+"日",selected:0,re:c[g]+"-"+m[u]+"-"+b},s.push(y),0==w){var W=new Date(c[g],m[u]-1,w+1).getDay();h.push(W)}}a.push(s)}}for(var x=0;x<a.length;x++)0!=a[x].length&&e.push(a[x]);a[0].length>1?(a[0][0].start=1,a[0][1].end=1,this.data.comeDateInfo=a[0][0],this.data.leaveDateInfo=a[0][1],this.data.comeDateInfo.week=this.getWeek(this.data.comeDateInfo.re),this.data.leaveDateInfo.week=this.getWeek(this.data.leaveDateInfo.re),this.setData({comeDateInfo:this.data.comeDateInfo,leaveDateInfo:this.data.leaveDateInfo})):(a[0][0].start=1,a[1][0].end=1,this.data.comeDateInfo=a[0][0],this.data.leaveDateInfo=a[1][0],this.data.comeDateInfo.week=this.getWeek(this.data.comeDateInfo.re),this.data.leaveDateInfo.week=this.getWeek(this.data.leaveDateInfo.re),this.setData({comeDateInfo:this.data.comeDateInfo,leaveDateInfo:this.data.leaveDateInfo})),this.setData({date:e,weeks:h,differDays:t.DateDiff(this.data.leaveDateInfo.re,this.data.comeDateInfo.re)})},daytap:function(a){var e=a.currentTarget.dataset.midx,s=a.currentTarget.dataset.didx;if(this.data.isSelectEnd){this.clearCenterData();for(var i=0;i<this.data.date.length;i++){for(var d=this.data.date[i],h=!1,n=0;n<d.length;n++)if(d[n].start&&(this.data.date[i][n].start=0,this.data.date[e][s].start=1,this.setData({isSelectStart:!0}),this.data.comeDateInfo=this.data.date[e][s]),d[n].end){this.data.date[i][n].end=0,this.setData({isSelectEnd:!1}),h=!0;break}if(h)break}this.setData({date:this.data.date})}else if(this.data.isSelectStart&&!this.data.isSelectEnd){for(var r=0;r<this.data.date.length;r++){for(var o=this.data.date[r],f=!1,D=0;D<o.length;D++)if(o[D].start){r>e?(this.data.date[r][D].start=0,this.data.date[e][s].start=1,this.data.comeDateInfo=this.data.date[e][s]):r==e?D>s?(this.data.date[r][D].start=0,this.data.date[e][s].start=1,this.data.comeDateInfo=this.data.date[e][s]):D<s&&(this.data.date[e][s].end=1,this.data.leaveDateInfo=this.data.date[e][s],this.setData({isSelectEnd:!0})):(this.data.date[e][s].end=1,this.data.leaveDateInfo=this.data.date[e][s],this.setData({isSelectEnd:!0})),f=!0;break}if(f)break}if(this.data.isSelectEnd){for(var l=0;l<this.data.date.length;l++)for(var c=this.data.date[l],v=0;v<c.length;v++){var I=this.CompareDate(c[v].re,this.data.comeDateInfo.re),g=this.CompareDate(this.data.leaveDateInfo.re,c[v].re);I&&g&&(this.data.date[l][v].center=1)}this.data.comeDateInfo.week=this.getWeek(this.data.comeDateInfo.re),this.data.leaveDateInfo.week=this.getWeek(this.data.leaveDateInfo.re),this.setData({differDays:t.DateDiff(this.data.leaveDateInfo.re,this.data.comeDateInfo.re),comeDateInfo:this.data.comeDateInfo,leaveDateInfo:this.data.leaveDateInfo})}this.setData({date:this.data.date})}},sure:function(){this.data.isSelectStart&&this.data.isSelectEnd?(wx.setStorageSync("comeDate"+t.globalData.autoId,this.data.comeDateInfo),wx.setStorageSync("leaveDate"+t.globalData.autoId,this.data.leaveDateInfo),wx.navigateBack({beta:1})):t.hint("请选择退房日期")},clearCenterData:function(){for(var t=0;t<this.data.date.length;t++)for(var a=this.data.date[t],e=0;e<a.length;e++)this.data.date[t][e].center=0;this.setData({date:this.data.date})},CompareDate:function(t,a){t=t.replace(/-/g,"/"),a=a.replace(/-/g,"/");var e=new Date(t),s=new Date(a);return e.getTime()>s.getTime()},getWeek:function(t){var a,e=t.split("-");return a=new Date(e[0],parseInt(e[1]-1),e[2]),"星期"+"日一二三四五六".charAt(a.getDay())}}); 
 			}); 	require("pages/order/calendar/calendar.js");
 		__wxRoute = 'pages/distribute/distribute';__wxRouteBegin = true; 	define("pages/distribute/distribute.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a="";Page({data:{iconPath:"",nickName:"",styleConfig:t.globalData.styleConfig,detail:"",hideLogin:!1,disType:0,mobilePhone:"",check:!1,amount:0,QRCodeImage:"",hideQRCode:!0,isLoading:!0,activated:"",operationType:""},onLoad:function(e){a=t.globalData.customizeTabId,this.getUserInfo(),t.globalData.wxUserInfo&&t.globalData.wxUserInfo.avatarUrl?this.setData({iconPath:t.globalData.wxUserInfo.avatarUrl,nickName:t.globalData.wxUserInfo.nickName}):this.setData({iconPath:"../../img/head.png"}),this.checkDistribuction();var i=wx.getStorageSync("mobilePhone"+t.globalData.autoId);i&&this.setData({mobilePhone:i})},onShow:function(){this.getDistributeDetail()},getUserInfo:function(){var e=this;wx.request({url:t.globalData.comUrl+"tabs_getMember.action",data:{memberId:t.getMemberId(),customizetabId:a.LynxApplyFor_About_Merchant,checkBranch:1},success:function(a){var i=t.getJsonData(a.data);e.setData({disType:i.type,mobilePhone:i.mobilePhone,activated:i.activated,hideLogin:!("3"!=i.type||!i.activated)})},fail:function(){t.hint()}})},getDistributeDetail:function(){var a=this;wx.request({url:t.globalData.comUrl+"dis_distributeCentreInit",data:{memberId:t.getMemberId()},success:function(t){a.setData({detail:t.data.content,amount:t.data.amount})},fail:function(){t.hint()}})},checkDistribuction:function(){var a=this;wx.request({url:t.globalData.comUrl+"dis_checkDistribuction.action",data:{appId:t.globalData.projectInfo.appId,memberId:t.getMemberId()},success:function(e){var i=t.getJsonData(e.data);a.setData({check:i.check,amount:i.amount,activityDistribution:i.activityDistribution,isLoading:!1,operationType:i.activityDistribution.operationType})},fail:function(){t.hint(),a.setData({isLoading:!1})}})},toApplyCash:function(){wx.navigateTo({url:"applycash/applycash"})},getPhoneNumber:function(a){var e=this;wx.login({success:function(i){wx.request({url:t.globalData.paymentUrl+"/WechatAlipay/GetOpenId",data:{projectId:t.globalData.projectInfo.appId,code:i.code,iv:a.detail.iv,encryptedData:a.detail.encryptedData},success:function(a){if(a.data.length>0){var i=t.getJsonData(a.data);e.setData({mobilePhone:i.mobilePhone}),wx.setStorageSync("mobilePhone"+t.globalData.autoId,a.data.mobilePhone),e.apply()}},fail:function(t){}})}})},apply:function(){var a=this;a.data.check||a.data.amount>0&&wx.showModal({title:"提示",content:"需购物满"+a.data.amount+"元才可以申请分销",confirmText:"去购物",success:function(t){t.confirm&&wx.switchTab({url:"../product/product"})}}),wx.request({url:t.globalData.comUrl+"member_distributorApply.action",data:{appId:t.globalData.projectInfo.appId,memberId:t.getMemberId(),mobilePhone:a.data.mobilePhone},success:function(e){console.log(e.data);var i=t.getJsonData(e.data);1==a.data.operationType?wx.showToast({title:"提交成功",icon:"success",success:function(){setTimeout(function(){wx.navigateBack({beta:1})},2e3)}}):2==a.data.operationType?1==i.status&&(wx.showToast({title:"申请成功",icon:"success"}),a.setData({hideLogin:!0}),a.getDistributeDetail()):1==i.status?(wx.showToast({title:"申请成功",icon:"success"}),a.setData({hideLogin:!0}),a.getDistributeDetail()):wx.showModal({title:"提示",content:"需要购买"+a.data.activityDistribution.amount+"元钱才能成为分销商",showCancel:!1})}})},ruletap:function(){wx.navigateTo({url:"distribute-rule/distribute-rule"})},toDistributeFee:function(){wx.navigateTo({url:"distribute-fee/distribute-fee"})},toDistributionOrder:function(){wx.navigateTo({url:"distribute-order/distribute-order"})},toWithdrawList:function(){wx.navigateTo({url:"withdraw-list/withdraw-list"})},toDistributePro:function(){wx.navigateTo({url:"../distribute/distribute-product/distribute-product"})},toQRCode:function(){wx.navigateTo({url:"distribute-qrcode/distribute-qrcode"})}}); 
 			}); 	require("pages/distribute/distribute.js");
 		__wxRoute = 'pages/distribute/applycash/applycash';__wxRouteBegin = true; 	define("pages/distribute/applycash/applycash.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{hideAccountList:!0,accountList:[],defaultAccount:"",mayMoney:"",limit:"",withdrawMoney:""},onLoad:function(t){},onShow:function(){this.setData({hideAccountList:!0}),this.getAccountList()},getAccountList:function(){var a=this;wx.request({url:t.globalData.comUrl+"dis_getApplyCashPageData",data:{memberId:t.getMemberId()},success:function(t){console.log(t.data);var i=t.data.content.applyCashAccountList,n=[];a.setData({defaultAccount:""});for(var e=0;e<i.length;e++){var c=i[e];c.omitAccount=c.account.substr(0,4)+"*****"+c.account.substr(c.account.length-3,4),c.isDefault&&a.setData({defaultAccount:c}),n.push(c)}!a.data.defaultAccount&&i.length>0&&a.setData({defaultAccount:i[0]}),a.setData({accountList:n,mayMoney:t.data.content.mayMoney,limit:t.data.content.limit})}})},showAccount:function(){this.setData({hideAccountList:!1})},cancel:function(){this.setData({hideAccountList:!0})},addAccount:function(){wx.navigateTo({url:"../account-setting/account-setting"})},selectAccount:function(t){var a=t.currentTarget.dataset.idx;this.setData({defaultAccount:this.data.accountList[a],hideAccountList:!0})},bindMoneyInput:function(t){this.setData({withdrawMoney:t.detail.value})},applyCash:function(){if(""!=this.data.withdrawMoney){if(this.data.withdrawMoney>this.data.limit.moneyMaximum)return t.hint("最多提现"+this.data.limit.moneyMaximum+"元"),void this.setData({withdrawMoney:this.data.limit.moneyMaximum});if(this.data.withdrawMoney<this.data.limit.moneyMinimum&&this.data.withdrawMoney)return t.hint("最少提现"+this.data.limit.moneyMinimum+"元"),void this.setData({withdrawMoney:this.data.limit.moneyMinimum});if(this.data.withdrawMoney>this.data.mayMoney)t.hint("输入金额超过了可提现金额！");else if(this.data.defaultAccount){var a=this;wx.request({url:t.globalData.comUrl+"dis_applyCash",data:{money:a.data.withdrawMoney,accountId:a.data.defaultAccount.id,memberId:t.getMemberId(),projectId:t.globalData.projectInfo.appId},success:function(t){console.log(t.data),"1"==t.data.code?wx.showModal({title:"提示",content:"提交成功，我们将在五个工作日内处理",showCancel:!1,success:function(t){wx.navigateBack({beta:1})}}):wx.showModal({title:t.data.msg,showCancel:!1})}})}else this.setData({hideAccountList:!1})}else t.hint("请输入提现金额")},editAccount:function(t){},deleteAccount:function(a){var i=this,n=a.currentTarget.dataset.id;wx.showModal({title:"提示",content:"确定删除吗？",success:function(a){a.confirm&&wx.request({url:t.globalData.comUrl+"dis_delApplyCashAccount",data:{accountId:n},success:function(t){i.getAccountList()}})}})}}); 
 			}); 	require("pages/distribute/applycash/applycash.js");
 		__wxRoute = 'pages/distribute/distribute-qrcode/distribute-qrcode';__wxRouteBegin = true; 	define("pages/distribute/distribute-qrcode/distribute-qrcode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp();Page({data:{QRCodeImage:"",hideBox:!0},onLoad:function(t){var o=this;e.loginVzSystem().then(function(){o.getQRCode()})},getQRCode:function(){var t=this;wx.request({url:e.globalData.paymentUrl+"/WechatAlipay/getWXAcode",data:{memberId:e.getMemberId(),page:"pages/index/index",projectId:e.globalData.projectInfo.appId,width:"200px",scene:e.getMemberId()},success:function(e){console.log(e.data),t.setData({QRCodeImage:e.data.content.miniQRCode})},fail:function(){e.hint()}})},showBox:function(){this.setData({hideBox:!this.data.hideBox})},previewImage:function(e){var t=this;this.setData({hideBox:!this.data.hideBox}),wx.previewImage({urls:[t.data.QRCodeImage]})},saveImgToPhotosAlbumTap:function(){this.setData({hideBox:!this.data.hideBox});var t=this;wx.downloadFile({url:t.data.QRCodeImage,success:function(t){console.log(t),wx.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){e.hint("下载成功")},fail:function(e){console.log(e),console.log("fail")}})},fail:function(){console.log("fail")}})},onShareAppMessage:function(t){return"button"===t.from&&console.log(t.target),{title:"推广二维码",path:"pages/distribute/distribute-qrcode/distribute-qrcode?parentId="+e.getMemberId()}}}); 
 			}); 	require("pages/distribute/distribute-qrcode/distribute-qrcode.js");
 		__wxRoute = 'pages/distribute/account-setting/account-setting';__wxRouteBegin = true; 	define("pages/distribute/account-setting/account-setting.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{accountType:[]},onLoad:function(a){},onShow:function(){var t=wx.getStorageSync("accountType"+a.globalData.autoId);t&&this.setData({accountType:t})},accountType:function(){wx.navigateTo({url:"../account-select/account-select"})},formSubmit:function(t){var e=this;"支付宝"==e.data.accountType.bankName&&(t.detail.value.bankInfo="null");var n=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;e.data.accountType.id?""==t.detail.value.bankInfo&&"支付宝"!=e.data.accountType.bankName?a.hint("请输入您的开户行"):""==t.detail.value.name?a.hint("请输入您的真实姓名"):n.test(t.detail.value.card)?""==t.detail.value.account?a.hint("请输入您的账号"):wx.request({url:a.globalData.comUrl+"dis_saveApplyCashAccount",data:{bankId:e.data.accountType.id,applyCashName:t.detail.value.name,idCard:t.detail.value.card,account:t.detail.value.account,memberId:a.getMemberId(),bankInfo:t.detail.value.bankInfo},success:function(t){console.log(t.data),1==t.data.code?(wx.showToast({title:"提交成功",icon:"success",duration:2e3}),wx.removeStorageSync("accountType"+a.globalData.autoId),setTimeout(function(){wx.navigateBack({beta:1})},2e3)):wx.showToast({title:"提交失败",icon:"none",duration:2e3})}}):a.hint("身份证号填写有误"):a.hint("请选择银行")}}); 
 			}); 	require("pages/distribute/account-setting/account-setting.js");
 		__wxRoute = 'pages/distribute/withdraw-list/withdraw-list';__wxRouteBegin = true; 	define("pages/distribute/withdraw-list/withdraw-list.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=1,e=1,i=!1;Page({data:{curIdx:1,distributorIncome:"",withdrawList:[],wdListNull:!1,hideBottom:!0},onLoad:function(t){a=1,this.getWithdrawList()},onShow:function(){},getTotalCommission:function(){var a=this;wx.request({url:t.globalData.comUrl+"tabs_getDistributorIncome",data:{memberId:t.getMemberId()},success:function(t){a.setData({distributorIncome:t.data.content.distributorIncome})}})},getWithdrawList:function(){if(!i){var s=this;wx.request({url:t.globalData.comUrl+"tabs_getApplyCashList",data:{projectId:t.globalData.projectInfo.appId,memberId:t.getMemberId(),status:s.data.curIdx,current:a},success:function(t){var a=t.data.content.applyCashList;e=t.data.content.pages;for(var r=0;r<a.length;r++)a[r].date=a[r].createDate.substr(0,10),a[r].time=a[r].createDate.substr(11,8),a[r].account=a[r].account.substring(0,4)+"******"+a[r].account.substr(a[r].account.length-4);s.setData({withdrawList:s.data.withdrawList.concat(t.data.content.applyCashList)}),s.setData({wdListNull:0==s.data.withdrawList.length}),i=!1}})}},toWithdrawDetail:function(t){wx.navigateTo({url:"withdraw-detail/withdraw-detail?id="+t.currentTarget.dataset.id})},navtap:function(t){a=1,this.setData({withdrawList:[],curIdx:t.currentTarget.dataset.idx,hideBottom:!0}),this.getWithdrawList()},onReachBottom:function(){a<e?(i||a++,this.getWithdrawList()):a>1&&a>=e&&this.setData({hideBottom:!1})}}); 
 			}); 	require("pages/distribute/withdraw-list/withdraw-list.js");
 		__wxRoute = 'pages/distribute/withdraw-list/withdraw-detail/withdraw-detail';__wxRouteBegin = true; 	define("pages/distribute/withdraw-list/withdraw-detail/withdraw-detail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{applyCash:{},statusStr:"",disposeDate:""},onLoad:function(a){this.getDetail(a.id)},getDetail:function(t){var s=this;wx.request({url:a.globalData.comUrl+"dis_getApplyCash",data:{id:t},success:function(a){var t="",e="";switch(a.data.content.applyCash.status){case 1:t="待审核";break;case 2:t="待打款",e="审核时间："+a.data.content.applyCash.disposeDate;break;case 3:t="已打款",e="打款时间："+a.data.content.applyCash.disposeDate;break;case 4:t="驳回",e="驳回时间："+a.data.content.applyCash.disposeDate}s.setData({applyCash:a.data.content.applyCash,statusStr:t,disposeDate:e})}})}}); 
 			}); 	require("pages/distribute/withdraw-list/withdraw-detail/withdraw-detail.js");
 		__wxRoute = 'pages/distribute/account-select/account-select';__wxRouteBegin = true; 	define("pages/distribute/account-select/account-select.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp();Page({data:{bankList:[],searchBankList:[],hidden:!0},onLoad:function(t){var n=this;wx.request({url:a.globalData.comUrl+"dis_getBankList",success:function(a){n.setData({bankList:a.data.content})}})},bindInput:function(a){var t=a.detail.value,n=[];if(t.length>0){for(var i=0;i<this.data.bankList.length;i++){var e=this.data.bankList[i];-1!=e.bankName.search(t)&&n.push(e)}this.setData({searchBankList:n,hidden:!1})}},radioChange:function(t){console.log(t);for(var n=0;n<this.data.bankList.length;n++){var i=this.data.bankList[n];if(i.id==t.detail.value){wx.setStorageSync("accountType"+a.globalData.autoId,i);break}}wx.navigateBack({beta:1})},onShow:function(){}}); 
 			}); 	require("pages/distribute/account-select/account-select.js");
 		__wxRoute = 'pages/distribute/distribute-order/distribute-order';__wxRouteBegin = true; 	define("pages/distribute/distribute-order/distribute-order.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e="",a="",r=1,i=1,s=!1;Page({data:{curIdx:"0",orderList:[],inCome:"",noOrder:!1,hideBottom:!0},onLoad:function(){this.getOrderList("","")},getDistributorIncome:function(){var e=this;wx.request({url:t.globalData.comUrl+"dis_getDistributorIncome",data:{memberId:t.getMemberId()},success:function(t){e.setData({inCome:t.data.content.distributorIncome})}})},getOrderList:function(e,a){if(!s){var o=this;wx.request({url:t.globalData.comUrl+"dis_getDistributionAppOrderByPage.action",data:{appId:t.globalData.projectInfo.appId,current:r,parentMemberId:t.getMemberId(),payStatus:e,status:a},success:function(e){var a=t.getJsonData(e.data);i=a.pages;for(var r=0;r<a.pageList.length;r++)a.pageList[r].fee=(a.pageList[r].totalMoney-a.pageList[r].totalLinePrice).toFixed(2);o.setData({orderList:o.data.orderList.concat(a.pageList)}),o.setData({noOrder:0==o.data.orderList.length}),s=!1}})}},navtap:function(t){var i=t.currentTarget.dataset.idx;r=1,this.setData({curIdx:t.currentTarget.dataset.idx,orderList:[]}),0==i?(e="",a=""):1==i?(e=0,a=1):2==i?(e=1,a=1):3==i&&(e=1,a=4),this.getOrderList(e,a)},onReachBottom:function(){r<i?(s||r++,this.getOrderList(e,a)):r>1&&r>=i&&this.setData({hideBottom:!1})}}); 
 			}); 	require("pages/distribute/distribute-order/distribute-order.js");
 		__wxRoute = 'pages/distribute/distribute-rule/distribute-rule';__wxRouteBegin = true; 	define("pages/distribute/distribute-rule/distribute-rule.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp();Page({data:{content:"",ruleNull:!1},onLoad:function(){var a=this;wx.request({url:t.globalData.comUrl+"dis_getRecruitionByAppId.action",data:{appId:t.globalData.projectInfo.appId},success:function(e){var o=t.getJsonData(e.data);console.log(o),wx.setNavigationBarTitle({title:o.title}),a.setData({content:o.description,ruleNull:""==o.description})}})}}); 
 			}); 	require("pages/distribute/distribute-rule/distribute-rule.js");
 		__wxRoute = 'pages/distribute/distribute-product/distribute-product';__wxRouteBegin = true; 	define("pages/distribute/distribute-product/distribute-product.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),o=1,a=1;Page({data:{productList:[]},onLoad:function(){},onShow:function(){o=1,this.getDistributeProduct()},getDistributeProduct:function(){var i=this;wx.request({url:t.globalData.comUrl+"activityProduct_findGroupsProduceList.action",data:{appId:t.globalData.projectInfo.appId,groupsId:"distribution",current:o},success:function(t){var o=t.data;a=o.pages,i.setData({productList:i.data.productList.concat(o.pageList)})}})},toProductDetail:function(t){wx.navigateTo({url:"../../product/pro-detail/pro-detail?productId="+t.currentTarget.dataset.pid})},onReachBottom:function(){o<a&&(o++,this.getDistributeProduct())}}); 
 			}); 	require("pages/distribute/distribute-product/distribute-product.js");
 		__wxRoute = 'pages/distribute/distribute-fee/distribute-fee';__wxRouteBegin = true; 	define("pages/distribute/distribute-fee/distribute-fee.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=require("../../../utils/wxcharts.js"),e=null;Page({data:{timeList:[],moneyList:[],showComboBox:!1,searchTime:"theweek",searchTxt:"本周",detailList:[],inCome:""},onLoad:function(){this.getSaleRecord(),this.getDistributorIncome()},drawChart:function(){var t=320;try{t=wx.getSystemInfoSync().windowWidth}catch(t){console.error("getSystemInfoSync failed!")}var o=this.createSimulationData();e=new a({canvasId:"lineCanvas",type:"line",categories:o.categories,animation:!0,series:[{name:"",data:o.data,format:function(t,a){return t.toFixed(2)+"万"}}],xAxis:{disableGrid:!0},yAxis:{title:"佣金收入明细 (元)",format:function(t){return t.toFixed(2)},min:0},width:t,height:200,dataLabel:!1,dataPointShape:!0,extra:{lineStyle:"curve"}})},getSaleRecord:function(){var a=this;wx.request({url:t.globalData.comUrl+"dis_getSaleRecord.action",data:{appId:t.globalData.projectInfo.appId,current:1,parentMemberId:t.getMemberId(),searchTime:a.data.searchTime},success:function(e){var o=t.getJsonData(e.data),s=[],i=[];o.dataList=o.dataList.reverse();for(var r=0;r<o.dataList.length;r++)s.push(o.dataList[r].orderTime),i.push(o.dataList[r].lineMoney);a.setData({timeList:s,moneyList:i,detailList:o.dataList2}),a.drawChart()}})},getDistributorIncome:function(){var a=this;wx.request({url:t.globalData.comUrl+"dis_getDistributorIncome",data:{memberId:t.getMemberId()},success:function(t){a.setData({inCome:t.data.content.distributorIncome})}})},touchHandler:function(t){console.log(e.getCurrentDataIndex(t)),e.showToolTip(t,{format:function(t,a){return a+" "+t.name+":"+t.data}})},createSimulationData:function(){for(var t=this,a=[],e=[],o=0;o<60;o++)a.push("2016-"+(o+1)),e.push(10*Math.random()+16);return{categories:t.data.timeList,data:t.data.moneyList}},updateData:function(){var t=this.createSimulationData(),a=[{name:"",data:t.data,format:function(t,a){return t.toFixed(2)+"万"}}];e.updateData({categories:t.categories,series:a})},isShowComoBox:function(){this.setData({showComboBox:!this.data.showComboBox})},selectSearchType:function(t){var a=t.currentTarget.dataset.time;switch(a){case"1days":this.setData({searchTime:a,searchTxt:"最近1天",showComboBox:!this.data.showComboBox}),this.getSaleRecord();break;case"3days":this.setData({searchTime:a,searchTxt:"最近3天",showComboBox:!this.data.showComboBox}),this.getSaleRecord();break;case"theweek":this.setData({searchTime:a,searchTxt:"本周",showComboBox:!this.data.showComboBox}),this.getSaleRecord();break;case"themonth":this.setData({searchTime:a,searchTxt:"本月",showComboBox:!this.data.showComboBox}),this.getSaleRecord();break;case"thequarter":this.setData({searchTime:a,searchTxt:"本自然季度",showComboBox:!this.data.showComboBox}),this.getSaleRecord();break;case"":this.setData({showComboBox:!this.data.showComboBox})}},toWithdrawList:function(){wx.navigateTo({url:"../withdraw-list/withdraw-list"})}}); 
 			}); 	require("pages/distribute/distribute-fee/distribute-fee.js");
 	