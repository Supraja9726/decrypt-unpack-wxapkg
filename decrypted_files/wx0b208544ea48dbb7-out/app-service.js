	var __wxAppData = {}; 	var __wxRoute; 	var __wxRouteBegin; 	var __wxAppCode__ = {};	var global = {};	var __wxAppCurrentFile__; 	var Component = Component || function(){};	var definePlugin = definePlugin || function(){};	var requirePlugin = requirePlugin || function(){};	var Behavior = Behavior || function(){};
	
	define("pages/mymoney/mymoney.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Page({data:{},onLoad:function(n){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 
		define("utils/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";module.exports={isEmptyObject:function(r){for(var t in r)return!1;return!0}}; 
 			}); 
		define("utils/wxRequest.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function e(e,a,t,o){wx.request({url:e,method:"GET",data:a,header:{Accept:"application/json"},success:function(e){wx.hideLoading(),t(e)},error:function(){wx.hideLoading(),wx.showToast({title:"数据加载失败",duration:"2000",mask:!0}),o()}})}var a=getApp(),t=a.globalData.config.base,o=(a.globalData.config.appid,a.globalData.config.appsecret);module.exports={wxPost:function(e,a,t,o){wx.request({url:e,method:"POST",data:a,header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},success:function(e){t(e)},error:function(){o()}})},wxGet:e,getOpenId:function(){var n=a.globalData.appid;a.globalData.appsecret;return new Promise(function(a,c){wx.login({success:function(i){var p=i.code;e(t+"/base/get_openid?appid="+n+"&appsecret="+o+"&code="+p,a,c)}})})}}; 
 			}); 
		define("wxParse/html2json.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function e(e){for(var t={},r=e.split(","),s=0;s<r.length;s++)t[r[s]]=!0;return t}function t(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<.*!doctype.*\>\n/,"").replace(/<.*!DOCTYPE.*\>\n/,"")}function r(e){var t=[];if(0==a.length||!n)return(d={}).node="text",d.text=e,s=[d];e=e.replace(/\[([^\[\]]+)\]/g,":$1:");for(var r=new RegExp("[:]"),s=e.split(r),i=0;i<s.length;i++){var l=s[i],d={};n[l]?(d.node="element",d.tag="emoji",d.text=n[l],d.baseSrc=o):(d.node="text",d.text=l),t.push(d)}return t}var s="https",a="",o="",n={},i=require("./wxDiscode.js"),l=require("./htmlparser.js"),d=(e("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),e("br,a,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video")),c=e("abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),u=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),e("wxxxcode-style,script,style,view,scroll-view,block");module.exports={html2json:function(e,a){e=t(e),e=i.strDiscode(e);var o=[],n={node:a,nodes:[],images:[],imageUrls:[]};return l(e,{start:function(e,t,r){var l={node:"element",tag:e};if(d[e]?l.tagType="block":c[e]?l.tagType="inline":u[e]&&(l.tagType="closeSelf"),0!==t.length&&(l.attr=t.reduce(function(e,t){var r=t.name,s=t.value;return"class"==r&&(console.dir(s),l.classStr=s),"style"==r&&(console.dir(s),l.styleStr=s),s.match(/ /)&&(s=s.split(" ")),e[r]?Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]:e[r]=s,e},{})),"img"===l.tag){l.imgIndex=n.images.length;var p=l.attr.src;p=i.urlToHttpUrl(p,s),l.attr.src=p,l.from=a,n.images.push(l),n.imageUrls.push(p)}if("font"===l.tag){var m=["x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large"],f={color:"color",face:"font-family",size:"font-size"};l.attr.style||(l.attr.style=[]),l.styleStr||(l.styleStr="");for(var h in f)if(l.attr[h]){var g="size"===h?m[l.attr[h]-1]:l.attr[h];l.attr.style.push(f[h]),l.attr.style.push(g),l.styleStr+=f[h]+": "+g+";"}}if("source"===l.tag&&(n.source=l.attr.src),r){var v=o[0]||n;void 0===v.nodes&&(v.nodes=[]),v.nodes.push(l)}else o.unshift(l)},end:function(e){var t=o.shift();if(t.tag!==e&&console.error("invalid state: mismatch end tag"),"video"===t.tag&&n.source&&(t.attr.src=n.source,delete result.source),0===o.length)n.nodes.push(t);else{var r=o[0];void 0===r.nodes&&(r.nodes=[]),r.nodes.push(t)}},chars:function(e){var t={node:"text",text:e,textArray:r(e)};if(0===o.length)n.nodes.push(t);else{var s=o[0];void 0===s.nodes&&(s.nodes=[]),s.nodes.push(t)}},comment:function(e){}}),n},emojisInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",r=arguments[2];a=e,o=t,n=r}}; 
 			}); 
		define("wxParse/htmlparser.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function e(e){for(var t={},r=e.split(","),s=0;s<r.length;s++)t[r[s]]=!0;return t}var t=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([-A-Za-z0-9_]+)[^>]*>/,s=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,a=e("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),n=e("a,address,code,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),i=e("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),o=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),c=e("wxxxcode-style,script,style,view,scroll-view,block");module.exports=function(e,d){function f(e,t){if(t)for(t=t.toLowerCase(),r=b.length-1;r>=0&&b[r]!=t;r--);else var r=0;if(r>=0){for(var s=b.length-1;s>=r;s--)d.end&&d.end(b[s]);b.length=r}}var p,u,h,b=[],m=e;for(b.last=function(){return this[this.length-1]};e;){if(u=!0,b.last()&&c[b.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+b.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),d.chars&&d.chars(t),""}),f(0,b.last());else if(0==e.indexOf("\x3c!--")?(p=e.indexOf("--\x3e"))>=0&&(d.comment&&d.comment(e.substring(4,p)),e=e.substring(p+3),u=!1):0==e.indexOf("</")?(h=e.match(r))&&(e=e.substring(h[0].length),h[0].replace(r,f),u=!1):0==e.indexOf("<")&&(h=e.match(t))&&(e=e.substring(h[0].length),h[0].replace(t,function(e,t,r,c){if(t=t.toLowerCase(),n[t])for(;b.last()&&i[b.last()];)f(0,b.last());if(o[t]&&b.last()==t&&f(0,t),(c=a[t]||!!c)||b.push(t),d.start){var p=[];r.replace(s,function(e,t){var r=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[t]?t:"";p.push({name:t,value:r,escaped:r.replace(/(^|[^\\])"/g,'$1\\"')})}),d.start&&d.start(t,p,c)}}),u=!1),u){p=e.indexOf("<");for(var g="";0===p;)g+="<",p=(e=e.substring(1)).indexOf("<");g+=p<0?e:e.substring(0,p),e=p<0?"":e.substring(p),d.chars&&d.chars(g)}if(e==m)throw"Parse Error: "+e;m=e}f()}; 
 			}); 
		define("wxParse/showdown.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function e(e){var r={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix identation in es6 strings",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(r));var t={};for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n].defaultValue);return t}function r(e,r){var t=r?"Error in "+r+" extension->":"Error in unnamed extension",a={valid:!0,error:""};s.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var i=t+" sub-extension "+o+": ",l=e[o];if("object"!==(void 0===l?"undefined":n(l)))return a.valid=!1,a.error=i+"must be an object, but "+(void 0===l?"undefined":n(l))+" given",a;if(!s.helper.isString(l.type))return a.valid=!1,a.error=i+'property "type" must be a string, but '+n(l.type)+" given",a;var c=l.type=l.type.toLowerCase();if("language"===c&&(c=l.type="lang"),"html"===c&&(c=l.type="output"),"lang"!==c&&"output"!==c&&"listener"!==c)return a.valid=!1,a.error=i+"type "+c+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',a;if("listener"===c){if(s.helper.isUndefined(l.listeners))return a.valid=!1,a.error=i+'. Extensions of type "listener" must have a property called "listeners"',a}else if(s.helper.isUndefined(l.filter)&&s.helper.isUndefined(l.regex))return a.valid=!1,a.error=i+c+' extensions must define either a "regex" property or a "filter" method',a;if(l.listeners){if("object"!==n(l.listeners))return a.valid=!1,a.error=i+'"listeners" property must be an object but '+n(l.listeners)+" given",a;for(var u in l.listeners)if(l.listeners.hasOwnProperty(u)&&"function"!=typeof l.listeners[u])return a.valid=!1,a.error=i+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+u+" must be a function but "+n(l.listeners[u])+" given",a}if(l.filter){if("function"!=typeof l.filter)return a.valid=!1,a.error=i+'"filter" must be a function, but '+n(l.filter)+" given",a}else if(l.regex){if(s.helper.isString(l.regex)&&(l.regex=new RegExp(l.regex,"g")),!l.regex instanceof RegExp)return a.valid=!1,a.error=i+'"regex" property must either be a string or a RegExp object, but '+n(l.regex)+" given",a;if(s.helper.isUndefined(l.replace))return a.valid=!1,a.error=i+'"regex" extensions must implement a replace string or function',a}}return a}function t(e,r){return"~E"+r.charCodeAt(0)+"E"}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s={},a={},o={},i=e(!0),l={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:e(!0)};s.helper={},s.extensions={},s.setOption=function(e,r){return i[e]=r,this},s.getOption=function(e){return i[e]},s.getOptions=function(){return i},s.resetOptions=function(){i=e(!0)},s.setFlavor=function(e){if(l.hasOwnProperty(e)){var r=l[e];for(var t in r)r.hasOwnProperty(t)&&(i[t]=r[t])}},s.getDefaultOptions=function(r){return e(r)},s.subParser=function(e,r){if(s.helper.isString(e)){if(void 0===r){if(a.hasOwnProperty(e))return a[e];throw Error("SubParser named "+e+" not registered!")}a[e]=r}},s.extension=function(e,t){if(!s.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=s.helper.stdExtName(e),s.helper.isUndefined(t)){if(!o.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return o[e]}"function"==typeof t&&(t=t()),s.helper.isArray(t)||(t=[t]);var n=r(t,e);if(!n.valid)throw Error(n.error);o[e]=t},s.getAllExtensions=function(){return o},s.removeExtension=function(e){delete o[e]},s.resetExtensions=function(){o={}},s.validateExtension=function(e){var t=r(e,null);return!!t.valid||(console.warn(t.error),!1)},s.hasOwnProperty("helper")||(s.helper={}),s.helper.isString=function(e){return"string"==typeof e||e instanceof String},s.helper.isFunction=function(e){var r={};return e&&"[object Function]"===r.toString.call(e)},s.helper.forEach=function(e,r){if("function"==typeof e.forEach)e.forEach(r);else for(var t=0;t<e.length;t++)r(e[t],t,e)},s.helper.isArray=function(e){return e.constructor===Array},s.helper.isUndefined=function(e){return void 0===e},s.helper.stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()},s.helper.escapeCharactersCallback=t,s.helper.escapeCharacters=function(e,r,n){var s="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(s="\\\\"+s);var a=new RegExp(s,"g");return e=e.replace(a,t)};var c=function(e,r,t,n){var s,a,o,i,l,c=n||"",u=c.indexOf("g")>-1,p=new RegExp(r+"|"+t,"g"+c.replace(/g/g,"")),h=new RegExp(r,c.replace(/g/g,"")),d=[];do{for(s=0;o=p.exec(e);)if(h.test(o[0]))s++||(i=(a=p.lastIndex)-o[0].length);else if(s&&!--s){l=o.index+o[0].length;var f={left:{start:i,end:a},match:{start:a,end:o.index},right:{start:o.index,end:l},wholeMatch:{start:i,end:l}};if(d.push(f),!u)return d}}while(s&&(p.lastIndex=a));return d};s.helper.matchRecursiveRegExp=function(e,r,t,n){for(var s=c(e,r,t,n),a=[],o=0;o<s.length;++o)a.push([e.slice(s[o].wholeMatch.start,s[o].wholeMatch.end),e.slice(s[o].match.start,s[o].match.end),e.slice(s[o].left.start,s[o].left.end),e.slice(s[o].right.start,s[o].right.end)]);return a},s.helper.replaceRecursiveRegExp=function(e,r,t,n,a){if(!s.helper.isFunction(r)){var o=r;r=function(){return o}}var i=c(e,t,n,a),l=e,u=i.length;if(u>0){var p=[];0!==i[0].wholeMatch.start&&p.push(e.slice(0,i[0].wholeMatch.start));for(var h=0;h<u;++h)p.push(r(e.slice(i[h].wholeMatch.start,i[h].wholeMatch.end),e.slice(i[h].match.start,i[h].match.end),e.slice(i[h].left.start,i[h].left.end),e.slice(i[h].right.start,i[h].right.end))),h<u-1&&p.push(e.slice(i[h].wholeMatch.end,i[h+1].wholeMatch.start));i[u-1].wholeMatch.end<e.length&&p.push(e.slice(i[u-1].wholeMatch.end)),l=p.join("")}return l},s.helper.isUndefined(console)&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),s.Converter=function(e){function t(e,t){if(t=t||null,s.helper.isString(e)){if(e=s.helper.stdExtName(e),t=e,s.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void a(s.extensions[e],e);if(s.helper.isUndefined(o[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=o[e]}"function"==typeof e&&(e=e()),s.helper.isArray(e)||(e=[e]);var n=r(e,t);if(!n.valid)throw Error(n.error);for(var i=0;i<e.length;++i){switch(e[i].type){case"lang":h.push(e[i]);break;case"output":d.push(e[i])}if(e[i].hasOwnProperty(f))for(var l in e[i].listeners)e[i].listeners.hasOwnProperty(l)&&c(l,e[i].listeners[l])}}function a(e,t){"function"==typeof e&&(e=e(new s.Converter)),s.helper.isArray(e)||(e=[e]);var n=r(e,t);if(!n.valid)throw Error(n.error);for(var a=0;a<e.length;++a)switch(e[a].type){case"lang":h.push(e[a]);break;case"output":d.push(e[a]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function c(e,r){if(!s.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+(void 0===e?"undefined":n(e))+" given");if("function"!=typeof r)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+(void 0===r?"undefined":n(r))+" given");f.hasOwnProperty(e)||(f[e]=[]),f[e].push(r)}function u(e){var r=e.match(/^\s*/)[0].length,t=new RegExp("^\\s{0,"+r+"}","gm");return e.replace(t,"")}var p={},h=[],d=[],f={};!function(){e=e||{};for(var r in i)i.hasOwnProperty(r)&&(p[r]=i[r]);if("object"!==(void 0===e?"undefined":n(e)))throw Error("Converter expects the passed parameter to be an object, but "+(void 0===e?"undefined":n(e))+" was passed instead.");for(var a in e)e.hasOwnProperty(a)&&(p[a]=e[a]);p.extensions&&s.helper.forEach(p.extensions,t)}(),this._dispatch=function(e,r,t,n){if(f.hasOwnProperty(e))for(var s=0;s<f[e].length;++s){var a=f[e][s](e,r,this,t,n);a&&void 0!==a&&(r=a)}return r},this.listen=function(e,r){return c(e,r),this},this.makeHtml=function(e){if(!e)return e;var r={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:h,outputModifiers:d,converter:this,ghCodeBlocks:[]};return e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),p.smartIndentationFix&&(e=u(e)),e=e,e=s.subParser("detab")(e,p,r),e=s.subParser("stripBlankLines")(e,p,r),s.helper.forEach(h,function(t){e=s.subParser("runExtension")(t,e,p,r)}),e=s.subParser("hashPreCodeTags")(e,p,r),e=s.subParser("githubCodeBlocks")(e,p,r),e=s.subParser("hashHTMLBlocks")(e,p,r),e=s.subParser("hashHTMLSpans")(e,p,r),e=s.subParser("stripLinkDefinitions")(e,p,r),e=s.subParser("blockGamut")(e,p,r),e=s.subParser("unhashHTMLSpans")(e,p,r),e=s.subParser("unescapeSpecialChars")(e,p,r),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),s.helper.forEach(d,function(t){e=s.subParser("runExtension")(t,e,p,r)}),e},this.setOption=function(e,r){p[e]=r},this.getOption=function(e){return p[e]},this.getOptions=function(){return p},this.addExtension=function(e,r){t(e,r=r||null)},this.useExtension=function(e){t(e)},this.setFlavor=function(e){if(l.hasOwnProperty(e)){var r=l[e];for(var t in r)r.hasOwnProperty(t)&&(p[t]=r[t])}},this.removeExtension=function(e){s.helper.isArray(e)||(e=[e]);for(var r=0;r<e.length;++r){for(var t=e[r],n=0;n<h.length;++n)h[n]===t&&h[n].splice(n,1);for(;0<d.length;++n)d[0]===t&&d[0].splice(n,1)}},this.getAllExtensions=function(){return{language:h,output:d}}},s.subParser("anchors",function(e,r,t){var n=function(e,r,n,a,o,i,l,c){s.helper.isUndefined(c)&&(c=""),e=r;var u=n,p=a.toLowerCase(),h=o,d=c;if(!h)if(p||(p=u.toLowerCase().replace(/ ?\n/g," ")),h="#"+p,s.helper.isUndefined(t.gUrls[p])){if(!(e.search(/\(\s*\)$/m)>-1))return e;h=""}else h=t.gUrls[p],s.helper.isUndefined(t.gTitles[p])||(d=t.gTitles[p]);var f='<a href="'+(h=s.helper.escapeCharacters(h,"*_",!1))+'"';return""!==d&&null!==d&&(d=d.replace(/"/g,"&quot;"),f+=' title="'+(d=s.helper.escapeCharacters(d,"*_",!1))+'"'),f+=">"+u+"</a>"};return e=(e=t.converter._dispatch("anchors.before",e,r,t)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,n),e=e.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,n),e=e.replace(/(\[([^\[\]]+)])()()()()()/g,n),e=t.converter._dispatch("anchors.after",e,r,t)}),s.subParser("autoLinks",function(e,r,t){function n(e,r){var t=r;return/^www\./i.test(r)&&(r=r.replace(/^www\./i,"http://www.")),'<a href="'+r+'">'+t+"</a>"}function a(e,r){var t=s.subParser("unescapeSpecialChars")(r);return s.subParser("encodeEmailAddress")(t)}var o=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,i=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,l=/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,c=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return e=(e=t.converter._dispatch("autoLinks.before",e,r,t)).replace(i,n),e=e.replace(c,a),r.simplifiedAutoLink&&(e=(e=e.replace(o,n)).replace(l,a)),e=t.converter._dispatch("autoLinks.after",e,r,t)}),s.subParser("blockGamut",function(e,r,t){e=t.converter._dispatch("blockGamut.before",e,r,t),e=s.subParser("blockQuotes")(e,r,t),e=s.subParser("headers")(e,r,t);var n=s.subParser("hashBlock")("<hr />",r,t);return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,n),e=s.subParser("lists")(e,r,t),e=s.subParser("codeBlocks")(e,r,t),e=s.subParser("tables")(e,r,t),e=s.subParser("hashHTMLBlocks")(e,r,t),e=s.subParser("paragraphs")(e,r,t),e=t.converter._dispatch("blockGamut.after",e,r,t)}),s.subParser("blockQuotes",function(e,r,t){return e=t.converter._dispatch("blockQuotes.before",e,r,t),e=e.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,n){var a=n;return a=a.replace(/^[ \t]*>[ \t]?/gm,"~0"),a=a.replace(/~0/g,""),a=a.replace(/^[ \t]+$/gm,""),a=s.subParser("githubCodeBlocks")(a,r,t),a=s.subParser("blockGamut")(a,r,t),a=a.replace(/(^|\n)/g,"$1  "),a=a.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var t=r;return t=t.replace(/^  /gm,"~0"),t=t.replace(/~0/g,"")}),s.subParser("hashBlock")("<blockquote>\n"+a+"\n</blockquote>",r,t)}),e=t.converter._dispatch("blockQuotes.after",e,r,t)}),s.subParser("codeBlocks",function(e,r,t){e=t.converter._dispatch("codeBlocks.before",e,r,t);var n=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return e=(e+="~0").replace(n,function(e,n,a){var o=n,i=a,l="\n";return o=s.subParser("outdent")(o),o=s.subParser("encodeCode")(o),o=s.subParser("detab")(o),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),r.omitExtraWLInCodeBlocks&&(l=""),o="<pre><code>"+o+l+"</code></pre>",s.subParser("hashBlock")(o,r,t)+i}),e=e.replace(/~0/,""),e=t.converter._dispatch("codeBlocks.after",e,r,t)}),s.subParser("codeSpans",function(e,r,t){return void 0===(e=t.converter._dispatch("codeSpans.before",e,r,t))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,t,n){var a=n;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=s.subParser("encodeCode")(a),r+"<code>"+a+"</code>"}),e=t.converter._dispatch("codeSpans.after",e,r,t)}),s.subParser("detab",function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r){for(var t=r,n=4-t.length%4,s=0;s<n;s++)t+=" ";return t}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")}),s.subParser("encodeAmpsAndAngles",function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),s.subParser("encodeBackslashEscapes",function(e){return e=e.replace(/\\(\\)/g,s.helper.escapeCharactersCallback),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,s.helper.escapeCharactersCallback)}),s.subParser("encodeCode",function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=s.helper.escapeCharacters(e,"*_{}[]\\",!1)}),s.subParser("encodeEmailAddress",function(e){var r=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"===e)e=r[Math.floor(2*Math.random())](e);else if(":"!==e){var t=Math.random();e=t>.9?r[2](e):t>.45?r[1](e):r[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')}),s.subParser("escapeSpecialCharsWithinTagAttributes",function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=s.helper.escapeCharacters(r,"\\`*_",!1)})}),s.subParser("githubCodeBlocks",function(e,r,t){return r.ghCodeBlocks?(e=t.converter._dispatch("githubCodeBlocks.before",e,r,t),e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,n,a){var o=r.omitExtraWLInCodeBlocks?"":"\n";return a=s.subParser("encodeCode")(a),a=s.subParser("detab")(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),a="<pre><code"+(n?' class="'+n+" language-"+n+'"':"")+">"+a+o+"</code></pre>",a=s.subParser("hashBlock")(a,r,t),"\n\n~G"+(t.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"}),e=e.replace(/~0/,""),t.converter._dispatch("githubCodeBlocks.after",e,r,t)):e}),s.subParser("hashBlock",function(e,r,t){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(t.gHtmlBlocks.push(e)-1)+"K\n\n"}),s.subParser("hashElement",function(e,r,t){return function(e,r){var n=r;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(t.gHtmlBlocks.push(n)-1)+"K\n\n"}}),s.subParser("hashHTMLBlocks",function(e,r,t){for(var n=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],a=0;a<n.length;++a)e=s.helper.replaceRecursiveRegExp(e,function(e,r,n,s){var a=e;return-1!==n.search(/\bmarkdown\b/)&&(a=n+t.converter.makeHtml(r)+s),"\n\n~K"+(t.gHtmlBlocks.push(a)-1)+"K\n\n"},"^(?: |\\t){0,3}<"+n[a]+"\\b[^>]*>","</"+n[a]+">","gim");return e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(e,r,t)),e=e.replace(/(<!--[\s\S]*?-->)/g,s.subParser("hashElement")(e,r,t)),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(e,r,t))}),s.subParser("hashHTMLSpans",function(e,r,t){for(var n=s.helper.matchRecursiveRegExp(e,"<code\\b[^>]*>","</code>","gi"),a=0;a<n.length;++a)e=e.replace(n[a][0],"~L"+(t.gHtmlSpans.push(n[a][0])-1)+"L");return e}),s.subParser("unhashHTMLSpans",function(e,r,t){for(var n=0;n<t.gHtmlSpans.length;++n)e=e.replace("~L"+n+"L",t.gHtmlSpans[n]);return e}),s.subParser("hashPreCodeTags",function(e,r,t){return e=s.helper.replaceRecursiveRegExp(e,function(e,r,n,a){var o=n+s.subParser("encodeCode")(r)+a;return"\n\n~G"+(t.ghCodeBlocks.push({text:e,codeblock:o})-1)+"G\n\n"},"^(?: |\\t){0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^(?: |\\t){0,3}</code>\\s*</pre>","gim")}),s.subParser("headers",function(e,r,t){function n(e){var r,n=e.replace(/[^\w]/g,"").toLowerCase();return t.hashLinkCounts[n]?r=n+"-"+t.hashLinkCounts[n]++:(r=n,t.hashLinkCounts[n]=1),!0===a&&(a="section"),s.helper.isString(a)?a+r:r}e=t.converter._dispatch("headers.before",e,r,t);var a=r.prefixHeaderId,o=isNaN(parseInt(r.headerLevelStart))?1:parseInt(r.headerLevelStart),i=r.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,l=r.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return e=e.replace(i,function(e,a){var i=s.subParser("spanGamut")(a,r,t),l=r.noHeaderId?"":' id="'+n(a)+'"',c=o,u="<h"+c+l+">"+i+"</h"+c+">";return s.subParser("hashBlock")(u,r,t)}),e=e.replace(l,function(e,a){var i=s.subParser("spanGamut")(a,r,t),l=r.noHeaderId?"":' id="'+n(a)+'"',c=o+1,u="<h"+c+l+">"+i+"</h"+c+">";return s.subParser("hashBlock")(u,r,t)}),e=e.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(e,a,i){var l=s.subParser("spanGamut")(i,r,t),c=r.noHeaderId?"":' id="'+n(i)+'"',u=o-1+a.length,p="<h"+u+c+">"+l+"</h"+u+">";return s.subParser("hashBlock")(p,r,t)}),e=t.converter._dispatch("headers.after",e,r,t)}),s.subParser("images",function(e,r,t){function n(e,r,n,a,o,i,l,c){var u=t.gUrls,p=t.gTitles,h=t.gDimensions;if(n=n.toLowerCase(),c||(c=""),""===a||null===a){if(""!==n&&null!==n||(n=r.toLowerCase().replace(/ ?\n/g," ")),a="#"+n,s.helper.isUndefined(u[n]))return e;a=u[n],s.helper.isUndefined(p[n])||(c=p[n]),s.helper.isUndefined(h[n])||(o=h[n].width,i=h[n].height)}r=r.replace(/"/g,"&quot;"),r=s.helper.escapeCharacters(r,"*_",!1);var d='<img src="'+(a=s.helper.escapeCharacters(a,"*_",!1))+'" alt="'+r+'"';return c&&(c=c.replace(/"/g,"&quot;"),d+=' title="'+(c=s.helper.escapeCharacters(c,"*_",!1))+'"'),o&&i&&(d+=' width="'+(o="*"===o?"auto":o)+'"',d+=' height="'+(i="*"===i?"auto":i)+'"'),d+=" />"}var a=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,o=/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g;return e=(e=t.converter._dispatch("images.before",e,r,t)).replace(o,n),e=e.replace(a,n),e=t.converter._dispatch("images.after",e,r,t)}),s.subParser("italicsAndBold",function(e,r,t){return e=t.converter._dispatch("italicsAndBold.before",e,r,t),e=r.literalMidWordUnderscores?(e=(e=(e=e.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>")).replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>")).replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>")).replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"):(e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),e=t.converter._dispatch("italicsAndBold.after",e,r,t)}),s.subParser("lists",function(e,r,t){function n(e,n){t.gListLevel++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var a=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,o=/\n[ \t]*\n(?!~0)/.test(e);return e=e.replace(a,function(e,n,a,i,l,c,u){u=u&&""!==u.trim();var p=s.subParser("outdent")(l,r,t),h="";return c&&r.tasklists&&(h=' class="task-list-item" style="list-style-type: none;"',p=p.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(e+=" checked"),e+=">"})),n||p.search(/\n{2,}/)>-1?(p=s.subParser("githubCodeBlocks")(p,r,t),p=s.subParser("blockGamut")(p,r,t)):(p=(p=s.subParser("lists")(p,r,t)).replace(/\n$/,""),p=o?s.subParser("paragraphs")(p,r,t):s.subParser("spanGamut")(p,r,t)),p="\n<li"+h+">"+p+"</li>\n"}),e=e.replace(/~0/g,""),t.gListLevel--,n&&(e=e.replace(/\s+$/,"")),e}function a(e,r,t){var s="ul"===r?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,a=[],o="";if(-1!==e.search(s)){!function e(a){var i=a.search(s);-1!==i?(o+="\n\n<"+r+">"+n(a.slice(0,i),!!t)+"</"+r+">\n\n",s="ul"===(r="ul"===r?"ol":"ul")?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,e(a.slice(i))):o+="\n\n<"+r+">"+n(a,!!t)+"</"+r+">\n\n"}(e);for(var i=0;i<a.length;++i);}else o="\n\n<"+r+">"+n(e,!!t)+"</"+r+">\n\n";return o}e=t.converter._dispatch("lists.before",e,r,t),e+="~0";var o=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return t.gListLevel?e=e.replace(o,function(e,r,t){return a(r,t.search(/[*+-]/g)>-1?"ul":"ol",!0)}):(o=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,e=e.replace(o,function(e,r,t,n){return a(t,n.search(/[*+-]/g)>-1?"ul":"ol")})),e=e.replace(/~0/,""),e=t.converter._dispatch("lists.after",e,r,t)}),s.subParser("outdent",function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}),s.subParser("paragraphs",function(e,r,t){for(var n=(e=(e=(e=t.converter._dispatch("paragraphs.before",e,r,t)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),a=[],o=n.length,i=0;i<o;i++){var l=n[i];l.search(/~(K|G)(\d+)\1/g)>=0?a.push(l):(l=(l=s.subParser("spanGamut")(l,r,t)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",a.push(l))}for(o=a.length,i=0;i<o;i++){for(var c="",u=a[i],p=!1;u.search(/~(K|G)(\d+)\1/)>=0;){var h=RegExp.$1,d=RegExp.$2;c=(c="K"===h?t.gHtmlBlocks[d]:p?s.subParser("encodeCode")(t.ghCodeBlocks[d].text):t.ghCodeBlocks[d].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(p=!0)}a[i]=u}return e=a.join("\n\n"),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),t.converter._dispatch("paragraphs.after",e,r,t)}),s.subParser("runExtension",function(e,r,t,n){if(e.filter)r=e.filter(r,n.converter,t);else if(e.regex){var s=e.regex;!s instanceof RegExp&&(s=new RegExp(s,"g")),r=r.replace(s,e.replace)}return r}),s.subParser("spanGamut",function(e,r,t){return e=t.converter._dispatch("spanGamut.before",e,r,t),e=s.subParser("codeSpans")(e,r,t),e=s.subParser("escapeSpecialCharsWithinTagAttributes")(e,r,t),e=s.subParser("encodeBackslashEscapes")(e,r,t),e=s.subParser("images")(e,r,t),e=s.subParser("anchors")(e,r,t),e=s.subParser("autoLinks")(e,r,t),e=s.subParser("encodeAmpsAndAngles")(e,r,t),e=s.subParser("italicsAndBold")(e,r,t),e=s.subParser("strikethrough")(e,r,t),e=e.replace(/  +\n/g," <br />\n"),e=t.converter._dispatch("spanGamut.after",e,r,t)}),s.subParser("strikethrough",function(e,r,t){return r.strikethrough&&(e=(e=t.converter._dispatch("strikethrough.before",e,r,t)).replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),e=t.converter._dispatch("strikethrough.after",e,r,t)),e}),s.subParser("stripBlankLines",function(e){return e.replace(/^[ \t]+$/gm,"")}),s.subParser("stripLinkDefinitions",function(e,r,t){var n=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return e+="~0",e=e.replace(n,function(e,n,a,o,i,l,c){return n=n.toLowerCase(),t.gUrls[n]=s.subParser("encodeAmpsAndAngles")(a),l?l+c:(c&&(t.gTitles[n]=c.replace(/"|'/g,"&quot;")),r.parseImgDimensions&&o&&i&&(t.gDimensions[n]={width:o,height:i}),"")}),e=e.replace(/~0/,"")}),s.subParser("tables",function(e,r,t){function n(e){return/^:[ \t]*--*$/.test(e)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(e)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(e)?' style="text-align:center;"':""}function a(e,n){var a="";return e=e.trim(),r.tableHeaderId&&(a=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),e=s.subParser("spanGamut")(e,r,t),"<th"+a+n+">"+e+"</th>\n"}function o(e,n){return"<td"+n+">"+s.subParser("spanGamut")(e,r,t)+"</td>\n"}function i(e,r){for(var t="<table>\n<thead>\n<tr>\n",n=e.length,s=0;s<n;++s)t+=e[s];for(t+="</tr>\n</thead>\n<tbody>\n",s=0;s<r.length;++s){t+="<tr>\n";for(var a=0;a<n;++a)t+=r[s][a];t+="</tr>\n"}return t+="</tbody>\n</table>\n"}if(!r.tables)return e;var l=/^[ \t]{0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm;return e=t.converter._dispatch("tables.before",e,r,t),e=e.replace(l,function(e){var r,t=e.split("\n");for(r=0;r<t.length;++r)/^[ \t]{0,3}\|/.test(t[r])&&(t[r]=t[r].replace(/^[ \t]{0,3}\|/,"")),/\|[ \t]*$/.test(t[r])&&(t[r]=t[r].replace(/\|[ \t]*$/,""));var l=t[0].split("|").map(function(e){return e.trim()}),c=t[1].split("|").map(function(e){return e.trim()}),u=[],p=[],h=[],d=[];for(t.shift(),t.shift(),r=0;r<t.length;++r)""!==t[r].trim()&&u.push(t[r].split("|").map(function(e){return e.trim()}));if(l.length<c.length)return e;for(r=0;r<c.length;++r)h.push(n(c[r]));for(r=0;r<l.length;++r)s.helper.isUndefined(h[r])&&(h[r]=""),p.push(a(l[r],h[r]));for(r=0;r<u.length;++r){for(var f=[],g=0;g<p.length;++g)s.helper.isUndefined(u[r][g]),f.push(o(u[r][g],h[g]));d.push(f)}return i(p,d)}),e=t.converter._dispatch("tables.after",e,r,t)}),s.subParser("unescapeSpecialChars",function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var t=parseInt(r);return String.fromCharCode(t)})}),module.exports=s; 
 			}); 
		define("wxParse/wxDiscode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function e(e){return e=e.replace(/&forall;/g,"∀"),e=e.replace(/&part;/g,"∂"),e=e.replace(/&exists;/g,"∃"),e=e.replace(/&empty;/g,"∅"),e=e.replace(/&nabla;/g,"∇"),e=e.replace(/&isin;/g,"∈"),e=e.replace(/&notin;/g,"∉"),e=e.replace(/&ni;/g,"∋"),e=e.replace(/&prod;/g,"∏"),e=e.replace(/&sum;/g,"∑"),e=e.replace(/&minus;/g,"−"),e=e.replace(/&lowast;/g,"∗"),e=e.replace(/&radic;/g,"√"),e=e.replace(/&prop;/g,"∝"),e=e.replace(/&infin;/g,"∞"),e=e.replace(/&ang;/g,"∠"),e=e.replace(/&and;/g,"∧"),e=e.replace(/&or;/g,"∨"),e=e.replace(/&cap;/g,"∩"),e=e.replace(/&cap;/g,"∪"),e=e.replace(/&int;/g,"∫"),e=e.replace(/&there4;/g,"∴"),e=e.replace(/&sim;/g,"∼"),e=e.replace(/&cong;/g,"≅"),e=e.replace(/&asymp;/g,"≈"),e=e.replace(/&ne;/g,"≠"),e=e.replace(/&le;/g,"≤"),e=e.replace(/&ge;/g,"≥"),e=e.replace(/&sub;/g,"⊂"),e=e.replace(/&sup;/g,"⊃"),e=e.replace(/&nsub;/g,"⊄"),e=e.replace(/&sube;/g,"⊆"),e=e.replace(/&supe;/g,"⊇"),e=e.replace(/&oplus;/g,"⊕"),e=e.replace(/&otimes;/g,"⊗"),e=e.replace(/&perp;/g,"⊥"),e=e.replace(/&sdot;/g,"⋅")}function a(e){return e=e.replace(/&Alpha;/g,"Α"),e=e.replace(/&Beta;/g,"Β"),e=e.replace(/&Gamma;/g,"Γ"),e=e.replace(/&Delta;/g,"Δ"),e=e.replace(/&Epsilon;/g,"Ε"),e=e.replace(/&Zeta;/g,"Ζ"),e=e.replace(/&Eta;/g,"Η"),e=e.replace(/&Theta;/g,"Θ"),e=e.replace(/&Iota;/g,"Ι"),e=e.replace(/&Kappa;/g,"Κ"),e=e.replace(/&Lambda;/g,"Λ"),e=e.replace(/&Mu;/g,"Μ"),e=e.replace(/&Nu;/g,"Ν"),e=e.replace(/&Xi;/g,"Ν"),e=e.replace(/&Omicron;/g,"Ο"),e=e.replace(/&Pi;/g,"Π"),e=e.replace(/&Rho;/g,"Ρ"),e=e.replace(/&Sigma;/g,"Σ"),e=e.replace(/&Tau;/g,"Τ"),e=e.replace(/&Upsilon;/g,"Υ"),e=e.replace(/&Phi;/g,"Φ"),e=e.replace(/&Chi;/g,"Χ"),e=e.replace(/&Psi;/g,"Ψ"),e=e.replace(/&Omega;/g,"Ω"),e=e.replace(/&alpha;/g,"α"),e=e.replace(/&beta;/g,"β"),e=e.replace(/&gamma;/g,"γ"),e=e.replace(/&delta;/g,"δ"),e=e.replace(/&epsilon;/g,"ε"),e=e.replace(/&zeta;/g,"ζ"),e=e.replace(/&eta;/g,"η"),e=e.replace(/&theta;/g,"θ"),e=e.replace(/&iota;/g,"ι"),e=e.replace(/&kappa;/g,"κ"),e=e.replace(/&lambda;/g,"λ"),e=e.replace(/&mu;/g,"μ"),e=e.replace(/&nu;/g,"ν"),e=e.replace(/&xi;/g,"ξ"),e=e.replace(/&omicron;/g,"ο"),e=e.replace(/&pi;/g,"π"),e=e.replace(/&rho;/g,"ρ"),e=e.replace(/&sigmaf;/g,"ς"),e=e.replace(/&sigma;/g,"σ"),e=e.replace(/&tau;/g,"τ"),e=e.replace(/&upsilon;/g,"υ"),e=e.replace(/&phi;/g,"φ"),e=e.replace(/&chi;/g,"χ"),e=e.replace(/&psi;/g,"ψ"),e=e.replace(/&omega;/g,"ω"),e=e.replace(/&thetasym;/g,"ϑ"),e=e.replace(/&upsih;/g,"ϒ"),e=e.replace(/&piv;/g,"ϖ"),e=e.replace(/&middot;/g,"·")}function r(e){return e=e.replace(/nbsp;/g," "),e=e.replace(/&quot;/g,"'"),e=e.replace(/&amp;/g,""),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">")}function l(e){return e=e.replace(/&OElig;/g,"Œ"),e=e.replace(/&oelig;/g,"œ"),e=e.replace(/&Scaron;/g,"Š"),e=e.replace(/&scaron;/g,"š"),e=e.replace(/&Yuml;/g,"Ÿ"),e=e.replace(/&fnof;/g,"ƒ"),e=e.replace(/&circ;/g,"ˆ"),e=e.replace(/&tilde;/g,"˜"),e=e.replace(/&ensp;/g,""),e=e.replace(/&emsp;/g,""),e=e.replace(/&thinsp;/g,""),e=e.replace(/&zwnj;/g,""),e=e.replace(/&zwj;/g,""),e=e.replace(/&lrm;/g,""),e=e.replace(/&rlm;/g,""),e=e.replace(/&ndash;/g,"–"),e=e.replace(/&mdash;/g,"—"),e=e.replace(/&lsquo;/g,"‘"),e=e.replace(/&rsquo;/g,"’"),e=e.replace(/&sbquo;/g,"‚"),e=e.replace(/&ldquo;/g,"“"),e=e.replace(/&rdquo;/g,"”"),e=e.replace(/&bdquo;/g,"„"),e=e.replace(/&dagger;/g,"†"),e=e.replace(/&Dagger;/g,"‡"),e=e.replace(/&bull;/g,"•"),e=e.replace(/&hellip;/g,"…"),e=e.replace(/&permil;/g,"‰"),e=e.replace(/&prime;/g,"′"),e=e.replace(/&Prime;/g,"″"),e=e.replace(/&lsaquo;/g,"‹"),e=e.replace(/&rsaquo;/g,"›"),e=e.replace(/&oline;/g,"‾"),e=e.replace(/&euro;/g,"€"),e=e.replace(/&trade;/g,"™"),e=e.replace(/&larr;/g,"←"),e=e.replace(/&uarr;/g,"↑"),e=e.replace(/&rarr;/g,"→"),e=e.replace(/&darr;/g,"↓"),e=e.replace(/&harr;/g,"↔"),e=e.replace(/&crarr;/g,"↵"),e=e.replace(/&lceil;/g,"⌈"),e=e.replace(/&rceil;/g,"⌉"),e=e.replace(/&lfloor;/g,"⌊"),e=e.replace(/&rfloor;/g,"⌋"),e=e.replace(/&loz;/g,"◊"),e=e.replace(/&spades;/g,"♠"),e=e.replace(/&clubs;/g,"♣"),e=e.replace(/&hearts;/g,"♥"),e=e.replace(/&diams;/g,"♦")}function p(e){return e=e.replace(/\r\n/g,""),e=e.replace(/\n/g,""),e=e.replace(/code/g,"wxxxcode-style")}module.exports={strDiscode:function(c){return c=e(c),c=a(c),c=r(c),c=l(c),c=p(c)},urlToHttpUrl:function(e,a){return new RegExp("^//").test(e)&&(e=a+":"+e),e}}; 
 			}); 
		define("wxParse/wxParse.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=this,a=e.target.dataset.src,i=e.target.dataset.from;void 0!==i&&i.length>0&&wx.previewImage({current:a,urls:t.data[i].imageUrls})}function a(e){var t=this,a=e.target.dataset.from,r=e.target.dataset.idx;void 0!==a&&a.length>0&&i(e,r,t,a)}function i(e,t,a,i){var d=a.data[i];if(0!=d.images.length){var n=d.images,s=r(e.detail.width,e.detail.height,a,i);n[t].width=s.imageWidth,n[t].height=s.imageheight,d.images=n;var o={};o[i]=d,a.setData(o)}}function r(e,t,a,i){var r=0,d=0,n=0,s=0,o={};return wx.getSystemInfo({success:function(g){var h=a.data[i].view.imagePadding;r=g.windowWidth-2*h,d=g.windowHeight,e>r?(s=(n=r)*t/e,o.imageWidth=n,o.imageheight=s):(o.imageWidth=e,o.imageheight=t)}}),o}var d=e(require("./showdown.js")),n=e(require("./html2json.js"));module.exports={wxParse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wxParseData",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'<div class="color:red;">数据不能为空</div>',s=arguments[3],o=arguments[4],g=s,h={};if("html"==i)h=n.default.html2json(r,e);else if("md"==i||"markdown"==i){var m=(new d.default.Converter).makeHtml(r);h=n.default.html2json(m,e)}h.view={},h.view.imagePadding=0,void 0!==o&&(h.view.imagePadding=o);var l={};l[e]=h,g.setData(l),g.wxParseImgLoad=a,g.wxParseImgTap=t},wxParseTemArray:function(e,t,a,i){for(var r=[],d=i.data,n=null,s=0;s<a;s++){var o=d[t+s].nodes;r.push(o)}e=e||"wxParseTemArray",(n=JSON.parse('{"'+e+'":""}'))[e]=r,i.setData(n)},emojisInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",a=arguments[2];n.default.emojisInit(e,t,a)}}; 
 			}); 
		define("app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=wx.getExtConfigSync?wx.getExtConfigSync():{};console.log(wx.getExtConfigSync()),e.base=e.base||"https://ck3497.yimeixinxijishu.com/",e.appid=e.appid||"wx0b208544ea48dbb7",e.secret=e.secret||"f11684ca57f8c7e1ded22efc07511cef",e.title=e.title||"我们的营养家",App({onLaunch:function(){this.globalData.userKey=wx.getStorageSync("userkey"),this.globalData.userInfo=wx.getStorageSync("userinfo");var e=wx.getStorageSync("logs")||[];e.unshift(Date.now()),wx.setStorageSync("logs",e);var t=this;wx.request({url:t.globalData.config.base+"Mobile/Api/index",method:"GET",header:{"content-type":"application"},success:function(e){console.log(e,"显示"),"123456"!=e.data.msg[0].value&&(t.globalData.show=!0)}})},onShow:function(){var e=this;wx.checkSession({success:function(){""!=e.globalData.userKey&&""!=e.globalData.userInfo||e.Login()},fail:function(){e.Login()}})},Login:function(){var e=this;wx.login({success:function(t){var o=t.code;wx.getUserInfo({success:function(t){var a={encryptData:t.encryptData,encryptedData:t.encryptedData,iv:t.iv,rawData:t.rawData,signature:t.signature,code:o};wx.request({url:e.globalData.config.base+"Mobile/Api/getuser",method:"GET",data:{userData:JSON.stringify(a)},header:{"content-type":"application"},success:function(o){wx.setStorageSync("userkey",o.data),wx.setStorageSync("userinfo",t),e.globalData.userKey=o.data,e.globalData.userInfo=t},fail:function(e){}})}})}})},globalData:{userInfo:null,userCode:null,userKey:null,linkType:{0:"../goods/goods",1:"../goodslist/goodslist",2:"../coupon/coupon",3:"../dateils/dateils",4:"../orderlist/orderlist",5:"../discount/discount",6:"../record/record",7:"../collectstore/collectstore",8:"../addressbook/addressbook",9:"../express/express",10:"../contact/contact",11:"../join/join",12:""},config:e,show:!1}}); 
 			}); 	require("app.js");
 		__wxRoute = 'pages/index/index';__wxRouteBegin = true; 	define("pages/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t,e,a=getApp(),o=a.globalData.config.base;Page({data:{isload:!0,page:1,goodsList:[],storeList:[],city:{},searchVal:"",linkType:a.globalData.linkType},onShareAppMessage:function(){return{title:a.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||t.upperuid)}},onReady:function(){wx.setNavigationBarTitle({title:a.globalData.config.title})},onLoad:function(a){var o,i=this;t=a,a.scene=a.scene?a.scene+"":"",0==a.scene.indexOf("upperuid_")&&(o=a.scene.split("_"),t.upperuid=o[1]||""),this.closeShow=!0,i.getCity(!0),i.getIndexData(),t&&t.upperuid&&e.bindAgent(t.upperuid),i.setData({shop:"品牌"})},onShow:function(){if(this.closeShow)this.closeShow=!1;else{var t=this,e=!0;wx.getStorageSync("city")?((a.refreshHome||void 0===a.refreshHome)&&(e=!1,t.getCity(e),t.getIndexData()),a.refreshHome=!1):wx.showModal({title:"提示",content:"暂不能获取你的定位信息，请手动选择",showCancel:!1,complete:function(){t.gotoCity()}})}},jump:function(t){var e=t.currentTarget.dataset,a=this.data.linkType[e.type],o=e.id;wx.navigateTo({url:a+"?id="+o})},getIndexData:function(){var t=this;wx.request({url:o+"Mobile/Api/index",method:"GET",header:{"content-type":"application"},success:function(e){t.setData({indexData:e.data})}})},getGoodsList:function(t){var e=this,a=this.data.isload,i=wx.getStorageSync("city").id;a&&(wx.showNavigationBarLoading(),e.setData({isload:!1}),wx.request({url:o+"Mobile/Api/indexGoods",method:"GET",header:{"content-type":"application"},data:{page:t,city_id:i},success:function(a){console.log("================"),console.log(a);var o=0!=a.data.goodStatus,i=[];1==t&&(i=[]),1!=t&&(i=e.data.goodsList),o&&t++,e.setData({goodsList:i.concat(a.data.goods),storeList:a.data.shop,page:t,isload:o}),wx.hideNavigationBarLoading()}}))},loadMore:function(){this.getGoodsList(this.data.page)},gotoCity:function(){wx.navigateTo({url:"../city/city"})},gotoStore:function(){wx.navigateTo({url:"../store/store"})},toToGoods:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"../goods/goods?id="+e})},search:function(t){var e=/(^\s*)|(\s*$)/g,a=t.detail.value.replace(e,"");this.setData({searchVal:a})},toSearch:function(){var t=this.data.searchVal;t&&wx.navigateTo({url:"../search/search?search="+t})},getCity:function(t){var e=this,a=wx.getStorageSync("city");if(t||!a)return wx.showLoading({title:"定位中"}),void e.getPos(function(t){if(wx.hideLoading(),t||a){if(!t)return a?(e.setData({city:a,isload:!0,page:1}),void e.getGoodsList(e.data.page)):void 0;e.setCity(t,function(t){var a={name:t.data.city_name,id:t.data.city_id};wx.setStorageSync("city",a),e.setData({city:a,isload:!0,page:1}),wx.hideLoading(),e.getGoodsList(e.data.page)})}else wx.showModal({title:"提示",content:"暂不能获取你的定位信息，请手动选择",showCancel:!1,complete:function(){e.gotoCity()}})});e.setData({city:a,isload:!0,page:1}),e.getGoodsList(e.data.page)},getPos:function(t){wx.getLocation({type:"gcj02",success:function(e){var a=!1;e&&e.latitude&&e.longitude&&(a=e.latitude+","+e.longitude),t(a)},fail:function(){t(!1)}})},setCity:function(t,e){wx.request({url:o+"Mobile/Api/getDefaultCity",method:"GET",header:{"content-type":"application"},data:{location:t},success:function(t){e&&e(t)}})},toGoodsList:function(t){var e=t.currentTarget.dataset.id,a=t.currentTarget.dataset.entrance;wx.navigateTo({url:"../goodslist/goodslist?id="+e+"&entrance="+a})},toShop:function(t){var e=t.currentTarget.dataset.id,a=t.currentTarget.dataset.entrance;wx.navigateTo({url:"../shop/shop?id="+e+"&entrance="+a})},onPullDownRefresh:function(){wx.removeStorageSync("city"),this.setData({city:{}}),this.getCity(),wx.stopPullDownRefresh()},onUnload:function(){},onReachBottom:function(){this.data.goodsList.length>10||this.loadMore()},checkUser:function(t){return void(t&&t())}}),e={bindAgent:function(t){t/1!=wx.getStorageSync("myuid")/1&&(wx.setStorageSync("parentuid",t),wx.request({url:o+"Mobile/UserApi/bindupperuid",data:{userkey:a.globalData.userKey,upper_uid:t},success:function(){},fail:function(){}}))}}; 
 			}); 	require("pages/index/index.js");
 		__wxRoute = 'pages/agent/agent';__wxRouteBegin = true; 	define("pages/agent/agent.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e,a,t=getApp(),o=t.globalData.config.base;Page({data:{},onLoad:function(e){a=e},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||a.upperuid)}},onShow:function(){if(a&&a.phone){var i=this;this.setData({userInfo:t.globalData.userInfo.userInfo,config:t.globalData.config}),wx.showLoading(),wx.request({url:o+"Mobile/UserApi/agent_apply",data:{userkey:t.globalData.userKey,mobile:a.phone},success:function(s){wx.request({url:o+"Mobile/UserApi/getupperuid",data:{userkey:t.globalData.userKey,mobile:a.phone},success:function(a){wx.hideLoading(),a&&a.data&&0===a.data.error?(e.saveUpperKey(a.data),wx.showToast({title:"申请成功"}),i.renderPage()):wx.showToast({title:"申请失败，请重试。"})},fail:function(){wx.hideLoading(),wx.showToast({title:"申请分销失败，请重试。"})}})},fail:function(){wx.hideLoading(),wx.showToast({title:"申请分销失败，请重试。"})}})}else wx.showModal({title:"提示",content:"缺少必要的参数",showCancel:!1,complete:function(){wx.navigateBack()}})},saveimg:function(){wx.getImageInfo({src:o+"Mobile/UserApi/getwxcode?userkey="+t.globalData.userKey,success:function(e){wx.saveImageToPhotosAlbum({filePath:e.path,success:function(){wx.showToast({title:"保存成功"})},fail:function(){wx.previewImage({urls:[o+"Mobile/UserApi/getwxcode?userkey="+t.globalData.userKey]})}})},fail:function(){wx.previewImage({urls:[o+"Mobile/UserApi/getwxcode?userkey="+t.globalData.userKey]})}}),wx.saveImageToPhotosAlbum()},renderPage:function(){this.setData({code:o+"Mobile/UserApi/getwxcode?userkey="+t.globalData.userKey})}}),e={saveUpperKey:function(e){var a,t=e.user_info||{};for(a in t)if(a)break;a&&wx.setStorageSync("myuid",a)}}; 
 			}); 	require("pages/agent/agent.js");
 		__wxRoute = 'pages/shop/shop';__wxRouteBegin = true; 	define("pages/shop/shop.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t,a=getApp(),o=a.globalData.config.base,e=!1,s={store:"store",category:"category"};Page({data:{order:{number:"",show:!1,page:1},currentTab:1,goodsList:[],page:1,isLoad:!0,shopInfo:{},collect:!1},onShareAppMessage:function(){return{title:a.globalData.config.title,path:"/pages/shop/shop",success:function(t){},fail:function(t){}}},onLoad:function(a){a=a||{},console.log(a),t=a.id,a.entrance=a.entrance||s.store;var o=a.entrance;o==s.store?this.setData({storeId:parseInt(a.id)}):o==s.category&&this.setData({categoryId:parseInt(a.id)}),this.setData({id:a.id}),this.getListinfo(this.data.page),this.getShopInfo(a.id),this.checkFlow(a.id)},getShopInfo:function(t){var a=this;wx.request({url:o+"Mobile/Api/shopInfo",method:"GET",header:{"content-type":"application"},data:{shop_id:t},success:function(t){console.log(t),0===t.data.error&&a.setData({shopInfo:t.data.data||{}}),console.log(t)}})},flow:function(){console.log("ff");var e=this;wx.request({url:o+"Mobile/UserApi/shopcollect",method:"GET",header:{"content-type":"application"},data:{userkey:a.globalData.userKey,shop_id:t},success:function(a){if(a&&a.data&&0===a.data.error)return wx.showToast({title:"收藏成功",icon:"success"}),e.setData({collect:!0}),void e.getShopInfo(t);wx.showToast({title:"收藏失败"})},fail:function(){wx.showToast({title:"收藏失败"})}})},checkFlow:function(t){var e=this;wx.request({url:o+"Mobile/UserApi/is_shopcollect",method:"GET",header:{"content-type":"application"},data:{userkey:a.globalData.userKey,shop_id:t},success:function(t){t&&t.data&&1===t.data.error&&e.setData({collect:!0})}})},onShow:function(){},changeTab:function(t){var a=t.currentTarget.dataset.tab,o="";switch(!0){case 1==a:o=0;break;case 2==a:o=1;break;case 3==a:o=2;break;case 4==a:o=3}this.setData({order:{number:o,show:!1,page:1},currentTab:a,goodsList:[],page:1,isLoad:!0}),this.getListinfo(this.data.page)},getListinfo:function(t){var a=this,s=this.data.order.number||"",i=this.data.isLoad,n=this.data.storeId,c=this.data.categoryId,r={type_id:s};n?(r.catid="",r.shop_id=n):c&&(r.catid=c,r.shop_id=""),r.page=this.data.page,i?(wx.showNavigationBarLoading(),wx.request({url:o+"Mobile/Api/goodsList",method:"GET",header:{"content-type":"application"},data:r,success:function(o){e=!1;var s=[];0==t?a.setData({goodsList:[]}):s=a.data.goodsList,t++,a.setData({goodsList:s.concat(o.data.goods),page:t,isLoad:1==o.data.goodStatus}),console.log(a.data),wx.hideNavigationBarLoading()},fail:function(){e=!1}})):e=!1},toToGoods:function(t){var a=t.currentTarget.dataset.id;wx.navigateTo({url:"../goods/goods?id="+a})},onReachBottom:function(){this.loadMore()},loadMore:function(){e||(e=!0,this.getListinfo(this.data.page))}}); 
 			}); 	require("pages/shop/shop.js");
 		__wxRoute = 'pages/goodslist2/goodslist2';__wxRouteBegin = true; 	define("pages/goodslist2/goodslist2.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.config.base;Page({data:{order:{text:"默认排序",number:2,show:!1,page:1},isload:!0,page:1,goodsList:[],storeList:[],city:{},searchVal:""},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(){this.getGoodsList(1)},onShow:function(){},getIndexData:function(){var t=this;wx.request({url:a+"Mobile/Api/index",method:"GET",header:{"content-type":"application"},success:function(a){t.setData({indexData:a.data})}})},orderHide:function(t){var a=t.currentTarget.dataset.order,e=this.data.order;1==a?(e.text="价格从高到低",e.number=1):0==a?(e.text="价格从低到高",e.number=0):2==a&&(e.text="按时间最新",e.number=2),e.show=!1,this.setData({order:e,page:1,goodsList:[],isload:!0});var o=this.data.page;this.getGoodsList(o)},getGoodsList:function(t){var e=this;console.log(this.data);var o=this.data.isload,i=this.data.order.number,s=wx.getStorageSync("city").id;o?(wx.showNavigationBarLoading(),e.setData({isload:!1}),wx.request({url:a+"Mobile/Api/indexGoods",method:"GET",header:{"content-type":"application"},data:{page:t,city_id:s,sort:i},success:function(a){console.log(a);var o=0!=a.data.goodStatus,i=[];1==t&&(i=[]),1!=t&&(i=e.data.goodsList),o&&t++,e.setData({goodsList:i.concat(a.data.goods),storeList:a.data.shop,page:t,isload:o}),wx.hideNavigationBarLoading()}})):isLoadMore=!1},loadMore:function(){this.getGoodsList(this.data.page)},gotoCity:function(){wx.navigateTo({url:"../city/city"})},gotoStore:function(){wx.navigateTo({url:"../store/store"})},toToGoods:function(t){var a=t.currentTarget.dataset.id;wx.navigateTo({url:"../goods/goods?id="+a})},search:function(t){var a=/(^\s*)|(\s*$)/g,e=t.detail.value.replace(a,"");this.setData({searchVal:e})},toSearch:function(){var t=this.data.searchVal;t&&wx.navigateTo({url:"../search/search?search="+t})},getCity:function(){var t=this,a=wx.getStorageSync("city");a?a&&(t.setData({city:a,isload:!0,page:1}),t.getGoodsList(t.data.page),console.log("成功")):(wx.showLoading({title:"定位中"}),wx.getLocation({success:function(a){a.latitude,a.longitude;t.setCity("23.122332,113.307262",function(a){var e={name:a.data.city_name,id:a.data.city_id};wx.setStorageSync("city",e),t.setData({city:e,isload:!0,page:1}),wx.hideLoading(),t.getGoodsList(t.data.page)})},fail:function(){t.setCity("113.307262,23.122332",function(a){var e={name:a.data.city_name,id:a.data.city_id};wx.setStorageSync("city",e),t.setData({city:e,isload:!0,page:1}),wx.hideLoading(),t.getGoodsList(t.data.page)})}}))},setCity:function(t,e){wx.request({url:a+"Mobile/Api/getDefaultCity",method:"GET",header:{"content-type":"application"},data:{location:t},success:function(t){e&&e(t)}})},toGoodsList:function(t){var a=t.currentTarget.dataset.id,e=t.currentTarget.dataset.entrance;wx.navigateTo({url:"../goodslist/goodslist?id="+a+"&entrance="+e})},onPullDownRefresh:function(){},onUnload:function(){},onReachBottom:function(){this.loadMore()}}); 
 			}); 	require("pages/goodslist2/goodslist2.js");
 		__wxRoute = 'pages/category/category';__wxRouteBegin = true; 	define("pages/category/category.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base;Page({data:{crrentIndex:0},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){this.getCategory()},onReady:function(){},menuSelect:function(t){var e=t.currentTarget.dataset.index;this.setData({crrentIndex:e}),this.setMeunContent(e)},setMeunContent:function(t){var e=this.data.category;this.setData({meunContent:e[t].data})},search:function(t){var e=/(^\s*)|(\s*$)/g,a=t.detail.value.replace(e,"");this.setData({searchVal:a})},getCategory:function(){var a=this,n=t.globalData.cityId;wx.request({url:e+"Mobile/Api/category",header:{"content-type":"application"},data:{cityid:n},success:function(t){console.log(t),a.setData({category:t.data}),a.setMeunContent(a.data.crrentIndex)}})},toGoodsList:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"../goodslist/goodslist?id="+e+"&entrance=category"})},toSearch:function(){var t=this.data.searchVal;t&&wx.navigateTo({url:"../search/search?search="+t})}}); 
 			}); 	require("pages/category/category.js");
 		__wxRoute = 'pages/cart/cart';__wxRouteBegin = true; 	define("pages/cart/cart.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base;Page({data:{goodsList:[],checkAll:!0},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){this.getGoodsInfo()},onReady:function(){},onShow:function(){this.getGoodsInfo()},onHide:function(){},onUnload:function(){},toIndex:function(){wx.switchTab({url:"../index/index"})},toOrderform:function(){this.data.goodsList.every(function(t,e){return 0==t.selected})?wx.showModal({title:"提示",content:"请选择商品",showCancel:!1,success:function(t){}}):wx.navigateTo({url:"../orderform/orderform"})},getGoodsInfo:function(){var o=t.globalData.userKey,a=this;wx.request({url:e+"Mobile/Order/getCartList",method:"GET",header:{"content-type":"application"},data:{userkey:o},success:function(t){var e=t.data.cartList.every(function(t,e){return 1==t.selected});a.setData({checkAll:e,goodsList:t.data.cartList}),a.totalGoods()}})},selected:function(o){var a=t.globalData.userKey,s=this,d=o.currentTarget.dataset.index,i=this.data.goodsList,n=1==i[d].selected?0:1,r=void 0;i[d].selected=n,r=i.every(function(t,e){return 1==t.selected}),s.setData({goodsList:i,checkAll:r}),wx.request({url:e+"Mobile/Order/ajaxDealCart",method:"GET",header:{"content-type":"application"},data:{userkey:a,id:s.data.goodsList[d].id,goods_num:s.data.goodsList[d].goods_num,selected:s.data.goodsList[d].selected,isall:0},success:function(t){0==t.data.error&&(s.setData({goodsList:i,checkAll:r}),s.totalGoods())}})},increase:function(o){var a=t.globalData.userKey,s=this,d=o.currentTarget.dataset.index,i=this.data.goodsList,n=i[d].goods_num;++n>=99&&(n=99),i[d].goods_num=n,wx.request({url:e+"Mobile/Order/ajaxDealCart",method:"GET",header:{"content-type":"application"},data:{userkey:a,id:s.data.goodsList[d].id,goods_num:s.data.goodsList[d].goods_num,selected:s.data.goodsList[d].selected,isall:0},success:function(t){0==t.data.error&&(s.setData({goodsList:i}),s.totalGoods())}})},reduce:function(o){var a=t.globalData.userKey,s=this,d=o.currentTarget.dataset.index,i=this.data.goodsList,n=i[d].goods_num;--n<=0&&(n=1),i[d].goods_num=n,s.setData({goodsList:i}),wx.request({url:e+"Mobile/Order/ajaxDealCart",method:"GET",header:{"content-type":"application"},data:{userkey:a,id:s.data.goodsList[d].id,goods_num:s.data.goodsList[d].goods_num,selected:s.data.goodsList[d].selected,isall:0},success:function(t){0==t.data.error&&(s.setData({goodsList:i}),s.totalGoods())}})},checkGoodsList:function(){var o=t.globalData.userKey,a=this.data.goodsList,s=[],d=this,i=this.data.checkAll;a.forEach(function(t,e){s.push(t.id)}),i?a.forEach(function(t){t.selected=0}):a.forEach(function(t){t.selected=1}),wx.request({url:e+"Mobile/Order/ajaxDealCart",method:"GET",header:{"content-type":"application"},data:{userkey:o,id:s.join(","),selected:i?0:1,isall:1},success:function(t){d.setData({checkAll:!i,goodsList:a}),d.totalGoods()}})},deleteGoods:function(o){var a=this,s=o.currentTarget.dataset.index,d=t.globalData.userKey,i=this.data.goodsList,n=i[s].id;wx.showActionSheet({itemList:["确定"],success:function(t){0==t.tapIndex&&wx.request({url:e+"Mobile/Order/ajaxRmCart",method:"GET",header:{"content-type":"application"},data:{userkey:d,ids:n},success:function(t){0!=t.data.error&&"删除成功"!=t.data.data||(i.splice(s,1),a.setData({goodsList:i}))}})},fail:function(t){console.log(t.errMsg)}})},totalGoods:function(){var t=0,e=0;this.data.goodsList.forEach(function(o,a){1==o.selected&&(t+=o.goods_num,e+=o.goods_price*o.goods_num)}),this.setData({total:{count:t,price:e.toFixed(2)}})}}); 
 			}); 	require("pages/cart/cart.js");
 		__wxRoute = 'pages/user/user';__wxRouteBegin = true; 	define("pages/user/user.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var n=getApp(),o=n.globalData.config.base;Page({data:{menu_list:[{id:"mySale",name:"我的分销",open:!0,icon:"./icons/fx.png",pages:[{title:"我的佣金",icon:"./icons/brokerage.png",url:"fx-mymoney"},{title:"我的消费记录",icon:"./icons/consume.png",url:"fx-consumeList"},{title:"我的提现记录",icon:"./icons/tixian.png",url:"fx-cashlist"},{title:"我的下级分销商",icon:"./icons/junior.png",url:"fx-downgrade"},{title:"我的分销",icon:"./icons/share.png",url:"beagent"},{title:"我的商城订单",icon:"./icons/order_01.png",url:"fx-shoporder"}]},{id:"myMall",name:"我的商城",open:!1,icon:"./icons/sc.png",pages:[{title:"我的商城首页",icon:"./icons/page.png",url:"index"},{title:"我的收藏",icon:"./icons/collect_01.png",url:"record"},{title:"管理我的收货地址",icon:"./icons/address.png",url:"addressbook"},{title:"关于我们",icon:"./icons/weguan.png",url:"contact"},{title:"售后服务",icon:"./icons/record.png",url:"express"}]},{id:"shop",name:"店铺",open:!1,icon:"./icons/shop.png",pages:[{title:"所有店铺列表",icon:"./icons/join.png",url:"store"},{title:"申请店铺入驻",icon:"./icons/junior.png",url:"join"},{title:"我收藏的店铺",icon:"./icons/collect.png",url:"collectstore"}]}]},onShareAppMessage:function(){return{title:n.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(o){this.setData({"menu_list[0].show":n.globalData.show,"menu_list[1].show":!0,"menu_list[0].open":n.globalData.show,"menu_list[1].open":!n.globalData.show,"menu_list[2].show":n.globalData.show}),console.log("menu_list",this.data.menu_list)},widgetsToggle:function(n){for(var o=n.currentTarget.id,t=this.data.menu_list,e=0,i=t.length;e<i;++e)t[e].id==o?t[e].open=!t[e].open:t[e].open=!1;this.setData({menu_list:t})},jump:function(n){var o=n.currentTarget.dataset.url;console.log(o),"index"==o?wx.switchTab({url:"../"+o+"/"+o}):wx.navigateTo({url:"../"+o+"/"+o})},onReady:function(){var o=n.globalData.userInfo;this.setData({userInfo:{avatar:o.userInfo.avatarUrl,name:o.userInfo.nickName}})},onShow:function(){this.getOrderNum()},onHide:function(){},onUnload:function(){},toAftersale:function(){wx.navigateTo({url:"../aftersalelist/aftersalelist"})},toExpress:function(){wx.navigateTo({url:"../express/express"})},toAddressBook:function(){wx.navigateTo({url:"../addressbook/addressbook"})},toRecord:function(){wx.navigateTo({url:"../record/record"})},toOrderList:function(n){var o=n.currentTarget.dataset.type;wx.navigateTo({url:"../orderlist/orderlist?type="+o})},onContactTap:function(){wx.navigateTo({url:"../contact/contact"})},ondraw:function(){wx.navigateTo({url:"../discount/discount"})},onserver:function(){wx.navigateTo({url:"../service/service"})},toJoin:function(){wx.navigateTo({url:"../join/join"})},onPullDownRefresh:function(){wx.stopPullDownRefresh()},getOrderNum:function(){var t=this,e=n.globalData.userKey;wx.request({url:o+"Mobile/UserApi/order_status",method:"GET",header:{"content-type":"application"},data:{userkey:e},success:function(n){if(0==n.data.error){var o=n.data.data;t.setData({daifukuanNum:o.WAITPAY,daifahuoNum:o.WAITSEND,daishouhuoNum:o.WAITRECEIVE,daipingjiaNum:o.WAITCCOMMENT,shouhouNum:o.back})}}})}}); 
 			}); 	require("pages/user/user.js");
 		__wxRoute = 'pages/pay/pay';__wxRouteBegin = true; 	define("pages/pay/pay.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),a=e.globalData.config.base;Page({data:{},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(e){var a=e.id;this.getOrderInfo(a)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},getOrderInfo:function(t){var o=this,n=e.globalData.userKey;wx.request({url:a+"Mobile/Order/cart4",method:"GET",header:{"content-type":"application"},data:{userkey:n,order_id:t},success:function(e){o.setData({orderInfo:e.data})}})},pay:function(){var t=e.globalData.userKey,o=this.data.orderInfo.order_sn;wx.request({url:a+"Mobile/UserApi/wxpay",method:"GET",header:{"content-type":"application"},data:{userkey:t,order_sn:o},success:function(e){console.log(e),console.log(e.data.timeStamp),console.log(e.data.nonceStr),console.log(e.data.package),console.log(e.data.signType),console.log(e.data.paySign),wx.requestPayment({timeStamp:e.data.timeStamp+"",nonceStr:e.data.nonceStr,package:e.data.package,signType:e.data.signType,paySign:e.data.paySign,success:function(e){wx.redirectTo({url:"../orderlist/orderlist"})},fail:function(e){console.log(e)}})}})}}); 
 			}); 	require("pages/pay/pay.js");
 		__wxRoute = 'pages/goods/goods';__wxRouteBegin = true; 	define("pages/goods/goods.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base,o=require("../../wxParse/wxParse"),a=require("../../utils/util.js");Page({data:{appId:t.globalData.config.appid,SERVER_BASE:t.globalData.config.base,currentTab:1,count:1,isshow:!1,typeIndex:0,showPrice:0,choicelist:[],choicename:"",commentList:[],commentCount:0,iscollect:!0,isload:!0,time:(new Date).getTime(),selectImg:""},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},showCart:function(){var o=t.globalData.userKey,a=this;wx.request({url:e+"Mobile/Order/getCartList",method:"GET",header:{"content-type":"application"},data:{userkey:o},success:function(t){t&&t.data&&t.data.total_price&&a.setData({cartNum:t.data.total_price.num})}})},getGoodsList:function(o,a){var s=this,i=this.data.isload;wx.getStorageSync("city").id,t.globalData.userKey;i&&(s.setData({isload:!1}),wx.request({url:e+"Mobile/Api/goodsRecom",method:"GET",header:{"content-type":"application"},data:{id:a},success:function(t){console.log("=========="),console.log(t);var e=0!=t.data.goodStatus,a=[];1==o&&(a=[]),1!=o&&(a=s.data.goodsList),e&&o++,s.setData({goodsList:a.concat(t.data.goods),storeList:t.data.shop,page:o,isload:e}),wx.hideNavigationBarLoading()}}))},toToGoods:function(t){var e=t.currentTarget.dataset.id;wx.redirectTo({url:"../goods/goods?id="+e})},onLoad:function(t){console.log(t);var e=t.id,s=this;this.getGoodsInfo(e,function(t){console.log(t.data.filter_spec),t.data.filter_spec=t.data.filter_spec||{},t.data.show_spec=[];for(var i in t.data.filter_spec)t.data.show_spec.push({name:i,value:t.data.filter_spec[i],selected:t.data.filter_spec[i][0].item_id});o.wxParse("imageText","html",t.data.goods_content,s,0),s.setData({goods:t.data,goodsid:e}),s.setSelectedName(),s.isCollectAlready(t.data);var c=t.data.filter_spec;a.isEmptyObject(c)||(s.setChoice(c),s.choicePrice(s.data.choicelist[0].item_id))}),this.getGoodsList(1,e),this.showCart(),this.getComment(e,function(t){s.setData({commentList:t.data.list.slice(0,2),commentCount:t.data.count})})},chooseImage:function(t){var e=t.currentTarget.dataset.images;wx.previewImage({current:"",urls:e})},bigImage:function(t){var e=t.currentTarget.dataset.images+"",o=[e];wx.previewImage({current:e,urls:o})},getComment:function(t,o){wx.request({url:e+"Mobile/goods/getComment",method:"GET",header:{"content-type":"application"},data:{goods_id:t,commentType:1,p:1},success:function(t){console.log(t),o&&o(t)}})},showBuy:function(){this.setData({isshow:!0})},getGoodsInfo:function(t,o){wx.request({url:e+"Mobile/Api/goodsInfo",method:"GET",header:{"content-type":"application"},data:{id:t},success:function(t){o&&o(t)}})},getSpecParam:function(){for(var t,e=[],o=this.data.goods.show_spec,a=0;t=o[a];++a){e.push(t.name+",");for(var s,i=0;s=t.value[i];++i)s.item_id==t.selected&&(console.log(s),e.push(s.item_id));a!=o.length-1&&e.push("|")}return e.join("")},buyShow:function(){if(this.data.isshow){var o=t.globalData.userKey,a=this,s=this.data.choicelist,i=a.data.count,c=this.data.goodsid,n=(s.length>0&&(a.data.choicename,s[a.data.typeIndex].item_id),a.getSpecParam());i>=1?wx.request({url:e+"Mobile/Order/AddCarts",method:"GET",header:{"content-type":"application"},data:{userkey:o,goods_id:c,goods_num:i,goods_spec:n},success:function(t){console.log(t),1*t.data.error==0?(wx.showToast({title:"添加成功",icon:"success",duration:1e3}),a.showCart(),a.setData({isBuy:!0})):-401!=t.data.status&&"商品库存不足"!=t.data.msg||wx.showModal({title:"提示",content:"商品库存不足",showCancel:!1,success:function(t){}}),a.setData({isshow:!1})},fail:function(t){}}):wx.showModal({title:"提示",content:"请选择购买数量",showCancel:!1,success:function(t){}})}else this.setData({isshow:!0})},nowBuy:function(){var o=this.data.isshow;if(console.log(o),o){var a=t.globalData.userKey,s=this,i=(this.data.choicelist,s.data.count),c=this.data.goodsid,n=s.getSpecParam();i>=1?wx.request({url:e+"Mobile/Order/confirmOrderNow",method:"GET",header:{"content-type":"application"},data:{userkey:a,goods_id:c,goods_num:i,goods_spec:n},success:function(t){console.log(t),0==t.data.error?wx.navigateTo({url:"../orderform/orderform?goodsid="+c+"&num="+i+"&spec="+n}):-401==t.data.status||"商品库存不足"==t.data.s?wx.showModal({title:"提示",content:"商品库存不足",showCancel:!1,success:function(t){}}):-101!=t.data.status&&-122!=t.data.status||wx.navigateTo({url:"../address/address?first=yes"}),s.setData({isshow:!1})}}):wx.showModal({title:"提示",content:"请选择购买数量",showCancel:!1,success:function(t){}})}else this.setData({isshow:!0})},changeTab:function(t){this.setData({currentTab:t.target.dataset.tab||1})},buyHide:function(){this.setData({isshow:!1})},goodsReduce:function(){var t=this.data.count;t=--t<0?0:t,this.setData({count:t})},goodsIncrease:function(){var t=this.data.count;t++,this.setData({count:t})},setChoice:function(t){var e={name:[],list:[]};if(t)for(var o in t)e.name.push(o),e.list.push(t[o]);this.setData({choicename:e.name[0],choicelist:e.list[0]})},choiceType:function(t){var e=t.currentTarget.dataset.itemid,o=t.currentTarget.dataset.itemname,a=this.data.goods.show_spec,s=t.currentTarget.dataset.img;console.log(s.length,"img"),console.log(t,"e");var i=this;s.length>=45&&i.setData({selectImg:s});for(var c,n=0;c=a[n];++n)c.name==o&&(a[n].selected=e);this.setData(this.data),this.choicePrice(),this.setSelectedName()},setSelectedName:function(){for(var t,e=this.data.goods.show_spec,o=[],a=0;t=e[a];++a){o.push(t.name+":");for(var s,i=0;s=t.value[i];++i)s.item_id==t.selected&&(console.log(s),o.push(s.item));o.push("; ")}this.setData({selectedName:o.join("")})},choicePrice:function(){for(var t,e=JSON.parse(this.data.goods.spec_goods_price),o=0,a=this.data.goods.show_spec,s=[],i=0;t=a[i];++i)s.push(t.selected);o=1*e[s=s.join("_")].price,console.log(e),console.log(o),this.setData({showPrice:o})},toCart:function(){wx.switchTab({url:"../cart/cart"})},toCommentList:function(){var t=this.data.goodsid;wx.navigateTo({url:"../commentinfo/commentinfo?id="+t})},isCollectAlready:function(t){var e=this,o=wx.getStorageSync("record_list")||[],a=t;o.length>0&&o.some(function(t,e){return t.goods_id==a.goods_id})&&(e.addCollect(),console.log(e.data.iscollect))},setRecord:function(t){var e=wx.getStorageSync("record_list")||[],o=t;e.length>0?e.some(function(t,e){return t.goods_id==o.goods_id})||e.push(o):e.push(o),wx.setStorageSync("record_list",e)},delRecord:function(t){var e=this,o=wx.getStorageSync("record_list")||[],a=t;o.length>0&&o.some(function(t,e){return t.goods_id==a.goods_id})&&(o.pop(a),e.delCollect()),wx.setStorageSync("record_list",o)},tocollect:function(){var t=this,e=this.data.iscollect;e?(t.setRecord(t.data.goods),t.setData({iscollect:!1}),wx.showToast({title:"收藏成功",icon:"success",duration:2e3})):e||(t.setData({iscollect:!0}),t.delRecord(t.data.goods),wx.showToast({title:"取消收藏",icon:"success",duration:2e3}))},addCollect:function(){this.setData({iscollect:!1})},delCollect:function(){this.setData({iscollect:!0})}}); 
 			}); 	require("pages/goods/goods.js");
 		__wxRoute = 'pages/goodslist/goodslist';__wxRouteBegin = true; 	define("pages/goodslist/goodslist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.config.base,o=!1,e={store:"store",category:"category"};Page({data:{order:{text:"默认排序",number:2,show:!1,page:1},goodsList:[],page:1,isLoad:!0},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){(t=t||{}).entrance=t.entrance||e.category;var a=t.entrance;a==e.store?this.setData({storeId:parseInt(t.id)}):a==e.category&&this.setData({categoryId:parseInt(t.id)}),this.getListinfo(this.data.page)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},loadMore:function(){o||(o=!0,this.getListinfo(this.data.page))},switchOrder:function(){var t=this.data.order;t.show=!t.show,this.setData({order:t})},orderHide:function(t){var a=t.currentTarget.dataset.order,o=this.data.order;1==a?(o.text="价格从高到低",o.number=1):0==a?(o.text="价格从低到高",o.number=0):2==a&&(o.text="按时间最新",o.number=2),o.show=!1,this.setData({order:o,page:1,goodsList:[],isLoad:!0});var e=this.data.page;this.getListinfo(e)},getListinfo:function(t){var e=this,i=this.data.order.number,s=this.data.isLoad,r=this.data.storeId,n=this.data.categoryId,d={sort:i,page:t};r?(d.catid="",d.shop_id=r):n&&(d.catid=n,d.shop_id=""),s&&(wx.showNavigationBarLoading(),wx.request({url:a+"Mobile/Api/goodsList",method:"GET",header:{"content-type":"application"},data:d,success:function(a){o=!1;var i=[];0==t?e.setData({goodsList:[]}):i=e.data.goodsList,t++,console.log(a),e.setData({goodsList:i.concat(a.data.goods),page:t,isLoad:1==a.data.goodStatus}),wx.hideNavigationBarLoading()},fail:function(){o=!1}}))},toToGoods:function(t){var a=t.currentTarget.dataset.id;wx.navigateTo({url:"../goods/goods?id="+a})}}); 
 			}); 	require("pages/goodslist/goodslist.js");
 		__wxRoute = 'pages/city/city';__wxRouteBegin = true; 	define("pages/city/city.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base;Page({data:{scorllId:"C"},onLoad:function(t){this.getCity()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},getCity:function(){var t=this;wx.request({url:e+"Mobile/Api/codeCity",method:"GET",header:{"content-type":"application"},success:function(e){console.log(e),t.setData({city:{all:t.processCity(e.data.all),hot:e.data.hot}})}})},processCity:function(t){var e=[];for(var n in t){var a={letter:n,city:t[n]};e.push(a)}return e},scrollIntoCity:function(t){var e=t.currentTarget.dataset.id;console.log(e),this.setData({scorllId:""+e})},getCityId:function(t){t.currentTarget.dataset.id},setCity:function(e){var n=e.currentTarget.dataset.city,a={name:n.name,id:n.id};wx.setStorageSync("city",a),t.refreshHome=!0,wx.switchTab({url:"../index/index"})},setCityTwo:function(e){var n={name:e.currentTarget.dataset.name,id:e.currentTarget.dataset.id};wx.setStorageSync("city",n),t.refreshHome=!0,wx.switchTab({url:"../index/index"})},onPullDownRefresh:function(){wx.stopPullDownRefresh()}}); 
 			}); 	require("pages/city/city.js");
 		__wxRoute = 'pages/store/store';__wxRouteBegin = true; 	define("pages/store/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.config.base;Page({data:{storeList:[],page:1,isLoad:!0},onLoad:function(t){},onReady:function(){this.getStoreList(this.data.page)},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},getStoreList:function(t){var o=this;this.data.isLoad&&(o.setData({isLoad:!1}),wx.request({url:a+"Mobile/Api/shopList",method:"GET",header:{"content-type":"application"},data:{page:t},success:function(a){var e=1==a.data.shopStatus,i=[];1!==t&&(i=o.data.storeList),e&&t++,o.setData({storeList:i.concat(a.data.goods),isLoad:e,page:t})}}))},loadMore:function(){this.getStoreList(this.data.page)},toIndex:function(){wx.redirectTo({url:"../city/city"})},toGoodsList:function(t){var a=t.currentTarget.dataset.id;wx.navigateTo({url:"../shop/shop?id="+a+"&entrance=store"})}}); 
 			}); 	require("pages/store/store.js");
 		__wxRoute = 'pages/join/join';__wxRouteBegin = true; 	define("pages/join/join.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),n=t.globalData.config.base;Page({data:{isShow:!1,etitInfo:{shop:"",info:"",name:"",phone:""},canScroll:!0,classList:[],typeIndex:0,isConsent:!0},onLoad:function(t){var n=this;wx.getSystemInfo({success:function(t){n.setData({clientHeight:t.windowHeight})}})},onReady:function(){this.getClass()},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/join/join",success:function(t){},fail:function(t){}}},switchConsent:function(){var t=this.data.isConsent;this.setData({isConsent:!t})},agreementShow:function(){console.log("1"),this.setData({isShow:!0})},agreementHide:function(){this.setData({isShow:!1})},getClass:function(){var t=this;wx.request({url:n+"Mobile/Api/getshopClass",method:"GET",header:{"content-type":"application"},success:function(n){t.setData({classList:n.data.data})}})},choiceType:function(t){var n=t.detail.value;this.setData({typeIndex:n})},editAddinfo:function(t){var n=t.currentTarget.dataset.type,e=this.data.etitInfo,s=t.detail.value;e[n]=s,this.setData({etitInfo:e})},submit:function(){var t=/^1(3|4|5|7|8)\d{9}$/,e=this.data.etitInfo.shop,s=this.data.classList[this.data.typeIndex].id,o=this.data.etitInfo.info,a=this.data.etitInfo.name,i=this.data.etitInfo.phone,c=this.data.isConsent;console.log("============数据",c),c?e&&s&&o&&a&&t.test(i)?wx.request({url:n+"Mobile/Api/addStoreApply",method:"GET",header:{"content-type":"application"},data:{act:"add",shop_name:e,shop_class:s,shop_contact:a,shop_mobile:i,shop_desc:o},success:function(t){"添加成功"!=t.data.data&&0!=t.data.error||wx.showToast({title:"申请成功",icon:"success",duration:3e3,success:function(){setTimeout(function(){wx.navigateBack({url:"../user/user?consent=isConsent"})},2e3)}})}}):wx.showModal({title:"提示",content:"输入的信息有误",showCancel:!1,success:function(t){}}):wx.showModal({title:"提示",content:"请同意申请协议",showCancel:!1,success:function(t){}})}}); 
 			}); 	require("pages/join/join.js");
 		__wxRoute = 'pages/address/address';__wxRouteBegin = true; 	define("pages/address/address.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var e=getApp(),i=e.globalData.config.base;Page({data:{province:[{id:0,name:"请选择省份",level:1,parent_id:0}],city:[{id:0,name:"请选择城市",level:2,parent_id:1}],district:[{id:0,name:"请选择区域",level:3,parent_id:2}],street:[{id:0,name:"请选择街道",level:4,parent_id:3}],addressInfo:{province:{index:0,id:0},city:{index:0,id:0},district:{index:0,id:0},street:{index:0,id:0},iphone:"",name:"",address:"",isDefault:!0},isDefault:!0},onLoad:function(t){console.log(t);var e=this;t.first&&this.setData({first:!0}),this.setData({addressId:t.id?t.id:0}),this.setAddress(0,"province",function(){t.id&&e.fillAddress(t.id)})},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onReady:function(){},onShow:function(){},changeDefault:function(){var t=this.data.addressInfo.isDefault,e=this.data.addressInfo;t?(this.data.addressInfo.isDefault=!1,this.setData({addressInfo:e})):(this.data.addressInfo.isDefault=!0,this.setData({addressInfo:e}))},choiceAddress:function(t){var e=this,i=t.currentTarget.dataset.setname,d=t.detail.value,s=e.data.addressInfo;if("province"==i){var a=e.data.province[d].id;s[i].id=e.data.province[d].id,s[i].index=d,e.setAddress(a,"city",function(){s.city.id=e.data.city[0].id,s.city.index=0;var t=e.data.city[0].id;e.setAddress(t,"district",function(){s.district.id=e.data.district[0].id,s.district.index=0;var t=e.data.district[0].id;e.setAddress(t,"street",function(){s.street.id=e.data.street[0].id,s.street.index=0,e.setData({addressInfo:s})})})})}else if("city"==i){s[i].id=e.data.city[d].id,s[i].index=d;var r=e.data.city[d].id;e.setAddress(r,"district",function(){s.district.id=e.data.district[0].id,s.district.index=0;var t=e.data.district[0].id;e.setAddress(t,"street",function(){s.street.id=e.data.street[0].id,s.street.index=0,e.setData({addressInfo:s})})})}else if("district"==i){var n=e.data.district[d].id;s[i].id=e.data.district[d].id,s[i].index=d,e.setAddress(n,"street",function(){s.street.id=e.data.street[0].id,s.street.index=0,e.setData({addressInfo:s})})}else"street"==i&&(s[i].id=e.data.street[d].id,s[i].index=d,e.setData({addressInfo:s}))},setAddress:function(e,d,s){var a=this;wx.request({url:i+"Mobile/Api/getRegion?parent_id="+e,method:"GET",header:{"content-type":"application"},success:function(e){a.setData(t({},d,e.data)),s&&s()}})},fillAddress:function(t){var d=e.globalData.userKey,s=this;console.log(8899),wx.request({url:i+"Mobile/UserApi/address_list",method:"GET",header:{"content-type":"application"},data:{userkey:d},success:function(e){var i=e.data.filter(function(e,i){return e.address_id.toString()===t.toString()})[0];i.name=i.consignee,i.iphone=i.mobile,s.setData({addressInfo:i,isDefault:i.isDefault});var d=i.province,a=i.city,r=i.district,n=i.twon;i.province={};s.data.province.filter(function(t,e){if(t.id===d)return i.province.id=t.id,i.province.index=e,t.id===d})[0];i.province.index=i.province.index||0,s.setAddress(d,"city",function(){i.city={};s.data.city.filter(function(t,e){if(t.id===a)return i.city.id=t.id,i.city.index=e,t.id===a})[0];s.setAddress(a,"district",function(){i.district={};s.data.district.filter(function(t,e){if(t.id===r)return i.district.id=t.id,i.district.index=e,t.id===r})[0];s.setAddress(r,"street",function(){i.street={};s.data.street.filter(function(t,e){if(t.id===n)return i.street.id=t.id,i.street.index=e,t.id===n})[0];s.setData({addressInfo:i})})})})}})},inputInfo:function(t){var e=t.currentTarget.dataset.name,i=this.data.addressInfo;i[e]=t.detail.value,this.setData({addressInfo:i})},submitAddress:function(){var t=/^1[3|4|5|7|8|9]{1}(\d+){9}$/,d=e.globalData.userKey,s=this,a=this.data.addressInfo,r=a.province.id,n=a.city.id,o=a.district.id,c=a.street.id,u=a.name,f=a.iphone,l=a.address,p=a.isDefault;if(c=void 0===c?"":c,console.log(111),this.data.addressId&&0!=this.data.addressId){var v=this.data.addressId;t.test(f)&&l&&u&&wx.request({url:i+"/Mobile/UserApi/edit_address_deal",method:"GET",header:{"content-type":"application"},data:{id:v,userkey:d,consignee:u,country:1,province:r,city:n,district:o,twon:c,address:l,mobile:f,zipcode:"",is_default:p?1:0},success:function(t){0==t.data.error?wx.redirectTo({url:"../addressbook/addressbook"}):wx.showModal({title:"提示",content:"修改失败",showCancel:!1,success:function(t){}})}})}else t.test(f)&&l&&u?wx.request({url:i+"Mobile/UserApi/add_address",method:"GET",header:{"content-type":"application"},data:{userkey:d,consignee:u,country:1,province:r,city:n,district:o,twon:c,address:l,mobile:f,zipcode:"",is_default:p?1:0},success:function(t){var e=s.data.first;e?wx.navigateBack():0!=t.data.error&&"添加成功"!=t.data.msg||e?wx.showModal({title:"提示",content:"添加失败",showCancel:!1,success:function(t){}}):wx.redirectTo({url:"../addressbook/addressbook"})}}):wx.showModal({title:"提示",content:"请输入正确信息",showCancel:!1,success:function(t){}})}}); 
 			}); 	require("pages/address/address.js");
 		__wxRoute = 'pages/addressbook/addressbook';__wxRouteBegin = true; 	define("pages/addressbook/addressbook.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),t=e.globalData.config.base;Page({data:{addRessList:[],deleteIndex:0},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(e){this.getAddressInfo()},onReady:function(){},onShow:function(){},toAddress:function(e){var t="";t="edit"==e.currentTarget.dataset.name?"../address/address?id="+this.data.addRessList[e.currentTarget.dataset.index].address_id:"../address/address",wx.redirectTo({url:t})},deleteAddress:function(t){var a=t.currentTarget.dataset.index,s=this,d=e.globalData.userKey,i=s.data.addRessList[a].address_id;wx.showActionSheet({itemList:["确认删除"],success:function(e){0==e.tapIndex&&s.deleteRequest(d,i,function(e){if("删除地址成功"==e.data.data||0==e.data.error){var t=s.data.addRessList;t.splice(a,1),s.setData({addRessList:t}),s.getAddressInfo()}})},fail:function(e){}})},getAddressInfo:function(){var a=e.globalData.userKey,s=this;wx.request({url:t+"Mobile/UserApi/address_list",method:"GET",header:{"content-type":"application"},data:{userkey:a},success:function(e){s.setData({addRessList:e.data})}})},deleteRequest:function(e,a,s){wx.request({url:t+"/Mobile/UserApi/del_address",method:"GET",header:{"content-type":"application"},data:{userkey:e,id:a},success:function(e){s&&s(e)}})},setDefault:function(a){var s=a.currentTarget.dataset.index,d=this,i=e.globalData.userKey,r=d.data.addRessList[s].address_id;wx.request({url:t+"Mobile/UserApi/set_default",method:"GET",header:{"content-type":"application"},data:{userkey:i,id:r},success:function(e){if(console.log(e),0==e.data.error){var t=d.data.addRessList;t.forEach(function(e,t){e.is_default=t!=s?0:1}),d.setData({addRessList:t})}}})}}); 
 			}); 	require("pages/addressbook/addressbook.js");
 		__wxRoute = 'pages/orderform/orderform';__wxRouteBegin = true; 	define("pages/orderform/orderform.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t=a.globalData.config.base;Page({data:{address:{},goodsList:[]},onShareAppMessage:function(){return{title:a.globalData.config.title,path:"/pages/orderform/orderform",data:{data:data},success:function(a){},fail:function(a){}}},onLoad:function(a){if(a.goodsid){var t={goodsid:a.goodsid,num:a.num,spec:a.spec};this.setData({buyInfo:t})}},onReady:function(){},toaddressbook:function(){wx.navigateTo({url:"../addressbook/addressbook?first=yes"})},onShow:function(){var a=this,t=this.data.buyInfo;t?a.getBuyinfo(t.goodsid,t.num,t.spec,function(t){var e=t.data.address,s=[],o=t.data.shipping_fee,d=t.data.total_price.total_fee+t.data.shipping_fee,r=t.data.total_price;s.push(t.data.cartList);for(var i=0;i<e.length;i++)if(1==e[i].is_default){a.setData({totalPrice:r,goodsList:s,address:e[i],freight:o,sum:d});break}}):this.getOrderform()},onHide:function(){},onUnload:function(){},getOrderform:function(){var e=a.globalData.userKey,s=this;wx.request({url:t+"Mobile/Order/confirmOrder",method:"GET",header:{"content-type":"application"},data:{userkey:e,Address_id:""},success:function(a){if(console.log("duoge",a),1==a.data.error||-122==a.data.status)wx.navigateTo({url:"../address/address?first=yes"});else{var t=a.data.cartList;t.forEach(function(a,e){0==a.selected&&t.splice(e,1)}),s.setData({address:a.data.address[0],goodsList:t,totalPrice:a.data.total_price,freight:a.data.shipping_fee,sum:a.data.total_price.total_fee+a.data.shipping_fee})}}})},submit:function(){var e=this,s=a.globalData.userKey,o=this.data.buyInfo;o?wx.request({url:t+"Mobile/Order/cartnow3",method:"GET",header:{"content-type":"application"},data:{userkey:s,act:"submit_order",t:Math.random(),address_id:e.data.address.address_id,shipping_code:"shentong",goods_id:o.goodsid,goods_num:o.num,goods_spec:o.spec},success:function(a){if(console.log(a),1==a.data.status&&a.data.result){var t=a.data.result;wx.redirectTo({url:"../pay/pay?id="+t})}}}):wx.request({url:t+"Mobile/Order/cart3",method:"GET",header:{"content-type":"application"},data:{userkey:s,act:"submit_order",t:Math.random(),address_id:e.data.address.address_id,shipping_code:"shentong"},success:function(a){if(console.log(a),1==a.data.status&&a.data.result){var t=a.data.result;wx.redirectTo({url:"../pay/pay?id="+t})}}})},getBuyinfo:function(e,s,o,d){var r=a.globalData.userKey;wx.request({url:t+"Mobile/Order/confirmOrderNow",method:"GET",header:{"content-type":"application"},data:{userkey:r,goods_id:e,goods_num:s,goods_spec:o},success:function(a){0==a.data.error&&d&&d(a)}})}}); 
 			}); 	require("pages/orderform/orderform.js");
 		__wxRoute = 'pages/orderlist/orderlist';__wxRouteBegin = true; 	define("pages/orderlist/orderlist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base;Page({data:{isLoad:!0,orderList:[],page:1,orderType:""},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){var e=t.type;this.setData({orderType:e})},onReady:function(){},onShow:function(){this.getOrderList(1)},onHide:function(){},onUnload:function(){},getOrderList:function(a){var o=t.globalData.userKey,r=this.data.isLoad,i=a,n=this.data.orderType,d=this;r&&(wx.showNavigationBarLoading(),d.setData({isLoad:!1}),wx.request({url:e+"Mobile/UserApi/order_list",method:"GET",header:{"content-type":"application"},data:{userkey:o,type:n,p:i},success:function(t){console.log("============="),console.log(t);var e=[];1==i?(e=t.data.order_list,i++):r&&(e=d.data.orderList.concat(t.data.order_list),i++),d.setData({orderList:e,isLoad:1==t.data.orderStatus,page:i}),wx.hideNavigationBarLoading()}}))},toOderInfo:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"../orderinfo/orderinfo?id="+e})},toComment:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"../comment/comment?orderId="+e})},handoverType:function(t){var e=t.currentTarget.dataset.type;this.setData({orderType:e,isLoad:!0,page:1}),this.getOrderList(1)},loadMore:function(){var t=this.data.page;this.getOrderList(t)},toIndex:function(){wx.switchTab({url:"../index/index"})}}); 
 			}); 	require("pages/orderlist/orderlist.js");
 		__wxRoute = 'pages/orderinfo/orderinfo';__wxRouteBegin = true; 	define("pages/orderinfo/orderinfo.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),t=e.globalData.config.base;Page({data:{},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(e){var t=e.id;this.getOrderInfo(t)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},toaftersale:function(e){var t=e.currentTarget.dataset,o="../aftersale/aftersale?speckey="+t.speckey+"&goodid="+t.goodid+"&ordersn="+t.ordersn+"&orderid="+t.orderid;console.log(o),wx.redirectTo({url:o})},getOrderInfo:function(o){var a=e.globalData.userKey,r=this;wx.request({url:t+"Mobile/UserApi/order_detail",method:"GET",header:{"content-type":"application"},data:{userkey:a,id:o},success:function(e){r.setData({orderInfo:e.data})}})},cancel:function(){var o=e.globalData.userKey,a=this.data.orderInfo.order_id;wx.showActionSheet({itemList:["确认删除"],success:function(e){0==e.tapIndex&&wx.request({url:t+"Mobile/UserApi/cancel_order",method:"GET",header:{"content-type":"application"},data:{userkey:o,id:a},success:function(e){0==e.data.error&&(wx.showToast({title:"删除成功",icon:"success",duration:1e3}),wx.navigateBack())}})},fail:function(e){console.log(e.errMsg)}})},pay:function(){var e=this.data.orderInfo.order_id;console.log(e),wx.redirectTo({url:"../pay/pay?id="+e})},sure:function(){var o=e.globalData.userKey,a=this.data.orderInfo.order_id;wx.request({url:t+"Mobile/UserApi/order_confirm",method:"GET",header:{"content-type":"application"},data:{userkey:o,id:a},success:function(e){0==e.data.error&&wx.showToast({title:"确认成功",icon:"success",duration:1e3})}})}}); 
 			}); 	require("pages/orderinfo/orderinfo.js");
 		__wxRoute = 'pages/comment/comment';__wxRouteBegin = true; 	define("pages/comment/comment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var t,o=getApp(),a=o.globalData.config.base;Page((t={data:{imageList:[],uploadIng:[],comment:"",isComplete:!0},onLoad:function(e){var t=e.orderId;this.getGoods(t)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:o.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},getGoods:function(e){var t=o.globalData.userKey,n=this;wx.request({url:a+"Mobile/UserApi/getCommentGoods",method:"GET",header:{"content-type":"application"},data:{userkey:t,rec_id:e},success:function(e){n.setData({goods:e.data})}})},delImage:function(e){var t=e.currentTarget.dataset.showimgurl,o=e.currentTarget.dataset.dataimgurl,a=this,n=a.data.imageList,i=a.data.uploadIng,s=[],c=[];for(var d in n)t!==n[d]&&s.push(n[d]);for(var d in i)o!==i[d]&&c.push(i[d]);a.setData({imageList:s}),a.setData({uploadIng:c})},chooseImage:function(){var e=this;console.log("chooseImage"),e.data.uploadIng.length>=4||wx.chooseImage({count:4,sizeType:["compressed"],sourceType:["album"],success:function(t){var o=t.tempFilePaths,n=e.data.imageList||[];n.push(o[0]),e.setData({imageList:n}),o.forEach(function(t,o){e.setData({isComplete:!1}),wx.uploadFile({url:a+"Mobile/Api/uploadfile",filePath:t,name:"file",formData:{act:"comment"},success:function(t){var o=t.data,a=e.data.uploadIng;a.push(o),e.setData({uploadIng:a,isComplete:!0})}})})}})},submit:function(){var t=o.globalData.userKey,n=this.data.goods.goods_id,i=this.data.goods.order_id,s=this.data.uploadIng.join(","),c=this.data.comment;if(this.data.isComplete){var d;wx.request({url:a+"Mobile/UserApi/add_comment",method:"GET",header:{"content-type":"application"},data:(d={userkey:t,goods_id:n,order_id:i,content:i,img:s},e(d,"content",c),e(d,"hide_username",0),d),success:function(e){console.log("测试",e),0==e.data.error?wx.showModal({title:"商品评论",content:"评论成功",success:function(e){e.confirm?(console.log("用户点击确定"),setTimeout(function(){wx.navigateBack()},3e3)):e.cancel&&console.log("用户点击取消")}}):1==e.data.error&&"您已经评论过该商品"==e.data.msg&&wx.showModal({title:"商品评论",content:"您已经评论过该商品",success:function(e){e.confirm?(console.log("用户点击确定"),setTimeout(function(){wx.navigateBack()},3e3)):e.cancel&&console.log("用户点击取消")}})}})}}},e(t,"submit",function(){var t=o.globalData.userKey,n=this.data.goods.goods_id,i=this.data.goods.order_id,s=this.data.uploadIng.join(","),c=this.data.comment;if(this.data.isComplete){var d;wx.request({url:a+"Mobile/UserApi/add_comment",method:"GET",header:{"content-type":"application"},data:(d={userkey:t,goods_id:n,order_id:i,content:i,img:s},e(d,"content",c),e(d,"hide_username",0),d),success:function(e){console.log("测试",e),0==e.data.error?wx.showModal({title:"商品评论",content:"评论成功",success:function(e){e.confirm?(console.log("用户点击确定"),setTimeout(function(){wx.navigateBack()},3e3)):e.cancel&&console.log("用户点击取消")}}):1==e.data.error&&"您已经评论过该商品"==e.data.msg&&wx.showModal({title:"商品评论",content:"您已经评论过该商品",success:function(e){e.confirm?(console.log("用户点击确定"),setTimeout(function(){wx.navigateBack()},3e3)):e.cancel&&console.log("用户点击取消")}})}})}}),e(t,"editComment",function(e){var t=e.detail.value;this.setData({comment:t})}),t)); 
 			}); 	require("pages/comment/comment.js");
 		__wxRoute = 'pages/commentlist/commentlist';__wxRouteBegin = true; 	define("pages/commentlist/commentlist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.config.base;Page({data:{commentList:[],isload:!0,page:1,type:"待评论"},onLoad:function(t){this.getComment(this.data.page)},onReady:function(){},onShow:function(){this.setData({page:1,type:"待评论"}),this.getComment(this.data.page)},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},getComment:function(e){var n=t.globalData.userKey,o=this,i=this.data.type;switch(i){case"待评论":i=0;break;case"已评论":i=1}if(this.data.isload){var s=this.data.page;o.setData({isload:!1}),wx.request({url:a+"Mobile/UserApi/comment",method:"GET",header:{"content-type":"application"},data:{userkey:n,status:i,page:s},success:function(t){var a=[];0!=t.data.orderStatus&&s++,1!=s&&(a=o.data.commentList),o.setData({commentList:a.concat(t.data.result)})}})}},toComment:function(t){var a=t.currentTarget.dataset.goods.rec_id;wx.navigateTo({url:"../comment/comment?order="+a})},handoverType:function(t){var a=t.currentTarget.dataset.type;this.setData({type:a,page:1,isload:!0}),this.getComment(this.data.page)},loadMore:function(){this.getComment(this.data.page)},toIndex:function(){wx.switchTab({url:"../index/index"})}}); 
 			}); 	require("pages/commentlist/commentlist.js");
 		__wxRoute = 'pages/commentinfo/commentinfo';__wxRouteBegin = true; 	define("pages/commentinfo/commentinfo.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var a,e=getApp(),o=e.globalData.config.base;Page((a={data:{isload:!0,page:1,commentList:[]},onLoad:function(t){this.setData({goodsid:t.id}),this.getComment(this.data.page)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}}},t(a,"onShareAppMessage",function(){}),t(a,"getComment",function(t){var a=this;this.data.isload&&(wx.showNavigationBarLoading(),a.setData({isload:!1}),wx.request({url:o+"Mobile/goods/getComment",method:"GET",header:{"content-type":"application"},data:{goods_id:a.data.goodsid,commentType:1,p:t},success:function(e){console.log(e.data.list);var o=0!=e.data.orderStatus,n=[];1!=t&&(n=a.data.goodsList),o&&t++,a.setData({commentList:n.concat(e.data.list),page:t,isload:o}),wx.hideNavigationBarLoading()}}))}),t(a,"chooseImage",function(t){var a=t.currentTarget.dataset.images;wx.previewImage({current:"",urls:a})}),t(a,"loadMore",function(){this.getComment(this.data.page)}),a)); 
 			}); 	require("pages/commentinfo/commentinfo.js");
 		__wxRoute = 'pages/search/search';__wxRouteBegin = true; 	define("pages/search/search.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";function t(t,a,o){return a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}var a,o=getApp(),e=o.globalData.config.base;Page((a={data:{goodsList:[],page:1,isLoad:!0},onShareAppMessage:function(){return{title:o.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){this.setData({searchVal:t.search})},onReady:function(){this.getSearchResult(this.data.page)},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){}},t(a,"onShareAppMessage",function(){}),t(a,"onReachBottom",function(){}),t(a,"onPullDownRefresh",function(){}),t(a,"getSearchResult",function(t){var a=this.data.searchVal,o=t,n=this;this.data.isLoad&&(n.setData({isLoad:!1}),wx.request({url:e+"Mobile/Api/searchGoodsList",method:"GET",header:{"content-type":"application"},data:{search:a,page:o,sort:2},success:function(a){var e=a.data.goods,i=1==a.data.goodStatus,s=n.data.goodsList,c=[];c=1==t?e:s.concat(e),i&&o++,n.setData({goodsList:c,isLoad:i,page:o})}}))}),t(a,"loadMore",function(){console.log("1"),this.getSearchResult(this.data.page)}),t(a,"toToGoods",function(t){var a=t.currentTarget.dataset.id;wx.navigateTo({url:"../goods/goods?id="+a})}),a)); 
 			}); 	require("pages/search/search.js");
 		__wxRoute = 'pages/aftersale/aftersale';__wxRouteBegin = true; 	define("pages/aftersale/aftersale.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),t=e.globalData.config.base;Page({data:{imageList:[],uploadIng:[],comment:"",isComplete:!0,typelist:["退款","换货"],province:[{id:0,name:"请选择省份",level:1,parent_id:0}],type:0},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(e){var t=this;a.getReturnGood(t,e)},onReady:function(){},onShow:function(){this.getAftersale()},onHide:function(){},onUnload:function(){},getAftersale:function(){var e=this;wx.request({url:t+"Mobile/Api/AfterSaleList",method:"GET",header:{"content-type":"application"},success:function(t){console.log(t),e.setData({explain:t.data})}})},editComment:function(e){var t=e.detail.value;this.setData({comment:t})},changeType:function(e){var t=e.detail.value/1;this.setData({type:t})},submit:function(){var a={subtype:"submit_return",userkey:e.globalData.userKey,order_id:this.data.param.order_id,order_sn:this.data.param.order_sn,goods_id:this.data.param.goods_id,img:this.data.uploadIng.join(","),type:this.data.type,reason:this.data.comment,spec_key:this.data.param.spec_key};wx.request({url:t+"index.php/Mobile/UserApi/return_goods",method:"GET",header:{"content-type":"application"},data:a,success:function(e){0==e.data.error&&"申请成功,客服第一时间会帮你处理"==e.data.data?wx.showModal({title:"退货申请",content:"申请成功,客服第一时间会帮你处理",success:function(e){e.confirm?(console.log("用户点击确定"),setTimeout(function(){wx.navigateBack()},2e3)):e.cancel&&console.log("用户点击取消")}}):1==e.data.error&&"已经提交过退货申请"==e.data.data&&wx.showModal({title:"退货申请",content:"您已经提交过退货申请",success:function(e){e.confirm?(console.log("用户点击确定"),setTimeout(function(){wx.navigateBack()},2e3)):e.cancel&&console.log("用户点击取消")}})}})},delImage:function(e){var t=e.currentTarget.dataset.showimgurl,a=e.currentTarget.dataset.dataimgurl,o=this,n=o.data.imageList,i=o.data.uploadIng,s=[],r=[];for(var d in n)t!==n[d]&&s.push(n[d]);for(var d in i)a!==i[d]&&r.push(i[d]);o.setData({imageList:s}),o.setData({uploadIng:r})},chooseImage:function(){var e=this;console.log("chooseImage"),wx.chooseImage({count:3,sizeType:["compressed"],sourceType:["album"],success:function(a){var o=a.tempFilePaths,n=e.data.imageList||[];n.push(o[0]),e.setData({imageList:n}),o.forEach(function(a,o){e.setData({isComplete:!1}),wx.uploadFile({url:t+"Mobile/Api/uploadfile",filePath:a,name:"file",formData:{act:"comment"},success:function(t){var a=t.data,o=e.data.uploadIng;o.push(a),e.setData({uploadIng:o,isComplete:!0})}})})}})}});var a={getReturnGood:function(a,o){var n=t+"index.php/Mobile/UserApi/return_goods",i={userkey:e.globalData.userKey,order_id:o.orderid,order_sn:o.ordersn,goods_id:o.goodid,spec_key:o.speckey};wx.request({url:n,method:"GET",header:{"content-type":"application"},data:i,success:function(e){var t=e.data;a.setData({goods:t.goods,param:i})}})}}; 
 			}); 	require("pages/aftersale/aftersale.js");
 		__wxRoute = 'pages/express/express';__wxRouteBegin = true; 	define("pages/express/express.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base,a=require("../../wxParse/wxParse");Page({data:{},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){},onReady:function(){},onShow:function(t){this.getExpressList()},onHide:function(){},onUnload:function(){},getExpressList:function(){var t=this;wx.request({url:e+"Mobile/Api/ExpressList",method:"GET",header:{"content-type":"application"},success:function(e){for(var n=0;n<e.data.length;n++)console.log(e.data[n].content),a.wxParse("imageText","html",e.data[n].content,t,0);t.setData({expressList:e.data})}})}}); 
 			}); 	require("pages/express/express.js");
 		__wxRoute = 'pages/record/record';__wxRouteBegin = true; 	define("pages/record/record.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Page({data:{recordList:[]},onShareAppMessage:function(){return{title:app.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){},onReady:function(){},onShow:function(){this.getRecordList()},onHide:function(){},onUnload:function(){},getRecordList:function(){var t=wx.getStorageSync("record_list");this.setData({recordList:t})},toToGoods:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"../goods/goods?id="+e})},delRecord:function(t){var e=t.currentTarget.dataset.index,o=this,n=o.data.recordList[e],r=wx.getStorageSync("record_list")||[],i=n;r.length>0&&r.some(function(t,e){return t.goods_id==i.goods_id})&&(r.splice(e,1),o.setData({recordList:r}),wx.showToast({title:"删除成功"})),wx.setStorageSync("record_list",r)}}); 
 			}); 	require("pages/record/record.js");
 		__wxRoute = 'pages/discount/discount';__wxRouteBegin = true; 	define("pages/discount/discount.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";Page({data:{},onLoad:function(n){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}}); 
 			}); 	require("pages/discount/discount.js");
 		__wxRoute = 'pages/contact/contact';__wxRouteBegin = true; 	define("pages/contact/contact.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp().globalData.config.base;require("../../wxParse/wxParse");Page({data:{contact:{},calling:{}},onLoad:function(o){var t=this;wx.request({url:a+"/Mobile/Api/aboutUs",method:"GET",header:{"content-type":"application"},success:function(a){console.log(a),t.setData({contact:a.data,calling:a.data.mobile})}})},calling:function(){wx.makePhoneCall({phoneNumber:this.data.calling,success:function(a){console.log(a+"拨打电话成功！")},fail:function(a){console.log(a+"拨打电话失败！")}})}}); 
 			}); 	require("pages/contact/contact.js");
 		__wxRoute = 'pages/shopdetails/shopdetails';__wxRouteBegin = true; 	define("pages/shopdetails/shopdetails.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t=a.globalData.config.base;Page({data:{},onShareAppMessage:function(){return{title:a.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(a){var t=a.id;this.setData({shopId:t})},onReady:function(){},onShow:function(){var a=this;o.render(a)},onHide:function(){},onUnload:function(){},onmake:function(){wx.makePhoneCall({phoneNumber:this.data.detail.mobile})},toLocation:function(a){var t=this.data.detail.shop_coordinates.replace("，",",").split(",");console.log(t),wx.openLocation({latitude:t[0]/1,longitude:t[1]/1,scale:16})}});var o={render:function(a){var o=a.data.shopId;wx.request({url:t+"/Mobile/Api/shopInfo",method:"GET",header:{"content-type":"application"},data:{shop_id:o},success:function(t){console.log("============="),console.log(t);var o=t.data.data;a.setData({detail:o})}})}}; 
 			}); 	require("pages/shopdetails/shopdetails.js");
 		__wxRoute = 'pages/aftersalelist/aftersalelist';__wxRouteBegin = true; 	define("pages/aftersalelist/aftersalelist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.config.base;Page({data:{isLoad:!0,orderList:[],page:1,orderType:""},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(t){},onReady:function(){},onShow:function(){this.getList(1)},onHide:function(){},onUnload:function(){},getList:function(e){var n=t.globalData.userKey,i=this;wx.showNavigationBarLoading(),wx.request({url:a+"index.php/Mobile/UserApi/return_list",method:"GET",data:{userkey:n,page:1},header:{"content-type":"application"},success:function(t){console.log("============="),console.log(t);var a=[];1==e?(a=t.data.data,e++):(a=i.data.list.concat(t.data.data),e++),i.setData({list:a,page:e}),wx.hideNavigationBarLoading()}})},toInfo:function(t){var a=t.currentTarget.dataset.id;wx.navigateTo({url:"../aftersaledetail/aftersaledetail?id="+a})},toComment:function(t){var a=t.currentTarget.dataset.id;wx.navigateTo({url:"../comment/comment?orderId="+a})},handoverType:function(t){var a=t.currentTarget.dataset.type;this.setData({orderType:a,isLoad:!0,page:1}),this.getOrderList(1)},loadMore:function(){var t=this.data.page;this.getOrderList(t)},toIndex:function(){wx.switchTab({url:"../index/index"})}}); 
 			}); 	require("pages/aftersalelist/aftersalelist.js");
 		__wxRoute = 'pages/collectstore/collectstore';__wxRouteBegin = true; 	define("pages/collectstore/collectstore.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base;Page({data:{storeList:[],page:1,isLoad:!0},onLoad:function(t){},onReady:function(){this.getStoreList(this.data.page)},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},delShop:function(a){var o=a.currentTarget.dataset.id,n=this;wx.request({url:e+"Mobile/UserApi/cancle_shopcollect",method:"GET",header:{"content-type":"application"},data:{userkey:t.globalData.userKey,shop_id:o},success:function(t){n.getStoreList()}})},getStoreList:function(a){var o=this;wx.request({url:e+"Mobile/UserApi/shopcollectlist",method:"GET",header:{"content-type":"application"},data:{userkey:t.globalData.userKey},success:function(t){t&&t.data&&t.data.error>0||t.data.data,o.setData({storeList:t.data.data})},fail:function(){o.setData({storeList:[]})}})},loadMore:function(){this.getStoreList(this.data.page)},toIndex:function(){wx.redirectTo({url:"../city/city"})},toGoodsList:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"../shop/shop?id="+e+"&entrance=store"})}}); 
 			}); 	require("pages/collectstore/collectstore.js");
 		__wxRoute = 'pages/aftersaledetail/aftersaledetail';__wxRouteBegin = true; 	define("pages/aftersaledetail/aftersaledetail.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),t=e.globalData.config.base;Page({data:{imageList:[],uploadIng:[],comment:"",isComplete:!0,typelist:["退款","换货"],province:[{id:0,name:"请选择省份",level:1,parent_id:0}],type:0},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},onLoad:function(e){var t=this;a.getAftersaleDetail(t,e)},onReady:function(){},onShow:function(){this.getAftersale()},onHide:function(){},onUnload:function(){},getAftersale:function(){var e=this;wx.request({url:t+"Mobile/Api/AfterSaleList",method:"GET",header:{"content-type":"application"},success:function(t){console.log(t),e.setData({explain:t.data})}})},editComment:function(e){var t=e.detail.value;this.setData({comment:t})},changeType:function(e){var t=e.detail.value/1;this.setData({type:t})},submit:function(){var a={subtype:"submit_return",userkey:e.globalData.userKey,order_id:this.data.param.order_id,order_sn:this.data.param.order_sn,goods_id:this.data.param.goods_id,img:this.data.uploadIng.join(","),type:this.data.type,reason:this.data.comment,spec_key:this.data.param.spec_key};console.log(a),wx.request({url:t+"index.php/Mobile/UserApi/return_goods",method:"GET",header:{"content-type":"application"},data:a,success:function(e){console.log(e)}})},chooseImage:function(){var e=this;console.log("chooseImage"),wx.chooseImage({count:3,sizeType:["compressed"],sourceType:["album"],success:function(a){var o=a.tempFilePaths,i=e.data.imageList||[];i.push(o),e.setData({imageList:i}),o.forEach(function(a,o){e.setData({isComplete:!1}),wx.uploadFile({url:t+"Mobile/Api/uploadfile",filePath:a,name:"file",formData:{act:"comment"},success:function(t){var a=t.data,o=e.data.uploadIng;o.push(a),e.setData({uploadIng:o,isComplete:!0})}})})}})}});var a={getAftersaleDetail:function(a,o){var i=t+"index.php/Mobile/UserApi/return_info",s={userkey:e.globalData.userKey,id:o.id};wx.request({url:i,method:"GET",header:{"content-type":"application"},data:s,success:function(e){var t=e.data;a.setData({detail:t.data})}})},getReturnGood:function(a,o){var i=t+"index.php/Mobile/UserApi/return_goods",s={userkey:e.globalData.userKey,order_id:o.orderid,order_sn:o.ordersn,goods_id:o.goodid,spec_key:o.speckey};wx.request({url:i,method:"GET",header:{"content-type":"application"},data:s,success:function(e){var t=e.data;a.setData({goods:t.goods,param:s})}})}}; 
 			}); 	require("pages/aftersaledetail/aftersaledetail.js");
 		__wxRoute = 'pages/fx-shoporder/fx-shoporder';__wxRouteBegin = true; 	define("pages/fx-shoporder/fx-shoporder.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.config.base;Page({onShow:function(){var t=this;t.setData({page:1}),e.getOrders(t),wx.getSystemInfo({success:function(a){var e=a.windowHeight;t.setData({listHeight:e})}})},loadMore:function(){var t=this,a=t.data.page;1!==t.data.listStatus&&(t.setData({page:a++}),e.getOrders(t))}});var e={getOrders:function(r){wx.showLoading({title:"加载中"});var o=t.globalData.userKey,s=r.data.page||1;wx.request({url:a+"/Mobile/UserApi/getdsaleorder",method:"GET",header:{"content-type":"application"},data:{userkey:o,page:s},success:function(t){wx.hideLoading(),e.renderSummary(r,t.data),e.renderOrderList(r,t.data)}})},renderSummary:function(t,a){a.data.totalPrice=(a.data.order_total_price||0).toFixed(2),a.data.totalCommision=(a.data.order_total_commision||0).toFixed(2),t.setData({summary:a.data,listStatus:a.status})},renderOrderList:function(t,a){var e=t.data.orderList||[],r=a.data.order_goods,o=e.concat(r);t.setData({orderList:o})}}; 
 			}); 	require("pages/fx-shoporder/fx-shoporder.js");
 		__wxRoute = 'pages/fx-mymoney/fx-mymoney';__wxRouteBegin = true; 	define("pages/fx-mymoney/fx-mymoney.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t=a.globalData.config.base;Page({onShow:function(){console.log("fx-mymoney");var a=this;e.getBalance(a),a.setData({curTab:"bank"})},changeMoney:function(a){var t=this,e=a.detail.value,s=t.data.submitObj||{};s.balance=e,t.setData({submitObj:s})},changeMobile:function(a){var t=this,e=a.detail.value,s=t.data.submitObj||{};s.mobile=e,t.setData({submitObj:s})},changeName:function(a){var t=this,e=a.detail.value,s=t.data.submitObj||{};s.cash_name=e,t.setData({submitObj:s})},changeTabInput:function(a){var t=this,e=a.currentTarget.dataset.key,s=a.detail.value,n=t.data.submitObj||{};n[e]=s,t.setData({submitObj:n})},submit:function(){var a=this;e.submit(a)},changetab:function(a){var t=this,e=a.currentTarget.dataset.key;t.setData({curTab:e})}});var e={getBalance:function(e){var s=a.globalData.userKey;wx.request({url:t+"/Mobile/UserApi/getdsalebalance?",method:"GET",header:{"content-type":"application"},data:{userkey:s},success:function(a){e.setData({summary:a.data.data})}})},submit:function(s){var n,u,c=a.globalData.userKey,i=s.data.submitObj,o=s.data.curTab;"bank"===o?(n=0,u=i[o+"count"]):"wechat"===o?(n=1,u=i[o+"count"]):"zhifubao"===o&&(n=2,u=i[o+"count"]);var b={cashtype:n,cash_user:u,cash_name:i.cash_name,balance:i.balance,userkey:c,mobile:i.mobile};wx.request({url:t+"/Mobile/UserApi/cashbalance?",method:"GET",header:{"content-type":"application"},data:b,success:function(a){0===a.data.error&&(wx.showToast({title:"提交申请成功",icon:"success",duration:3e3,success:function(){setTimeout(function(){wx.navigateBack({url:"../user/user"})},2e3)}}),e.getBalance(s))}})}}; 
 			}); 	require("pages/fx-mymoney/fx-mymoney.js");
 		__wxRoute = 'pages/fx-consumeList/fx-consumeList';__wxRouteBegin = true; 	define("pages/fx-consumeList/fx-consumeList.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=t.globalData.config.base;Page({onShow:function(){var t=this;e.getConsumeList(t),wx.getSystemInfo({success:function(a){var e=a.windowHeight-100;t.setData({listHeight:e})}})},loadMore:function(){var t=this,a=t.data.page;1!==t.data.listStatus&&(t.setData({page:a++}),e.getConsumeList(t))}});var e={getConsumeList:function(s){wx.showLoading({title:"加载中"});var n=t.globalData.userKey,i=s.data.page||1;wx.request({url:a+"/Mobile/UserApi/changebalance",method:"GET",header:{"content-type":"application"},data:{userkey:n,page:i},success:function(t){wx.hideLoading(),e.renderConsumList(s,t.data),s.setData({listStatus:t.data.status})}})},renderConsumList:function(t,a){var e=t.data.consumeList||[],s=a.data,n=e.concat(s);t.setData({consumeList:n})}}; 
 			}); 	require("pages/fx-consumeList/fx-consumeList.js");
 		__wxRoute = 'pages/fx-downgrade/fx-downgrade';__wxRouteBegin = true; 	define("pages/fx-downgrade/fx-downgrade.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),e=a.globalData.config.base;Page({onShow:function(){console.log("fx-downgrade");var a=this;t.getPageData(a)},toMemberList:function(){wx.navigateTo({url:"../fx-members/fx-members"})}});var t={getPageData:function(t){var o=a.globalData.userKey;wx.request({url:e+"/Mobile/UserApi/getagentbind",method:"GET",header:{"content-type":"application"},data:{userkey:o},success:function(a){(a=a||{}).data=a.data||{},a.data.data=a.data.data||{};var e=a.data.data;e.one=e.one||0,e.two=e.two||0,e.all=e.all||0,e.month=e.month||0,e.week=e.week||0,e.oneHeight=2*e.one>200?200:2*e.one,e.twoHeight=2*e.two>200?200:2*e.two,t.setData({summary:e})}})}}; 
 			}); 	require("pages/fx-downgrade/fx-downgrade.js");
 		__wxRoute = 'pages/beagent/beagent';__wxRouteBegin = true; 	define("pages/beagent/beagent.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var e=getApp(),a=e.globalData.config.base;Page({data:{},onShareAppMessage:function(){return{title:e.globalData.config.title,path:"/pages/index/index?upperuid="+(wx.getStorageSync("myuid")||wx.getStorageSync("parentuid")||param.upperuid)}},savedata:function(e){var a=e.detail.value+"";this.setData({phone:a.trim()})},jump:function(){var e=this.data.phone;e&&/^1[34578]\d{9}$/.test(e)?wx.navigateTo({url:"../agent/agent?phone="+e}):wx.showToast({title:"请填写手机号",icon:"loading"})},onShow:function(){var t=this;wx.request({url:a+"Mobile/UserApi/isupper",data:{userkey:e.globalData.userKey},success:function(o){var s=!1;0==o.data.error&&o.data.data&&o.data.data.id?t.setData({isBind:!0}):t.setData({isBind:!1}),o.data&&o.data.data&&0===o.data.data.status&&(s=!0),t.setData({unuse:s,userInfo:e.globalData.userInfo.userInfo,config:e.globalData.config,code:a+"Mobile/UserApi/getwxcode?userkey="+e.globalData.userKey})},fail:function(){t.setData({unuse:unuse,isBind:!1,userInfo:e.globalData.userInfo.userInfo,config:e.globalData.config,code:a+"Mobile/UserApi/getwxcode?userkey="+e.globalData.userKey})}})},saveimg:function(){wx.getImageInfo({src:a+"Mobile/UserApi/getwxcode?userkey="+e.globalData.userKey,success:function(t){wx.saveImageToPhotosAlbum({filePath:t.path,success:function(){wx.showToast({title:"保存成功"})},fail:function(){wx.previewImage({urls:[a+"Mobile/UserApi/getwxcode?userkey="+e.globalData.userKey]})}})},fail:function(){wx.previewImage({urls:[a+"Mobile/UserApi/getwxcode?userkey="+e.globalData.userKey]})}}),wx.saveImageToPhotosAlbum()},renderPage:function(){}}); 
 			}); 	require("pages/beagent/beagent.js");
 		__wxRoute = 'pages/fx-members/fx-members';__wxRouteBegin = true; 	define("pages/fx-members/fx-members.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),e=t.globalData.config.base;Page({onShow:function(){var t=this;this.getLevel1(),wx.getSystemInfo({success:function(e){var a=e.windowHeight-50;t.setData({listHeight:a})}})},getLevel1:function(){var t=this;t.setData({page:1,type:1,isLast:!1,memberList:[]}),a.getMemberList(t)},getLevel2:function(){var t=this;t.setData({page:1,type:2,isLast:!1,memberList:[]}),a.getMemberList(t)},loadMore:function(){var t=this;if(!t.data.isLast){var e=t.data.page++;t.setData({page:e}),a.getMemberList(t)}}});var a={getMemberList:function(s){wx.showLoading({title:"加载中"});var i=t.globalData.userKey,n=s.data.page||1,r=s.data.type;wx.request({url:e+"/Mobile/UserApi/getagentbindlist",method:"GET",header:{"content-type":"application"},data:{userkey:i,page:n,type_id:r},success:function(t){wx.hideLoading();var e=t.data;a.renderList(s,e.data),s.setData({isLast:0===e.agentStatus})}})},renderList:function(t,e){var a=(t.data.memberList||[]).concat(e);t.setData({memberList:a})}}; 
 			}); 	require("pages/fx-members/fx-members.js");
 		__wxRoute = 'pages/fx-cashlist/fx-cashlist';__wxRouteBegin = true; 	define("pages/fx-cashlist/fx-cashlist.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var a=getApp(),t=a.globalData.config.base;Page({onShow:function(){var a=this;s.getcashlist(a),wx.getSystemInfo({success:function(t){var s=t.windowHeight-100;a.setData({listHeight:s})}})},loadMore:function(){var a=this,t=a.data.page;1!==a.data.listStatus&&(a.setData({page:t++}),s.getcashlist(a))}});var s={getcashlist:function(e){wx.showLoading({title:"加载中"});var i=a.globalData.userKey,n=e.data.page||1;wx.request({url:t+"/Mobile/UserApi/cashbalancelist",method:"GET",header:{"content-type":"application"},data:{userkey:i,page:n},success:function(a){wx.hideLoading(),s.renderCashList(e,a.data),e.setData({listStatus:a.data.status})}})},renderCashList:function(a,t){var s=a.data.cashlist||[],e=t.data,i=s.concat(e);a.setData({cashlist:i})}}; 
 			}); 	require("pages/fx-cashlist/fx-cashlist.js");
 		__wxRoute = 'pages/dateils/dateils';__wxRouteBegin = true; 	define("pages/dateils/dateils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			
"use strict";var t=getApp(),a=require("../../utils/wxRequest"),e=require("../../wxParse/wxParse"),n=t.globalData.config.base;Page({data:{},onLoad:function(t){var a=t.id;o.render(this,a)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:t.globalData.config.title,path:"/pages/dateils/dateils",data:{data:data},success:function(t){},fail:function(t){}}}});var o={render:function(t,o){var i=n+"/Mobile/Api/getArticle";if(o){var c={article_id:o};a.wxGet(i,c,function(a){console.log("文章",a),e.wxParse("imageText","html",a.data.content,t,0),t.setData({article:a.data})})}else wx.showToast({title:"数据加载失败,无acticalId",duration:"2000",mask:!0})}}; 
 			}); 	require("pages/dateils/dateils.js");
 	